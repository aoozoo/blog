
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="azoo">
      
      
        <link rel="canonical" href="https://aoozoo.github.io/blog/Kubernetes/%E9%9F%A9%E5%85%88%E8%B6%85/013/">
      
      
        <link rel="prev" href="../012/">
      
      
        <link rel="next" href="../014/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.28">
    
    
      
        <title>第十二章 kubeadm搭建k8s集群-本课程基于此版本实验-必看 - aoozoo'blog</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#第十二章-kubeadm搭建k8s集群-本课程基于此版本实验-必看" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="aoozoo&#39;blog" class="md-header__button md-logo" aria-label="aoozoo'blog" data-md-component="logo">
      
  <img src="https://avatars.githubusercontent.com/u/15232738?v=4&size=64" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            aoozoo'blog
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              第十二章 kubeadm搭建k8s集群-本课程基于此版本实验-必看
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/aoozoo/blog" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    aoozoo/blog
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Blog

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../2022%E9%A9%AC%E5%93%A5Devops%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91%E9%AB%98%E8%96%AA%E7%8F%AD/" class="md-tabs__link">
        
  
    
  
  年薪50w-Devops运维开发架构师

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../Linux%20%E5%91%BD%E4%BB%A4/" class="md-tabs__link">
        
  
    
  
  Linux 下面的常用命令

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../ex/" class="md-tabs__link">
        
  
    
  
  ex

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../github%E5%B7%A5%E4%BD%9C%E6%B5%81/" class="md-tabs__link">
        
  
    
  
  Github工作流

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../%E6%90%AD%E5%BB%BA%E6%9C%AC%E5%8D%9A%E5%AE%A2/" class="md-tabs__link">
        
  
    
  
  本博客是如何搭建的

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../%E8%BF%90%E7%BB%B4%E5%8D%9A%E5%AE%A2%E6%94%B6%E9%9B%86/" class="md-tabs__link">
        
  
    
  
  运维博客收集

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../001/" class="md-tabs__link">
          
  
    
  
  Kubernetes

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../MySQL/MySQL%20%E6%98%AF%E6%80%8E%E6%A0%B7%E4%BD%BF%E7%94%A8%E7%9A%84-%E4%BB%8E%E9%9B%B6%E8%9B%8B%E5%BC%80%E5%A7%8B%E5%AD%A6%E4%B9%A0%20MySQL/00/" class="md-tabs__link">
          
  
    
  
  MySQL

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E4%B8%AD%E9%97%B4%E4%BB%B6/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/%E4%B8%89%E5%A4%A7%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%89%B9%E7%82%B9/" class="md-tabs__link">
          
  
    
  
  中间件

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  归档

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="aoozoo&#39;blog" class="md-nav__button md-logo" aria-label="aoozoo'blog" data-md-component="logo">
      
  <img src="https://avatars.githubusercontent.com/u/15232738?v=4&size=64" alt="logo">

    </a>
    aoozoo'blog
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/aoozoo/blog" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    aoozoo/blog
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blog
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../2022%E9%A9%AC%E5%93%A5Devops%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91%E9%AB%98%E8%96%AA%E7%8F%AD/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    年薪50w-Devops运维开发架构师
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Linux%20%E5%91%BD%E4%BB%A4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linux 下面的常用命令
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ex
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../github%E5%B7%A5%E4%BD%9C%E6%B5%81/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Github工作流
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%90%AD%E5%BB%BA%E6%9C%AC%E5%8D%9A%E5%AE%A2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    本博客是如何搭建的
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E8%BF%90%E7%BB%B4%E5%8D%9A%E5%AE%A2%E6%94%B6%E9%9B%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    运维博客收集
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
    
    
      
        
        
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Kubernetes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Kubernetes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1" checked>
        
          
          <label class="md-nav__link" for="__nav_8_1" id="__nav_8_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    韩先超
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8_1">
            <span class="md-nav__icon md-icon"></span>
            韩先超
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../001/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [2024]kubernetes/k8s+DevOps云原生全栈技术:基于世界1000强实战课程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../002/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    课程大纲内容介绍
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../003/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    课程更新通知
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../004/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第三章 K8s必备知识-Docker容器基础入门
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../005/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第四章 k8s弃用docker，青睐containerd的原因分析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../006/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第五章 dockerfile基础篇-基本语法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../007/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第六章 dockerfile实战篇-构建企业镜像
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../008/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第七章 docker运行容器并进行数据持久化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../009/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第八章 docker容器网络核心技术讲解
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../010/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第九章 docker资源配额
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../011/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第十章 存放docker镜像的私有仓库harbor安装配置和使用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../012/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第十一章 k8s入门篇：架构-组件-核心资源
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    第十二章 kubeadm搭建k8s集群-本课程基于此版本实验-必看
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    第十二章 kubeadm搭建k8s集群-本课程基于此版本实验-必看
  </span>
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#kubeadm-安装-1-master-2-nodes-集群" class="md-nav__link">
    <span class="md-ellipsis">
      kubeadm 安装 1 master 2 nodes 集群
    </span>
  </a>
  
    <nav class="md-nav" aria-label="kubeadm 安装 1 master 2 nodes 集群">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#修改机器ip变成静态ip" class="md-nav__link">
    <span class="md-ellipsis">
      修改机器IP，变成静态IP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#配置机器主机名" class="md-nav__link">
    <span class="md-ellipsis">
      配置机器主机名
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#配置主机hosts文件相互之间通过主机名互相访问" class="md-nav__link">
    <span class="md-ellipsis">
      配置主机hosts文件，相互之间通过主机名互相访问
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#配置主机之间无密码登录" class="md-nav__link">
    <span class="md-ellipsis">
      配置主机之间无密码登录
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#关闭交换分区swap提升性能" class="md-nav__link">
    <span class="md-ellipsis">
      关闭交换分区swap，提升性能
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#修改机器内核参数" class="md-nav__link">
    <span class="md-ellipsis">
      修改机器内核参数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#关闭firewalld防火墙" class="md-nav__link">
    <span class="md-ellipsis">
      关闭firewalld防火墙
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#关闭selinux" class="md-nav__link">
    <span class="md-ellipsis">
      关闭selinux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#配置阿里云的-yum-repo-源" class="md-nav__link">
    <span class="md-ellipsis">
      配置阿里云的 yum repo 源
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#配置国内阿里云docker的repo源" class="md-nav__link">
    <span class="md-ellipsis">
      配置国内阿里云docker的repo源
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#配置安装k8s组件需要的阿里云的-repo-源" class="md-nav__link">
    <span class="md-ellipsis">
      配置安装k8s组件需要的阿里云的 repo 源
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#配置时间同步" class="md-nav__link">
    <span class="md-ellipsis">
      配置时间同步
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#开启ipvs" class="md-nav__link">
    <span class="md-ellipsis">
      开启ipvs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#安装基础软件包" class="md-nav__link">
    <span class="md-ellipsis">
      安装基础软件包
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#安装iptables" class="md-nav__link">
    <span class="md-ellipsis">
      安装iptables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#安装docker服务" class="md-nav__link">
    <span class="md-ellipsis">
      安装docker服务
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#安装初始化k8s需要的软件包" class="md-nav__link">
    <span class="md-ellipsis">
      安装初始化k8s需要的软件包
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubeadm初始化k8s集群" class="md-nav__link">
    <span class="md-ellipsis">
      kubeadm初始化k8s集群
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#配置kubectl的配置文件" class="md-nav__link">
    <span class="md-ellipsis">
      配置kubectl的配置文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#添加第一个工作节点" class="md-nav__link">
    <span class="md-ellipsis">
      添加第一个工作节点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#安装kubernetes网络组件-calico" class="md-nav__link">
    <span class="md-ellipsis">
      安装kubernetes网络组件-Calico
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#测试网络" class="md-nav__link">
    <span class="md-ellipsis">
      测试网络
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../014/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第十六章 pod基础篇：入门知识讲解
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../015/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    015
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../016/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    016
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../017/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    017
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../018/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    018
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../019/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    019
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../020/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    020
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../021/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    021
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../022/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    022
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../023/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    023
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../024/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    024
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../025/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    025
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../026/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    026
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../027/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    027
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../028/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    028
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../029/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    029
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../030/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    030
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../031/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    031
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../032/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    032
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../033/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    033
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../034/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    034
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../035/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    035
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../036/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    036
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../037/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    037
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../038/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    038
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../039/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    039
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../040/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    040
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../041/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    041
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../042/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    042
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../043/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    043
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../044/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    044
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../045/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    045
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../046/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    046
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../047/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    047
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../048/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    048
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../049/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    049
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../050/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    050
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../051/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    051
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../052/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    052
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../053/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    053
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../054/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    054
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../055/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    055
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../056/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    056
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../057/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    057
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../058/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    058
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../059/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    059
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../060/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    060
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../061/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    061
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../062/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    062
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../063/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    063
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../064/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    064
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../065/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    065
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../066/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    066
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../067/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    067
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../068/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    068
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../069/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    069
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../070/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    070
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../071/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    071
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../072/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    072
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../073/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    073
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../074/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    074
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../075/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    075
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../076/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    076
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../077/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    077
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../078/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    078
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../079/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    079
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../080/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    080
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../081/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    081
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../082/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    082
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../083/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    083
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../084/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    084
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../085/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    085
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../086/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    086
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../087/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    087
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../088/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    088
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../089/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    089
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../090/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    090
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../091/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    091
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../092/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    092
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../093/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    093
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../094/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    094
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../095/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    095
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../096/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    096
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../097/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    097
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../098/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    098
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../099/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    099
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../100/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    100
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    <a href="../../../MySQL/MySQL%20%E6%98%AF%E6%80%8E%E6%A0%B7%E4%BD%BF%E7%94%A8%E7%9A%84-%E4%BB%8E%E9%9B%B6%E8%9B%8B%E5%BC%80%E5%A7%8B%E5%AD%A6%E4%B9%A0%20MySQL/00/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    MySQL
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    <a href="../../../%E4%B8%AD%E9%97%B4%E4%BB%B6/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/%E4%B8%89%E5%A4%A7%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%89%B9%E7%82%B9/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    中间件
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    归档
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#kubeadm-安装-1-master-2-nodes-集群" class="md-nav__link">
    <span class="md-ellipsis">
      kubeadm 安装 1 master 2 nodes 集群
    </span>
  </a>
  
    <nav class="md-nav" aria-label="kubeadm 安装 1 master 2 nodes 集群">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#修改机器ip变成静态ip" class="md-nav__link">
    <span class="md-ellipsis">
      修改机器IP，变成静态IP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#配置机器主机名" class="md-nav__link">
    <span class="md-ellipsis">
      配置机器主机名
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#配置主机hosts文件相互之间通过主机名互相访问" class="md-nav__link">
    <span class="md-ellipsis">
      配置主机hosts文件，相互之间通过主机名互相访问
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#配置主机之间无密码登录" class="md-nav__link">
    <span class="md-ellipsis">
      配置主机之间无密码登录
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#关闭交换分区swap提升性能" class="md-nav__link">
    <span class="md-ellipsis">
      关闭交换分区swap，提升性能
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#修改机器内核参数" class="md-nav__link">
    <span class="md-ellipsis">
      修改机器内核参数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#关闭firewalld防火墙" class="md-nav__link">
    <span class="md-ellipsis">
      关闭firewalld防火墙
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#关闭selinux" class="md-nav__link">
    <span class="md-ellipsis">
      关闭selinux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#配置阿里云的-yum-repo-源" class="md-nav__link">
    <span class="md-ellipsis">
      配置阿里云的 yum repo 源
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#配置国内阿里云docker的repo源" class="md-nav__link">
    <span class="md-ellipsis">
      配置国内阿里云docker的repo源
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#配置安装k8s组件需要的阿里云的-repo-源" class="md-nav__link">
    <span class="md-ellipsis">
      配置安装k8s组件需要的阿里云的 repo 源
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#配置时间同步" class="md-nav__link">
    <span class="md-ellipsis">
      配置时间同步
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#开启ipvs" class="md-nav__link">
    <span class="md-ellipsis">
      开启ipvs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#安装基础软件包" class="md-nav__link">
    <span class="md-ellipsis">
      安装基础软件包
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#安装iptables" class="md-nav__link">
    <span class="md-ellipsis">
      安装iptables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#安装docker服务" class="md-nav__link">
    <span class="md-ellipsis">
      安装docker服务
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#安装初始化k8s需要的软件包" class="md-nav__link">
    <span class="md-ellipsis">
      安装初始化k8s需要的软件包
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubeadm初始化k8s集群" class="md-nav__link">
    <span class="md-ellipsis">
      kubeadm初始化k8s集群
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#配置kubectl的配置文件" class="md-nav__link">
    <span class="md-ellipsis">
      配置kubectl的配置文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#添加第一个工作节点" class="md-nav__link">
    <span class="md-ellipsis">
      添加第一个工作节点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#安装kubernetes网络组件-calico" class="md-nav__link">
    <span class="md-ellipsis">
      安装kubernetes网络组件-Calico
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#测试网络" class="md-nav__link">
    <span class="md-ellipsis">
      测试网络
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="第十二章-kubeadm搭建k8s集群-本课程基于此版本实验-必看">第十二章 kubeadm搭建k8s集群-本课程基于此版本实验-必看<a class="headerlink" href="#第十二章-kubeadm搭建k8s集群-本课程基于此版本实验-必看" title="Anchor link to this section for reference">&para;</a></h1>
<h2 id="kubeadm-安装-1-master-2-nodes-集群">kubeadm 安装 1 master 2 nodes 集群<a class="headerlink" href="#kubeadm-安装-1-master-2-nodes-集群" title="Anchor link to this section for reference">&para;</a></h2>
<p>本次安装的 K8S 的版本是： 1.23.1</p>
<p>podSubnet（pod网段） 10.244.0.0/16</p>
<p>serviceSubnet（service网段）: 10.10.0.0/16</p>
<p>实验环境规划：</p>
<p>操作系统：centos7.6</p>
<p>配置： 4Gib内存/6vCPU/100G硬盘</p>
<p>网络：NAT</p>
<p>开启虚拟机的虚拟化：</p>
<p><img alt="image-20240708151408986" src="https://imgs.ilee.xyz/img/image-20240708151408986.png" /></p>
<p><img alt="image-20240708151521755" src="https://imgs.ilee.xyz/img/image-20240708151521755.png" /></p>
<p><strong>kubeadm和二进制安装k8s适用场景分析</strong></p>
<p>kubeadm是官方提供的开源工具，是一个开源项目，用于快速搭建kubernetes集群，目前是比较方便和推荐使用的。</p>
<p>kubeadm init 以及 kubeadm join 这两个命令可以快速创建 kubernetes 集群。Kubeadm初始化k8s，</p>
<p>所有的组件都是以pod形式运行的，具备故障自恢复能力。</p>
<p>kubeadm是工具，可以快速搭建集群，也就是相当于用程序脚本帮我们装好了集群，属于自动部署，简化部署操作，</p>
<p><strong>证书、组件资源清单文件都是自动创建的，</strong>自动部署屏蔽了很多细节，使得对各个模块感知很少，如果对k8s架构组件理解不深的话，遇到问题比较难排查。</p>
<p>kubeadm适合需要经常部署k8s，或者对自动化要求比较高的场景下使用。</p>
<p>二进制：在官网下载相关组件的二进制包，如果手动安装，对kubernetes理解也会更全面。 </p>
<p>Kubeadm和二进制都适合生产环境，在生产环境运行都很稳定，具体如何选择，可以根据实际项目进行评估。</p>
<h3 id="修改机器ip变成静态ip">修改机器IP，变成静态IP<a class="headerlink" href="#修改机器ip变成静态ip" title="Anchor link to this section for reference">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>vim /etc/sysconfig/network-scripts/ifcfg-ens33
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>BOOTPROTO=static
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>IPADDR=192.168.40.180
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>NETMASK=255.255.255.0
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>GATEWAY=192.168.40.2
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>DNS1=192.168.40.2
</span></code></pre></div>
<p>修改配置文件之后需要重启网络服务才能使配置生效，重启网络服务命令如下：</p>
<p><code>service network restart</code></p>
<h3 id="配置机器主机名">配置机器主机名<a class="headerlink" href="#配置机器主机名" title="Anchor link to this section for reference">&para;</a></h3>
<p>在<code>192.168.40.180</code>上执行如下：</p>
<p>hostnamectl set-hostname xianchaomaster1 &amp;&amp; bash</p>
<p>在<code>192.168.40.181</code>上执行如下：</p>
<p>hostnamectl set-hostname xianchaonode1 &amp;&amp; bash</p>
<p>在<code>192.168.40.182</code>上执行如下：</p>
<p>hostnamectl set-hostname xianchaonode2 &amp;&amp; bash</p>
<h3 id="配置主机hosts文件相互之间通过主机名互相访问">配置主机hosts文件，相互之间通过主机名互相访问<a class="headerlink" href="#配置主机hosts文件相互之间通过主机名互相访问" title="Anchor link to this section for reference">&para;</a></h3>
<p>修改每台机器的/etc/hosts文件，增加如下三行</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>echo &#39;&#39;&#39;192.168.40.180   xianchaomaster1  
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>192.168.40.181   xianchaonode1  
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>192.168.40.182   xianchaonode2  &#39;&#39;&#39; &gt;&gt; /etc/hosts
</span></code></pre></div>
<h3 id="配置主机之间无密码登录">配置主机之间无密码登录<a class="headerlink" href="#配置主机之间无密码登录" title="Anchor link to this section for reference">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>ssh-keygen -t rsa -b 4096 -f ~/.ssh/id_rsa -N &quot;&quot;
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>ssh-copy-id xianchaomaster1
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>ssh-copy-id xianchaonode1
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>ssh-copy-id xianchaonode2
</span></code></pre></div>
<p>三台机器每台都需要执行一遍上面的命令</p>
<h3 id="关闭交换分区swap提升性能">关闭交换分区swap，提升性能<a class="headerlink" href="#关闭交换分区swap提升性能" title="Anchor link to this section for reference">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>swapoff -a
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a># 永久关闭：注释swap挂载，给swap这行开头加一下注释
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>sed -ri &#39;s|^/dev/mapper/centos-swap|#/dev/mapper/centos-swap|g&#39; /etc/fstab
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a># 如果是克隆的虚拟机，需要删除UUID
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>sed -i /UUID/d /etc/fstab 
</span></code></pre></div>
<p>Kubeadm初始化的时候会检测swap是否关闭，如果没关闭，那就初始化失败。如果不想要关闭交换分区，安装k8s的时候可以指定 --ignore-preflight-errors=swap 来解决。</p>
<h3 id="修改机器内核参数">修改机器内核参数<a class="headerlink" href="#修改机器内核参数" title="Anchor link to this section for reference">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>modprobe br_netfilter
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>echo &quot;modprobe br_netfilter&quot; &gt;&gt; /etc/profile
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>cat &gt; /etc/sysctl.d/k8s.conf &lt;&lt;EOF
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>net.bridge.bridge-nf-call-ip6tables = 1
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>net.bridge.bridge-nf-call-iptables = 1
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>net.ipv4.ip_forward = 1
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>EOF
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>sysctl -p /etc/sysctl.d/k8s.conf
</span></code></pre></div>
<h3 id="关闭firewalld防火墙">关闭firewalld防火墙<a class="headerlink" href="#关闭firewalld防火墙" title="Anchor link to this section for reference">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>systemctl stop firewalld ; systemctl disable firewalld
</span></code></pre></div>
<h3 id="关闭selinux">关闭selinux<a class="headerlink" href="#关闭selinux" title="Anchor link to this section for reference">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>setenforce 0
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>sed -i &#39;s/SELINUX=enforcing/SELINUX=disabled/g&#39; /etc/selinux/config
</span></code></pre></div>
<h3 id="配置阿里云的-yum-repo-源">配置阿里云的 yum repo 源<a class="headerlink" href="#配置阿里云的-yum-repo-源" title="Anchor link to this section for reference">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>yum clean all 
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>yum makecache
</span></code></pre></div>
<h3 id="配置国内阿里云docker的repo源">配置国内阿里云docker的repo源<a class="headerlink" href="#配置国内阿里云docker的repo源" title="Anchor link to this section for reference">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>yum install yum-utils -y
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
</span></code></pre></div>
<h3 id="配置安装k8s组件需要的阿里云的-repo-源">配置安装k8s组件需要的阿里云的 repo 源<a class="headerlink" href="#配置安装k8s组件需要的阿里云的-repo-源" title="Anchor link to this section for reference">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>echo &#39;&#39;&#39;[kubernetes]
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>name=Kubernetes
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>enabled=1
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>gpgcheck=0&#39;&#39;&#39; &gt; /etc/yum.repos.d/kubernetes.repo
</span></code></pre></div>
<h3 id="配置时间同步">配置时间同步<a class="headerlink" href="#配置时间同步" title="Anchor link to this section for reference">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>yum install ntpdate -y
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>ntpdate cn.pool.ntp.org
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>echo &#39;* */1 * * * /usr/sbin/ntpdate   cn.pool.ntp.org&#39; &gt;&gt; /var/spool/cron/root
</span></code></pre></div>
<h3 id="开启ipvs">开启ipvs<a class="headerlink" href="#开启ipvs" title="Anchor link to this section for reference">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>echo &#39;&#39;&#39;#!/bin/bash
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>ipvs_modules=&quot;ip_vs ip_vs_lc ip_vs_wlc ip_vs_rr ip_vs_wrr ip_vs_lblc ip_vs_lblcr ip_vs_dh ip_vs_sh ip_vs_nq ip_vs_sed ip_vs_ftp nf_conntrack&quot;
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>for kernel_module in ${ipvs_modules}; do
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a> /sbin/modinfo -F filename ${kernel_module} &gt; /dev/null 2&gt;&amp;1
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a> if [ 0 -eq 0 ]; then
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a> /sbin/modprobe ${kernel_module}
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a> fi
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>done&#39;&#39;&#39; &gt; /etc/sysconfig/modules/ipvs.modules
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>chmod 755 /etc/sysconfig/modules/ipvs.modules &amp;&amp; bash /etc/sysconfig/modules/ipvs.modules &amp;&amp; lsmod | grep ip_vs
</span></code></pre></div>
<p>kube-proxy支持 iptables 和 ipvs 两种模式， 在kubernetes v1.8 中引入了 ipvs 模式，在 v1.9 中处于 beta 阶段，在 v1.11 中已经正式可用了。</p>
<p>iptables 模式在 v1.1 中就添加支持了，从 v1.2 版本开始 iptables 就是 kube-proxy 默认的操作模式，</p>
<p>ipvs 和 iptables 都是基于netfilter的，但是ipvs采用的是hash表，因此当service数量达到一定规模时，hash查表的速度优势就会显现出来，从而提高service的服务性能。</p>
<p>那么 ipvs 模式和 iptables 模式之间有哪些差异呢？</p>
<ol>
<li>ipvs 为大型集群提供了更好的可扩展性和性能</li>
<li>ipvs 支持比 iptables 更复杂的复制均衡算法（最小负载、最少连接、加权等等）</li>
<li>ipvs 支持服务器健康检查和连接重试等功能</li>
</ol>
<h3 id="安装基础软件包">安装基础软件包<a class="headerlink" href="#安装基础软件包" title="Anchor link to this section for reference">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>yum install -y yum-utils device-mapper-persistent-data lvm2 wget net-tools nfs-utils lrzsz gcc gcc-c++ make cmake libxml2-devel openssl-devel curl curl-devel unzip sudo ntp libaio-devel wget vim ncurses-devel autoconf automake zlib-devel  python-devel epel-release openssh-server socat  ipvsadm conntrack ntpdate telnet ipvsadm
</span></code></pre></div>
<h3 id="安装iptables">安装iptables<a class="headerlink" href="#安装iptables" title="Anchor link to this section for reference">&para;</a></h3>
<p>如果用firewalld不习惯，可以安装iptables</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>#安装iptables
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>yum install iptables-services -y
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>#禁用iptables
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>service iptables stop   &amp;&amp; systemctl disable iptables
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>#清空防火墙规则
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>iptables -F
</span></code></pre></div>
<h3 id="安装docker服务">安装docker服务<a class="headerlink" href="#安装docker服务" title="Anchor link to this section for reference">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>yum install docker-ce -y
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>systemctl start docker &amp;&amp; systemctl enable docker.service
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a># 配置docker镜像加速器和驱动，修改docker文件驱动为systemd，默认为cgroupfs，kubelet默认使用systemd，两者必须一致才可以
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>echo &#39;&#39;&#39;{
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a> &quot;registry-mirrors&quot;:[&quot;https://rsbud4vc.mirror.aliyuncs.com&quot;,&quot;https://registry.docker-cn.com&quot;,&quot;https://docker.mirrors.ustc.edu.cn&quot;,&quot;https://dockerhub.azk8s.cn&quot;,&quot;http://hub-mirror.c.163.com&quot;,&quot;http://qtid6917.mirror.aliyuncs.com&quot;, &quot;https://rncxm540.mirror.aliyuncs.com&quot;],
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>  &quot;exec-opts&quot;: [&quot;native.cgroupdriver=systemd&quot;]
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>}&#39;&#39;&#39; &gt; /etc/docker/daemon.json
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>systemctl daemon-reload  &amp;&amp; systemctl restart docker
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>systemctl status docker
</span></code></pre></div>
<h3 id="安装初始化k8s需要的软件包">安装初始化k8s需要的软件包<a class="headerlink" href="#安装初始化k8s需要的软件包" title="Anchor link to this section for reference">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>yum install -y kubelet-1.23.1 kubeadm-1.23.1 kubectl-1.23.1
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>systemctl enable kubelet
</span></code></pre></div>
<p>kubeadm:  kubeadm是一个工具，用来初始化k8s集群的</p>
<p>kubelet:   安装在集群所有节点上，用于启动Pod的</p>
<p>kubectl:   通过kubectl可以部署和管理应用，查看各种资源，创建、删除和更新各种组件</p>
<h3 id="kubeadm初始化k8s集群">kubeadm初始化k8s集群<a class="headerlink" href="#kubeadm初始化k8s集群" title="Anchor link to this section for reference">&para;</a></h3>
<p>把初始化k8s集群需要的离线镜像包上传</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>docker load -i k8s-images-v1.23.1.tar.gz
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>kubeadm init --kubernetes-version=1.23.1  --apiserver-advertise-address=192.168.40.180  --image-repository registry.aliyuncs.com/google_containers  --pod-network-cidr=10.244.0.0/16 --ignore-preflight-errors=SystemVerification
</span></code></pre></div>
<p>--image-repository registry.aliyuncs.com/google_containers：手动指定仓库地址为registry.aliyuncs.com/google_containers。</p>
<p>kubeadm默认从k8s.grc.io拉取镜像，但是k8s.gcr.io访问不到，所以需要指定从registry.aliyuncs.com/google_containers仓库拉取镜像。</p>
<p>显示如下，说明安装完成：</p>
<p><img alt="image-20240708154740578" src="https://imgs.ilee.xyz/img/image-20240708154740578.png" /></p>
<p>kubeadm join 192.168.40.180:6443 --token 45hu4z.3xi8e4k4gvp0wr42 \
    --discovery-token-ca-cert-hash sha256:55a7c501064bb9776547642ed77429e36f3657499ac8134417701bc639f60b0c </p>
<p>上面命令是把node节点加入集群，需要保存下来，每个人的都不一样</p>
<h3 id="配置kubectl的配置文件">配置kubectl的配置文件<a class="headerlink" href="#配置kubectl的配置文件" title="Anchor link to this section for reference">&para;</a></h3>
<p>配置kubectl的配置文件config，相当于对kubectl进行授权，这样kubectl命令可以使用这个证书对k8s集群进行管理</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>mkdir -p $HOME/.kube
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>udo chown $(id -u):$(id -g) $HOME/.kube/config
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>kubectl get nodes
</span></code></pre></div>
<p>此时集群状态还是NotReady状态，因为没有安装网络插件。</p>
<h3 id="添加第一个工作节点">添加第一个工作节点<a class="headerlink" href="#添加第一个工作节点" title="Anchor link to this section for reference">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>kubeadm token create --print-join-command
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a># 然后在要当作工作节点的机器，执行输出的命了，类似如下
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a># kubeadm join 192.168.40.180:6443 --token 305js3.u6psfip03im6b5sy --discovery-token-ca-cert-hash sha256:55a7c501064bb9776547642ed77429e36f3657499ac8134417701bc639f60b0c 
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>kubectl get nodes
</span></code></pre></div>
<p>状态都是NotReady状态，说明没有安装网络插件</p>
<h3 id="安装kubernetes网络组件-calico">安装kubernetes网络组件-Calico<a class="headerlink" href="#安装kubernetes网络组件-calico" title="Anchor link to this section for reference">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>[root@xianchaomaster1 ~]# cat calico.yaml 
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>---
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a># Source: calico/templates/calico-config.yaml
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a># This ConfigMap is used to configure a self-hosted Calico installation.
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>kind: ConfigMap
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>apiVersion: v1
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>metadata:
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>  name: calico-config
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>  namespace: kube-system
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>data:
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>  # Typha is disabled.
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>  typha_service_name: &quot;none&quot;
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a>  # Configure the backend to use.
</span><span id="__span-19-14"><a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a>  calico_backend: &quot;bird&quot;
</span><span id="__span-19-15"><a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a>
</span><span id="__span-19-16"><a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a>  # Configure the MTU to use for workload interfaces and tunnels.
</span><span id="__span-19-17"><a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a>  # By default, MTU is auto-detected, and explicitly setting this field should not be required.
</span><span id="__span-19-18"><a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a>  # You can override auto-detection by providing a non-zero value.
</span><span id="__span-19-19"><a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a>  veth_mtu: &quot;0&quot;
</span><span id="__span-19-20"><a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a>
</span><span id="__span-19-21"><a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a>  # The CNI network configuration to install on each node. The special
</span><span id="__span-19-22"><a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a>  # values in this config will be automatically populated.
</span><span id="__span-19-23"><a id="__codelineno-19-23" name="__codelineno-19-23" href="#__codelineno-19-23"></a>  cni_network_config: |-
</span><span id="__span-19-24"><a id="__codelineno-19-24" name="__codelineno-19-24" href="#__codelineno-19-24"></a>    {
</span><span id="__span-19-25"><a id="__codelineno-19-25" name="__codelineno-19-25" href="#__codelineno-19-25"></a>      &quot;name&quot;: &quot;k8s-pod-network&quot;,
</span><span id="__span-19-26"><a id="__codelineno-19-26" name="__codelineno-19-26" href="#__codelineno-19-26"></a>      &quot;cniVersion&quot;: &quot;0.3.1&quot;,
</span><span id="__span-19-27"><a id="__codelineno-19-27" name="__codelineno-19-27" href="#__codelineno-19-27"></a>      &quot;plugins&quot;: [
</span><span id="__span-19-28"><a id="__codelineno-19-28" name="__codelineno-19-28" href="#__codelineno-19-28"></a>        {
</span><span id="__span-19-29"><a id="__codelineno-19-29" name="__codelineno-19-29" href="#__codelineno-19-29"></a>          &quot;type&quot;: &quot;calico&quot;,
</span><span id="__span-19-30"><a id="__codelineno-19-30" name="__codelineno-19-30" href="#__codelineno-19-30"></a>          &quot;log_level&quot;: &quot;info&quot;,
</span><span id="__span-19-31"><a id="__codelineno-19-31" name="__codelineno-19-31" href="#__codelineno-19-31"></a>          &quot;log_file_path&quot;: &quot;/var/log/calico/cni/cni.log&quot;,
</span><span id="__span-19-32"><a id="__codelineno-19-32" name="__codelineno-19-32" href="#__codelineno-19-32"></a>          &quot;datastore_type&quot;: &quot;kubernetes&quot;,
</span><span id="__span-19-33"><a id="__codelineno-19-33" name="__codelineno-19-33" href="#__codelineno-19-33"></a>          &quot;nodename&quot;: &quot;__KUBERNETES_NODE_NAME__&quot;,
</span><span id="__span-19-34"><a id="__codelineno-19-34" name="__codelineno-19-34" href="#__codelineno-19-34"></a>          &quot;mtu&quot;: __CNI_MTU__,
</span><span id="__span-19-35"><a id="__codelineno-19-35" name="__codelineno-19-35" href="#__codelineno-19-35"></a>          &quot;ipam&quot;: {
</span><span id="__span-19-36"><a id="__codelineno-19-36" name="__codelineno-19-36" href="#__codelineno-19-36"></a>              &quot;type&quot;: &quot;calico-ipam&quot;
</span><span id="__span-19-37"><a id="__codelineno-19-37" name="__codelineno-19-37" href="#__codelineno-19-37"></a>          },
</span><span id="__span-19-38"><a id="__codelineno-19-38" name="__codelineno-19-38" href="#__codelineno-19-38"></a>          &quot;policy&quot;: {
</span><span id="__span-19-39"><a id="__codelineno-19-39" name="__codelineno-19-39" href="#__codelineno-19-39"></a>              &quot;type&quot;: &quot;k8s&quot;
</span><span id="__span-19-40"><a id="__codelineno-19-40" name="__codelineno-19-40" href="#__codelineno-19-40"></a>          },
</span><span id="__span-19-41"><a id="__codelineno-19-41" name="__codelineno-19-41" href="#__codelineno-19-41"></a>          &quot;kubernetes&quot;: {
</span><span id="__span-19-42"><a id="__codelineno-19-42" name="__codelineno-19-42" href="#__codelineno-19-42"></a>              &quot;kubeconfig&quot;: &quot;__KUBECONFIG_FILEPATH__&quot;
</span><span id="__span-19-43"><a id="__codelineno-19-43" name="__codelineno-19-43" href="#__codelineno-19-43"></a>          }
</span><span id="__span-19-44"><a id="__codelineno-19-44" name="__codelineno-19-44" href="#__codelineno-19-44"></a>        },
</span><span id="__span-19-45"><a id="__codelineno-19-45" name="__codelineno-19-45" href="#__codelineno-19-45"></a>        {
</span><span id="__span-19-46"><a id="__codelineno-19-46" name="__codelineno-19-46" href="#__codelineno-19-46"></a>          &quot;type&quot;: &quot;portmap&quot;,
</span><span id="__span-19-47"><a id="__codelineno-19-47" name="__codelineno-19-47" href="#__codelineno-19-47"></a>          &quot;snat&quot;: true,
</span><span id="__span-19-48"><a id="__codelineno-19-48" name="__codelineno-19-48" href="#__codelineno-19-48"></a>          &quot;capabilities&quot;: {&quot;portMappings&quot;: true}
</span><span id="__span-19-49"><a id="__codelineno-19-49" name="__codelineno-19-49" href="#__codelineno-19-49"></a>        },
</span><span id="__span-19-50"><a id="__codelineno-19-50" name="__codelineno-19-50" href="#__codelineno-19-50"></a>        {
</span><span id="__span-19-51"><a id="__codelineno-19-51" name="__codelineno-19-51" href="#__codelineno-19-51"></a>          &quot;type&quot;: &quot;bandwidth&quot;,
</span><span id="__span-19-52"><a id="__codelineno-19-52" name="__codelineno-19-52" href="#__codelineno-19-52"></a>          &quot;capabilities&quot;: {&quot;bandwidth&quot;: true}
</span><span id="__span-19-53"><a id="__codelineno-19-53" name="__codelineno-19-53" href="#__codelineno-19-53"></a>        }
</span><span id="__span-19-54"><a id="__codelineno-19-54" name="__codelineno-19-54" href="#__codelineno-19-54"></a>      ]
</span><span id="__span-19-55"><a id="__codelineno-19-55" name="__codelineno-19-55" href="#__codelineno-19-55"></a>    }
</span><span id="__span-19-56"><a id="__codelineno-19-56" name="__codelineno-19-56" href="#__codelineno-19-56"></a>
</span><span id="__span-19-57"><a id="__codelineno-19-57" name="__codelineno-19-57" href="#__codelineno-19-57"></a>---
</span><span id="__span-19-58"><a id="__codelineno-19-58" name="__codelineno-19-58" href="#__codelineno-19-58"></a># Source: calico/templates/kdd-crds.yaml
</span><span id="__span-19-59"><a id="__codelineno-19-59" name="__codelineno-19-59" href="#__codelineno-19-59"></a>
</span><span id="__span-19-60"><a id="__codelineno-19-60" name="__codelineno-19-60" href="#__codelineno-19-60"></a>apiVersion: apiextensions.k8s.io/v1
</span><span id="__span-19-61"><a id="__codelineno-19-61" name="__codelineno-19-61" href="#__codelineno-19-61"></a>kind: CustomResourceDefinition
</span><span id="__span-19-62"><a id="__codelineno-19-62" name="__codelineno-19-62" href="#__codelineno-19-62"></a>metadata:
</span><span id="__span-19-63"><a id="__codelineno-19-63" name="__codelineno-19-63" href="#__codelineno-19-63"></a>  name: bgpconfigurations.crd.projectcalico.org
</span><span id="__span-19-64"><a id="__codelineno-19-64" name="__codelineno-19-64" href="#__codelineno-19-64"></a>spec:
</span><span id="__span-19-65"><a id="__codelineno-19-65" name="__codelineno-19-65" href="#__codelineno-19-65"></a>  group: crd.projectcalico.org
</span><span id="__span-19-66"><a id="__codelineno-19-66" name="__codelineno-19-66" href="#__codelineno-19-66"></a>  names:
</span><span id="__span-19-67"><a id="__codelineno-19-67" name="__codelineno-19-67" href="#__codelineno-19-67"></a>    kind: BGPConfiguration
</span><span id="__span-19-68"><a id="__codelineno-19-68" name="__codelineno-19-68" href="#__codelineno-19-68"></a>    listKind: BGPConfigurationList
</span><span id="__span-19-69"><a id="__codelineno-19-69" name="__codelineno-19-69" href="#__codelineno-19-69"></a>    plural: bgpconfigurations
</span><span id="__span-19-70"><a id="__codelineno-19-70" name="__codelineno-19-70" href="#__codelineno-19-70"></a>    singular: bgpconfiguration
</span><span id="__span-19-71"><a id="__codelineno-19-71" name="__codelineno-19-71" href="#__codelineno-19-71"></a>  scope: Cluster
</span><span id="__span-19-72"><a id="__codelineno-19-72" name="__codelineno-19-72" href="#__codelineno-19-72"></a>  versions:
</span><span id="__span-19-73"><a id="__codelineno-19-73" name="__codelineno-19-73" href="#__codelineno-19-73"></a>  - name: v1
</span><span id="__span-19-74"><a id="__codelineno-19-74" name="__codelineno-19-74" href="#__codelineno-19-74"></a>    schema:
</span><span id="__span-19-75"><a id="__codelineno-19-75" name="__codelineno-19-75" href="#__codelineno-19-75"></a>      openAPIV3Schema:
</span><span id="__span-19-76"><a id="__codelineno-19-76" name="__codelineno-19-76" href="#__codelineno-19-76"></a>        description: BGPConfiguration contains the configuration for any BGP routing.
</span><span id="__span-19-77"><a id="__codelineno-19-77" name="__codelineno-19-77" href="#__codelineno-19-77"></a>        properties:
</span><span id="__span-19-78"><a id="__codelineno-19-78" name="__codelineno-19-78" href="#__codelineno-19-78"></a>          apiVersion:
</span><span id="__span-19-79"><a id="__codelineno-19-79" name="__codelineno-19-79" href="#__codelineno-19-79"></a>            description: &#39;APIVersion defines the versioned schema of this representation
</span><span id="__span-19-80"><a id="__codelineno-19-80" name="__codelineno-19-80" href="#__codelineno-19-80"></a>              of an object. Servers should convert recognized schemas to the latest
</span><span id="__span-19-81"><a id="__codelineno-19-81" name="__codelineno-19-81" href="#__codelineno-19-81"></a>              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#39;
</span><span id="__span-19-82"><a id="__codelineno-19-82" name="__codelineno-19-82" href="#__codelineno-19-82"></a>            type: string
</span><span id="__span-19-83"><a id="__codelineno-19-83" name="__codelineno-19-83" href="#__codelineno-19-83"></a>          kind:
</span><span id="__span-19-84"><a id="__codelineno-19-84" name="__codelineno-19-84" href="#__codelineno-19-84"></a>            description: &#39;Kind is a string value representing the REST resource this
</span><span id="__span-19-85"><a id="__codelineno-19-85" name="__codelineno-19-85" href="#__codelineno-19-85"></a>              object represents. Servers may infer this from the endpoint the client
</span><span id="__span-19-86"><a id="__codelineno-19-86" name="__codelineno-19-86" href="#__codelineno-19-86"></a>              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#39;
</span><span id="__span-19-87"><a id="__codelineno-19-87" name="__codelineno-19-87" href="#__codelineno-19-87"></a>            type: string
</span><span id="__span-19-88"><a id="__codelineno-19-88" name="__codelineno-19-88" href="#__codelineno-19-88"></a>          metadata:
</span><span id="__span-19-89"><a id="__codelineno-19-89" name="__codelineno-19-89" href="#__codelineno-19-89"></a>            type: object
</span><span id="__span-19-90"><a id="__codelineno-19-90" name="__codelineno-19-90" href="#__codelineno-19-90"></a>          spec:
</span><span id="__span-19-91"><a id="__codelineno-19-91" name="__codelineno-19-91" href="#__codelineno-19-91"></a>            description: BGPConfigurationSpec contains the values of the BGP configuration.
</span><span id="__span-19-92"><a id="__codelineno-19-92" name="__codelineno-19-92" href="#__codelineno-19-92"></a>            properties:
</span><span id="__span-19-93"><a id="__codelineno-19-93" name="__codelineno-19-93" href="#__codelineno-19-93"></a>              asNumber:
</span><span id="__span-19-94"><a id="__codelineno-19-94" name="__codelineno-19-94" href="#__codelineno-19-94"></a>                description: &#39;ASNumber is the default AS number used by a node. [Default:
</span><span id="__span-19-95"><a id="__codelineno-19-95" name="__codelineno-19-95" href="#__codelineno-19-95"></a>                  64512]&#39;
</span><span id="__span-19-96"><a id="__codelineno-19-96" name="__codelineno-19-96" href="#__codelineno-19-96"></a>                format: int32
</span><span id="__span-19-97"><a id="__codelineno-19-97" name="__codelineno-19-97" href="#__codelineno-19-97"></a>                type: integer
</span><span id="__span-19-98"><a id="__codelineno-19-98" name="__codelineno-19-98" href="#__codelineno-19-98"></a>              communities:
</span><span id="__span-19-99"><a id="__codelineno-19-99" name="__codelineno-19-99" href="#__codelineno-19-99"></a>                description: Communities is a list of BGP community values and their
</span><span id="__span-19-100"><a id="__codelineno-19-100" name="__codelineno-19-100" href="#__codelineno-19-100"></a>                  arbitrary names for tagging routes.
</span><span id="__span-19-101"><a id="__codelineno-19-101" name="__codelineno-19-101" href="#__codelineno-19-101"></a>                items:
</span><span id="__span-19-102"><a id="__codelineno-19-102" name="__codelineno-19-102" href="#__codelineno-19-102"></a>                  description: Community contains standard or large community value
</span><span id="__span-19-103"><a id="__codelineno-19-103" name="__codelineno-19-103" href="#__codelineno-19-103"></a>                    and its name.
</span><span id="__span-19-104"><a id="__codelineno-19-104" name="__codelineno-19-104" href="#__codelineno-19-104"></a>                  properties:
</span><span id="__span-19-105"><a id="__codelineno-19-105" name="__codelineno-19-105" href="#__codelineno-19-105"></a>                    name:
</span><span id="__span-19-106"><a id="__codelineno-19-106" name="__codelineno-19-106" href="#__codelineno-19-106"></a>                      description: Name given to community value.
</span><span id="__span-19-107"><a id="__codelineno-19-107" name="__codelineno-19-107" href="#__codelineno-19-107"></a>                      type: string
</span><span id="__span-19-108"><a id="__codelineno-19-108" name="__codelineno-19-108" href="#__codelineno-19-108"></a>                    value:
</span><span id="__span-19-109"><a id="__codelineno-19-109" name="__codelineno-19-109" href="#__codelineno-19-109"></a>                      description: Value must be of format `aa:nn` or `aa:nn:mm`.
</span><span id="__span-19-110"><a id="__codelineno-19-110" name="__codelineno-19-110" href="#__codelineno-19-110"></a>                        For standard community use `aa:nn` format, where `aa` and
</span><span id="__span-19-111"><a id="__codelineno-19-111" name="__codelineno-19-111" href="#__codelineno-19-111"></a>                        `nn` are 16 bit number. For large community use `aa:nn:mm`
</span><span id="__span-19-112"><a id="__codelineno-19-112" name="__codelineno-19-112" href="#__codelineno-19-112"></a>                        format, where `aa`, `nn` and `mm` are 32 bit number. Where,
</span><span id="__span-19-113"><a id="__codelineno-19-113" name="__codelineno-19-113" href="#__codelineno-19-113"></a>                        `aa` is an AS Number, `nn` and `mm` are per-AS identifier.
</span><span id="__span-19-114"><a id="__codelineno-19-114" name="__codelineno-19-114" href="#__codelineno-19-114"></a>                      pattern: ^(\d+):(\d+)$|^(\d+):(\d+):(\d+)$
</span><span id="__span-19-115"><a id="__codelineno-19-115" name="__codelineno-19-115" href="#__codelineno-19-115"></a>                      type: string
</span><span id="__span-19-116"><a id="__codelineno-19-116" name="__codelineno-19-116" href="#__codelineno-19-116"></a>                  type: object
</span><span id="__span-19-117"><a id="__codelineno-19-117" name="__codelineno-19-117" href="#__codelineno-19-117"></a>                type: array
</span><span id="__span-19-118"><a id="__codelineno-19-118" name="__codelineno-19-118" href="#__codelineno-19-118"></a>              listenPort:
</span><span id="__span-19-119"><a id="__codelineno-19-119" name="__codelineno-19-119" href="#__codelineno-19-119"></a>                description: ListenPort is the port where BGP protocol should listen.
</span><span id="__span-19-120"><a id="__codelineno-19-120" name="__codelineno-19-120" href="#__codelineno-19-120"></a>                  Defaults to 179
</span><span id="__span-19-121"><a id="__codelineno-19-121" name="__codelineno-19-121" href="#__codelineno-19-121"></a>                maximum: 65535
</span><span id="__span-19-122"><a id="__codelineno-19-122" name="__codelineno-19-122" href="#__codelineno-19-122"></a>                minimum: 1
</span><span id="__span-19-123"><a id="__codelineno-19-123" name="__codelineno-19-123" href="#__codelineno-19-123"></a>                type: integer
</span><span id="__span-19-124"><a id="__codelineno-19-124" name="__codelineno-19-124" href="#__codelineno-19-124"></a>              logSeverityScreen:
</span><span id="__span-19-125"><a id="__codelineno-19-125" name="__codelineno-19-125" href="#__codelineno-19-125"></a>                description: &#39;LogSeverityScreen is the log severity above which logs
</span><span id="__span-19-126"><a id="__codelineno-19-126" name="__codelineno-19-126" href="#__codelineno-19-126"></a>                  are sent to the stdout. [Default: INFO]&#39;
</span><span id="__span-19-127"><a id="__codelineno-19-127" name="__codelineno-19-127" href="#__codelineno-19-127"></a>                type: string
</span><span id="__span-19-128"><a id="__codelineno-19-128" name="__codelineno-19-128" href="#__codelineno-19-128"></a>              nodeToNodeMeshEnabled:
</span><span id="__span-19-129"><a id="__codelineno-19-129" name="__codelineno-19-129" href="#__codelineno-19-129"></a>                description: &#39;NodeToNodeMeshEnabled sets whether full node to node
</span><span id="__span-19-130"><a id="__codelineno-19-130" name="__codelineno-19-130" href="#__codelineno-19-130"></a>                  BGP mesh is enabled. [Default: true]&#39;
</span><span id="__span-19-131"><a id="__codelineno-19-131" name="__codelineno-19-131" href="#__codelineno-19-131"></a>                type: boolean
</span><span id="__span-19-132"><a id="__codelineno-19-132" name="__codelineno-19-132" href="#__codelineno-19-132"></a>              prefixAdvertisements:
</span><span id="__span-19-133"><a id="__codelineno-19-133" name="__codelineno-19-133" href="#__codelineno-19-133"></a>                description: PrefixAdvertisements contains per-prefix advertisement
</span><span id="__span-19-134"><a id="__codelineno-19-134" name="__codelineno-19-134" href="#__codelineno-19-134"></a>                  configuration.
</span><span id="__span-19-135"><a id="__codelineno-19-135" name="__codelineno-19-135" href="#__codelineno-19-135"></a>                items:
</span><span id="__span-19-136"><a id="__codelineno-19-136" name="__codelineno-19-136" href="#__codelineno-19-136"></a>                  description: PrefixAdvertisement configures advertisement properties
</span><span id="__span-19-137"><a id="__codelineno-19-137" name="__codelineno-19-137" href="#__codelineno-19-137"></a>                    for the specified CIDR.
</span><span id="__span-19-138"><a id="__codelineno-19-138" name="__codelineno-19-138" href="#__codelineno-19-138"></a>                  properties:
</span><span id="__span-19-139"><a id="__codelineno-19-139" name="__codelineno-19-139" href="#__codelineno-19-139"></a>                    cidr:
</span><span id="__span-19-140"><a id="__codelineno-19-140" name="__codelineno-19-140" href="#__codelineno-19-140"></a>                      description: CIDR for which properties should be advertised.
</span><span id="__span-19-141"><a id="__codelineno-19-141" name="__codelineno-19-141" href="#__codelineno-19-141"></a>                      type: string
</span><span id="__span-19-142"><a id="__codelineno-19-142" name="__codelineno-19-142" href="#__codelineno-19-142"></a>                    communities:
</span><span id="__span-19-143"><a id="__codelineno-19-143" name="__codelineno-19-143" href="#__codelineno-19-143"></a>                      description: Communities can be list of either community names
</span><span id="__span-19-144"><a id="__codelineno-19-144" name="__codelineno-19-144" href="#__codelineno-19-144"></a>                        already defined in `Specs.Communities` or community value
</span><span id="__span-19-145"><a id="__codelineno-19-145" name="__codelineno-19-145" href="#__codelineno-19-145"></a>                        of format `aa:nn` or `aa:nn:mm`. For standard community use
</span><span id="__span-19-146"><a id="__codelineno-19-146" name="__codelineno-19-146" href="#__codelineno-19-146"></a>                        `aa:nn` format, where `aa` and `nn` are 16 bit number. For
</span><span id="__span-19-147"><a id="__codelineno-19-147" name="__codelineno-19-147" href="#__codelineno-19-147"></a>                        large community use `aa:nn:mm` format, where `aa`, `nn` and
</span><span id="__span-19-148"><a id="__codelineno-19-148" name="__codelineno-19-148" href="#__codelineno-19-148"></a>                        `mm` are 32 bit number. Where,`aa` is an AS Number, `nn` and
</span><span id="__span-19-149"><a id="__codelineno-19-149" name="__codelineno-19-149" href="#__codelineno-19-149"></a>                        `mm` are per-AS identifier.
</span><span id="__span-19-150"><a id="__codelineno-19-150" name="__codelineno-19-150" href="#__codelineno-19-150"></a>                      items:
</span><span id="__span-19-151"><a id="__codelineno-19-151" name="__codelineno-19-151" href="#__codelineno-19-151"></a>                        type: string
</span><span id="__span-19-152"><a id="__codelineno-19-152" name="__codelineno-19-152" href="#__codelineno-19-152"></a>                      type: array
</span><span id="__span-19-153"><a id="__codelineno-19-153" name="__codelineno-19-153" href="#__codelineno-19-153"></a>                  type: object
</span><span id="__span-19-154"><a id="__codelineno-19-154" name="__codelineno-19-154" href="#__codelineno-19-154"></a>                type: array
</span><span id="__span-19-155"><a id="__codelineno-19-155" name="__codelineno-19-155" href="#__codelineno-19-155"></a>              serviceClusterIPs:
</span><span id="__span-19-156"><a id="__codelineno-19-156" name="__codelineno-19-156" href="#__codelineno-19-156"></a>                description: ServiceClusterIPs are the CIDR blocks from which service
</span><span id="__span-19-157"><a id="__codelineno-19-157" name="__codelineno-19-157" href="#__codelineno-19-157"></a>                  cluster IPs are allocated. If specified, Calico will advertise these
</span><span id="__span-19-158"><a id="__codelineno-19-158" name="__codelineno-19-158" href="#__codelineno-19-158"></a>                  blocks, as well as any cluster IPs within them.
</span><span id="__span-19-159"><a id="__codelineno-19-159" name="__codelineno-19-159" href="#__codelineno-19-159"></a>                items:
</span><span id="__span-19-160"><a id="__codelineno-19-160" name="__codelineno-19-160" href="#__codelineno-19-160"></a>                  description: ServiceClusterIPBlock represents a single allowed ClusterIP
</span><span id="__span-19-161"><a id="__codelineno-19-161" name="__codelineno-19-161" href="#__codelineno-19-161"></a>                    CIDR block.
</span><span id="__span-19-162"><a id="__codelineno-19-162" name="__codelineno-19-162" href="#__codelineno-19-162"></a>                  properties:
</span><span id="__span-19-163"><a id="__codelineno-19-163" name="__codelineno-19-163" href="#__codelineno-19-163"></a>                    cidr:
</span><span id="__span-19-164"><a id="__codelineno-19-164" name="__codelineno-19-164" href="#__codelineno-19-164"></a>                      type: string
</span><span id="__span-19-165"><a id="__codelineno-19-165" name="__codelineno-19-165" href="#__codelineno-19-165"></a>                  type: object
</span><span id="__span-19-166"><a id="__codelineno-19-166" name="__codelineno-19-166" href="#__codelineno-19-166"></a>                type: array
</span><span id="__span-19-167"><a id="__codelineno-19-167" name="__codelineno-19-167" href="#__codelineno-19-167"></a>              serviceExternalIPs:
</span><span id="__span-19-168"><a id="__codelineno-19-168" name="__codelineno-19-168" href="#__codelineno-19-168"></a>                description: ServiceExternalIPs are the CIDR blocks for Kubernetes
</span><span id="__span-19-169"><a id="__codelineno-19-169" name="__codelineno-19-169" href="#__codelineno-19-169"></a>                  Service External IPs. Kubernetes Service ExternalIPs will only be
</span><span id="__span-19-170"><a id="__codelineno-19-170" name="__codelineno-19-170" href="#__codelineno-19-170"></a>                  advertised if they are within one of these blocks.
</span><span id="__span-19-171"><a id="__codelineno-19-171" name="__codelineno-19-171" href="#__codelineno-19-171"></a>                items:
</span><span id="__span-19-172"><a id="__codelineno-19-172" name="__codelineno-19-172" href="#__codelineno-19-172"></a>                  description: ServiceExternalIPBlock represents a single allowed
</span><span id="__span-19-173"><a id="__codelineno-19-173" name="__codelineno-19-173" href="#__codelineno-19-173"></a>                    External IP CIDR block.
</span><span id="__span-19-174"><a id="__codelineno-19-174" name="__codelineno-19-174" href="#__codelineno-19-174"></a>                  properties:
</span><span id="__span-19-175"><a id="__codelineno-19-175" name="__codelineno-19-175" href="#__codelineno-19-175"></a>                    cidr:
</span><span id="__span-19-176"><a id="__codelineno-19-176" name="__codelineno-19-176" href="#__codelineno-19-176"></a>                      type: string
</span><span id="__span-19-177"><a id="__codelineno-19-177" name="__codelineno-19-177" href="#__codelineno-19-177"></a>                  type: object
</span><span id="__span-19-178"><a id="__codelineno-19-178" name="__codelineno-19-178" href="#__codelineno-19-178"></a>                type: array
</span><span id="__span-19-179"><a id="__codelineno-19-179" name="__codelineno-19-179" href="#__codelineno-19-179"></a>              serviceLoadBalancerIPs:
</span><span id="__span-19-180"><a id="__codelineno-19-180" name="__codelineno-19-180" href="#__codelineno-19-180"></a>                description: ServiceLoadBalancerIPs are the CIDR blocks for Kubernetes
</span><span id="__span-19-181"><a id="__codelineno-19-181" name="__codelineno-19-181" href="#__codelineno-19-181"></a>                  Service LoadBalancer IPs. Kubernetes Service status.LoadBalancer.Ingress
</span><span id="__span-19-182"><a id="__codelineno-19-182" name="__codelineno-19-182" href="#__codelineno-19-182"></a>                  IPs will only be advertised if they are within one of these blocks.
</span><span id="__span-19-183"><a id="__codelineno-19-183" name="__codelineno-19-183" href="#__codelineno-19-183"></a>                items:
</span><span id="__span-19-184"><a id="__codelineno-19-184" name="__codelineno-19-184" href="#__codelineno-19-184"></a>                  description: ServiceLoadBalancerIPBlock represents a single allowed
</span><span id="__span-19-185"><a id="__codelineno-19-185" name="__codelineno-19-185" href="#__codelineno-19-185"></a>                    LoadBalancer IP CIDR block.
</span><span id="__span-19-186"><a id="__codelineno-19-186" name="__codelineno-19-186" href="#__codelineno-19-186"></a>                  properties:
</span><span id="__span-19-187"><a id="__codelineno-19-187" name="__codelineno-19-187" href="#__codelineno-19-187"></a>                    cidr:
</span><span id="__span-19-188"><a id="__codelineno-19-188" name="__codelineno-19-188" href="#__codelineno-19-188"></a>                      type: string
</span><span id="__span-19-189"><a id="__codelineno-19-189" name="__codelineno-19-189" href="#__codelineno-19-189"></a>                  type: object
</span><span id="__span-19-190"><a id="__codelineno-19-190" name="__codelineno-19-190" href="#__codelineno-19-190"></a>                type: array
</span><span id="__span-19-191"><a id="__codelineno-19-191" name="__codelineno-19-191" href="#__codelineno-19-191"></a>            type: object
</span><span id="__span-19-192"><a id="__codelineno-19-192" name="__codelineno-19-192" href="#__codelineno-19-192"></a>        type: object
</span><span id="__span-19-193"><a id="__codelineno-19-193" name="__codelineno-19-193" href="#__codelineno-19-193"></a>    served: true
</span><span id="__span-19-194"><a id="__codelineno-19-194" name="__codelineno-19-194" href="#__codelineno-19-194"></a>    storage: true
</span><span id="__span-19-195"><a id="__codelineno-19-195" name="__codelineno-19-195" href="#__codelineno-19-195"></a>status:
</span><span id="__span-19-196"><a id="__codelineno-19-196" name="__codelineno-19-196" href="#__codelineno-19-196"></a>  acceptedNames:
</span><span id="__span-19-197"><a id="__codelineno-19-197" name="__codelineno-19-197" href="#__codelineno-19-197"></a>    kind: &quot;&quot;
</span><span id="__span-19-198"><a id="__codelineno-19-198" name="__codelineno-19-198" href="#__codelineno-19-198"></a>    plural: &quot;&quot;
</span><span id="__span-19-199"><a id="__codelineno-19-199" name="__codelineno-19-199" href="#__codelineno-19-199"></a>  conditions: []
</span><span id="__span-19-200"><a id="__codelineno-19-200" name="__codelineno-19-200" href="#__codelineno-19-200"></a>  storedVersions: []
</span><span id="__span-19-201"><a id="__codelineno-19-201" name="__codelineno-19-201" href="#__codelineno-19-201"></a>
</span><span id="__span-19-202"><a id="__codelineno-19-202" name="__codelineno-19-202" href="#__codelineno-19-202"></a>---
</span><span id="__span-19-203"><a id="__codelineno-19-203" name="__codelineno-19-203" href="#__codelineno-19-203"></a>apiVersion: apiextensions.k8s.io/v1
</span><span id="__span-19-204"><a id="__codelineno-19-204" name="__codelineno-19-204" href="#__codelineno-19-204"></a>kind: CustomResourceDefinition
</span><span id="__span-19-205"><a id="__codelineno-19-205" name="__codelineno-19-205" href="#__codelineno-19-205"></a>metadata:
</span><span id="__span-19-206"><a id="__codelineno-19-206" name="__codelineno-19-206" href="#__codelineno-19-206"></a>  name: bgppeers.crd.projectcalico.org
</span><span id="__span-19-207"><a id="__codelineno-19-207" name="__codelineno-19-207" href="#__codelineno-19-207"></a>spec:
</span><span id="__span-19-208"><a id="__codelineno-19-208" name="__codelineno-19-208" href="#__codelineno-19-208"></a>  group: crd.projectcalico.org
</span><span id="__span-19-209"><a id="__codelineno-19-209" name="__codelineno-19-209" href="#__codelineno-19-209"></a>  names:
</span><span id="__span-19-210"><a id="__codelineno-19-210" name="__codelineno-19-210" href="#__codelineno-19-210"></a>    kind: BGPPeer
</span><span id="__span-19-211"><a id="__codelineno-19-211" name="__codelineno-19-211" href="#__codelineno-19-211"></a>    listKind: BGPPeerList
</span><span id="__span-19-212"><a id="__codelineno-19-212" name="__codelineno-19-212" href="#__codelineno-19-212"></a>    plural: bgppeers
</span><span id="__span-19-213"><a id="__codelineno-19-213" name="__codelineno-19-213" href="#__codelineno-19-213"></a>    singular: bgppeer
</span><span id="__span-19-214"><a id="__codelineno-19-214" name="__codelineno-19-214" href="#__codelineno-19-214"></a>  scope: Cluster
</span><span id="__span-19-215"><a id="__codelineno-19-215" name="__codelineno-19-215" href="#__codelineno-19-215"></a>  versions:
</span><span id="__span-19-216"><a id="__codelineno-19-216" name="__codelineno-19-216" href="#__codelineno-19-216"></a>  - name: v1
</span><span id="__span-19-217"><a id="__codelineno-19-217" name="__codelineno-19-217" href="#__codelineno-19-217"></a>    schema:
</span><span id="__span-19-218"><a id="__codelineno-19-218" name="__codelineno-19-218" href="#__codelineno-19-218"></a>      openAPIV3Schema:
</span><span id="__span-19-219"><a id="__codelineno-19-219" name="__codelineno-19-219" href="#__codelineno-19-219"></a>        properties:
</span><span id="__span-19-220"><a id="__codelineno-19-220" name="__codelineno-19-220" href="#__codelineno-19-220"></a>          apiVersion:
</span><span id="__span-19-221"><a id="__codelineno-19-221" name="__codelineno-19-221" href="#__codelineno-19-221"></a>            description: &#39;APIVersion defines the versioned schema of this representation
</span><span id="__span-19-222"><a id="__codelineno-19-222" name="__codelineno-19-222" href="#__codelineno-19-222"></a>              of an object. Servers should convert recognized schemas to the latest
</span><span id="__span-19-223"><a id="__codelineno-19-223" name="__codelineno-19-223" href="#__codelineno-19-223"></a>              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#39;
</span><span id="__span-19-224"><a id="__codelineno-19-224" name="__codelineno-19-224" href="#__codelineno-19-224"></a>            type: string
</span><span id="__span-19-225"><a id="__codelineno-19-225" name="__codelineno-19-225" href="#__codelineno-19-225"></a>          kind:
</span><span id="__span-19-226"><a id="__codelineno-19-226" name="__codelineno-19-226" href="#__codelineno-19-226"></a>            description: &#39;Kind is a string value representing the REST resource this
</span><span id="__span-19-227"><a id="__codelineno-19-227" name="__codelineno-19-227" href="#__codelineno-19-227"></a>              object represents. Servers may infer this from the endpoint the client
</span><span id="__span-19-228"><a id="__codelineno-19-228" name="__codelineno-19-228" href="#__codelineno-19-228"></a>              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#39;
</span><span id="__span-19-229"><a id="__codelineno-19-229" name="__codelineno-19-229" href="#__codelineno-19-229"></a>            type: string
</span><span id="__span-19-230"><a id="__codelineno-19-230" name="__codelineno-19-230" href="#__codelineno-19-230"></a>          metadata:
</span><span id="__span-19-231"><a id="__codelineno-19-231" name="__codelineno-19-231" href="#__codelineno-19-231"></a>            type: object
</span><span id="__span-19-232"><a id="__codelineno-19-232" name="__codelineno-19-232" href="#__codelineno-19-232"></a>          spec:
</span><span id="__span-19-233"><a id="__codelineno-19-233" name="__codelineno-19-233" href="#__codelineno-19-233"></a>            description: BGPPeerSpec contains the specification for a BGPPeer resource.
</span><span id="__span-19-234"><a id="__codelineno-19-234" name="__codelineno-19-234" href="#__codelineno-19-234"></a>            properties:
</span><span id="__span-19-235"><a id="__codelineno-19-235" name="__codelineno-19-235" href="#__codelineno-19-235"></a>              asNumber:
</span><span id="__span-19-236"><a id="__codelineno-19-236" name="__codelineno-19-236" href="#__codelineno-19-236"></a>                description: The AS Number of the peer.
</span><span id="__span-19-237"><a id="__codelineno-19-237" name="__codelineno-19-237" href="#__codelineno-19-237"></a>                format: int32
</span><span id="__span-19-238"><a id="__codelineno-19-238" name="__codelineno-19-238" href="#__codelineno-19-238"></a>                type: integer
</span><span id="__span-19-239"><a id="__codelineno-19-239" name="__codelineno-19-239" href="#__codelineno-19-239"></a>              keepOriginalNextHop:
</span><span id="__span-19-240"><a id="__codelineno-19-240" name="__codelineno-19-240" href="#__codelineno-19-240"></a>                description: Option to keep the original nexthop field when routes
</span><span id="__span-19-241"><a id="__codelineno-19-241" name="__codelineno-19-241" href="#__codelineno-19-241"></a>                  are sent to a BGP Peer. Setting &quot;true&quot; configures the selected BGP
</span><span id="__span-19-242"><a id="__codelineno-19-242" name="__codelineno-19-242" href="#__codelineno-19-242"></a>                  Peers node to use the &quot;next hop keep;&quot; instead of &quot;next hop self;&quot;(default)
</span><span id="__span-19-243"><a id="__codelineno-19-243" name="__codelineno-19-243" href="#__codelineno-19-243"></a>                  in the specific branch of the Node on &quot;bird.cfg&quot;.
</span><span id="__span-19-244"><a id="__codelineno-19-244" name="__codelineno-19-244" href="#__codelineno-19-244"></a>                type: boolean
</span><span id="__span-19-245"><a id="__codelineno-19-245" name="__codelineno-19-245" href="#__codelineno-19-245"></a>              node:
</span><span id="__span-19-246"><a id="__codelineno-19-246" name="__codelineno-19-246" href="#__codelineno-19-246"></a>                description: The node name identifying the Calico node instance that
</span><span id="__span-19-247"><a id="__codelineno-19-247" name="__codelineno-19-247" href="#__codelineno-19-247"></a>                  is targeted by this peer. If this is not set, and no nodeSelector
</span><span id="__span-19-248"><a id="__codelineno-19-248" name="__codelineno-19-248" href="#__codelineno-19-248"></a>                  is specified, then this BGP peer selects all nodes in the cluster.
</span><span id="__span-19-249"><a id="__codelineno-19-249" name="__codelineno-19-249" href="#__codelineno-19-249"></a>                type: string
</span><span id="__span-19-250"><a id="__codelineno-19-250" name="__codelineno-19-250" href="#__codelineno-19-250"></a>              nodeSelector:
</span><span id="__span-19-251"><a id="__codelineno-19-251" name="__codelineno-19-251" href="#__codelineno-19-251"></a>                description: Selector for the nodes that should have this peering.  When
</span><span id="__span-19-252"><a id="__codelineno-19-252" name="__codelineno-19-252" href="#__codelineno-19-252"></a>                  this is set, the Node field must be empty.
</span><span id="__span-19-253"><a id="__codelineno-19-253" name="__codelineno-19-253" href="#__codelineno-19-253"></a>                type: string
</span><span id="__span-19-254"><a id="__codelineno-19-254" name="__codelineno-19-254" href="#__codelineno-19-254"></a>              password:
</span><span id="__span-19-255"><a id="__codelineno-19-255" name="__codelineno-19-255" href="#__codelineno-19-255"></a>                description: Optional BGP password for the peerings generated by this
</span><span id="__span-19-256"><a id="__codelineno-19-256" name="__codelineno-19-256" href="#__codelineno-19-256"></a>                  BGPPeer resource.
</span><span id="__span-19-257"><a id="__codelineno-19-257" name="__codelineno-19-257" href="#__codelineno-19-257"></a>                properties:
</span><span id="__span-19-258"><a id="__codelineno-19-258" name="__codelineno-19-258" href="#__codelineno-19-258"></a>                  secretKeyRef:
</span><span id="__span-19-259"><a id="__codelineno-19-259" name="__codelineno-19-259" href="#__codelineno-19-259"></a>                    description: Selects a key of a secret in the node pod&#39;s namespace.
</span><span id="__span-19-260"><a id="__codelineno-19-260" name="__codelineno-19-260" href="#__codelineno-19-260"></a>                    properties:
</span><span id="__span-19-261"><a id="__codelineno-19-261" name="__codelineno-19-261" href="#__codelineno-19-261"></a>                      key:
</span><span id="__span-19-262"><a id="__codelineno-19-262" name="__codelineno-19-262" href="#__codelineno-19-262"></a>                        description: The key of the secret to select from.  Must be
</span><span id="__span-19-263"><a id="__codelineno-19-263" name="__codelineno-19-263" href="#__codelineno-19-263"></a>                          a valid secret key.
</span><span id="__span-19-264"><a id="__codelineno-19-264" name="__codelineno-19-264" href="#__codelineno-19-264"></a>                        type: string
</span><span id="__span-19-265"><a id="__codelineno-19-265" name="__codelineno-19-265" href="#__codelineno-19-265"></a>                      name:
</span><span id="__span-19-266"><a id="__codelineno-19-266" name="__codelineno-19-266" href="#__codelineno-19-266"></a>                        description: &#39;Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
</span><span id="__span-19-267"><a id="__codelineno-19-267" name="__codelineno-19-267" href="#__codelineno-19-267"></a>                          TODO: Add other useful fields. apiVersion, kind, uid?&#39;
</span><span id="__span-19-268"><a id="__codelineno-19-268" name="__codelineno-19-268" href="#__codelineno-19-268"></a>                        type: string
</span><span id="__span-19-269"><a id="__codelineno-19-269" name="__codelineno-19-269" href="#__codelineno-19-269"></a>                      optional:
</span><span id="__span-19-270"><a id="__codelineno-19-270" name="__codelineno-19-270" href="#__codelineno-19-270"></a>                        description: Specify whether the Secret or its key must be
</span><span id="__span-19-271"><a id="__codelineno-19-271" name="__codelineno-19-271" href="#__codelineno-19-271"></a>                          defined
</span><span id="__span-19-272"><a id="__codelineno-19-272" name="__codelineno-19-272" href="#__codelineno-19-272"></a>                        type: boolean
</span><span id="__span-19-273"><a id="__codelineno-19-273" name="__codelineno-19-273" href="#__codelineno-19-273"></a>                    required:
</span><span id="__span-19-274"><a id="__codelineno-19-274" name="__codelineno-19-274" href="#__codelineno-19-274"></a>                    - key
</span><span id="__span-19-275"><a id="__codelineno-19-275" name="__codelineno-19-275" href="#__codelineno-19-275"></a>                    type: object
</span><span id="__span-19-276"><a id="__codelineno-19-276" name="__codelineno-19-276" href="#__codelineno-19-276"></a>                type: object
</span><span id="__span-19-277"><a id="__codelineno-19-277" name="__codelineno-19-277" href="#__codelineno-19-277"></a>              peerIP:
</span><span id="__span-19-278"><a id="__codelineno-19-278" name="__codelineno-19-278" href="#__codelineno-19-278"></a>                description: The IP address of the peer followed by an optional port
</span><span id="__span-19-279"><a id="__codelineno-19-279" name="__codelineno-19-279" href="#__codelineno-19-279"></a>                  number to peer with. If port number is given, format should be `[&lt;IPv6&gt;]:port`
</span><span id="__span-19-280"><a id="__codelineno-19-280" name="__codelineno-19-280" href="#__codelineno-19-280"></a>                  or `&lt;IPv4&gt;:&lt;port&gt;` for IPv4. If optional port number is not set,
</span><span id="__span-19-281"><a id="__codelineno-19-281" name="__codelineno-19-281" href="#__codelineno-19-281"></a>                  and this peer IP and ASNumber belongs to a calico/node with ListenPort
</span><span id="__span-19-282"><a id="__codelineno-19-282" name="__codelineno-19-282" href="#__codelineno-19-282"></a>                  set in BGPConfiguration, then we use that port to peer.
</span><span id="__span-19-283"><a id="__codelineno-19-283" name="__codelineno-19-283" href="#__codelineno-19-283"></a>                type: string
</span><span id="__span-19-284"><a id="__codelineno-19-284" name="__codelineno-19-284" href="#__codelineno-19-284"></a>              peerSelector:
</span><span id="__span-19-285"><a id="__codelineno-19-285" name="__codelineno-19-285" href="#__codelineno-19-285"></a>                description: Selector for the remote nodes to peer with.  When this
</span><span id="__span-19-286"><a id="__codelineno-19-286" name="__codelineno-19-286" href="#__codelineno-19-286"></a>                  is set, the PeerIP and ASNumber fields must be empty.  For each
</span><span id="__span-19-287"><a id="__codelineno-19-287" name="__codelineno-19-287" href="#__codelineno-19-287"></a>                  peering between the local node and selected remote nodes, we configure
</span><span id="__span-19-288"><a id="__codelineno-19-288" name="__codelineno-19-288" href="#__codelineno-19-288"></a>                  an IPv4 peering if both ends have NodeBGPSpec.IPv4Address specified,
</span><span id="__span-19-289"><a id="__codelineno-19-289" name="__codelineno-19-289" href="#__codelineno-19-289"></a>                  and an IPv6 peering if both ends have NodeBGPSpec.IPv6Address specified.  The
</span><span id="__span-19-290"><a id="__codelineno-19-290" name="__codelineno-19-290" href="#__codelineno-19-290"></a>                  remote AS number comes from the remote node&#39;s NodeBGPSpec.ASNumber,
</span><span id="__span-19-291"><a id="__codelineno-19-291" name="__codelineno-19-291" href="#__codelineno-19-291"></a>                  or the global default if that is not set.
</span><span id="__span-19-292"><a id="__codelineno-19-292" name="__codelineno-19-292" href="#__codelineno-19-292"></a>                type: string
</span><span id="__span-19-293"><a id="__codelineno-19-293" name="__codelineno-19-293" href="#__codelineno-19-293"></a>              sourceAddress:
</span><span id="__span-19-294"><a id="__codelineno-19-294" name="__codelineno-19-294" href="#__codelineno-19-294"></a>                description: Specifies whether and how to configure a source address
</span><span id="__span-19-295"><a id="__codelineno-19-295" name="__codelineno-19-295" href="#__codelineno-19-295"></a>                  for the peerings generated by this BGPPeer resource.  Default value
</span><span id="__span-19-296"><a id="__codelineno-19-296" name="__codelineno-19-296" href="#__codelineno-19-296"></a>                  &quot;UseNodeIP&quot; means to configure the node IP as the source address.  &quot;None&quot;
</span><span id="__span-19-297"><a id="__codelineno-19-297" name="__codelineno-19-297" href="#__codelineno-19-297"></a>                  means not to configure a source address.
</span><span id="__span-19-298"><a id="__codelineno-19-298" name="__codelineno-19-298" href="#__codelineno-19-298"></a>                type: string
</span><span id="__span-19-299"><a id="__codelineno-19-299" name="__codelineno-19-299" href="#__codelineno-19-299"></a>            type: object
</span><span id="__span-19-300"><a id="__codelineno-19-300" name="__codelineno-19-300" href="#__codelineno-19-300"></a>        type: object
</span><span id="__span-19-301"><a id="__codelineno-19-301" name="__codelineno-19-301" href="#__codelineno-19-301"></a>    served: true
</span><span id="__span-19-302"><a id="__codelineno-19-302" name="__codelineno-19-302" href="#__codelineno-19-302"></a>    storage: true
</span><span id="__span-19-303"><a id="__codelineno-19-303" name="__codelineno-19-303" href="#__codelineno-19-303"></a>status:
</span><span id="__span-19-304"><a id="__codelineno-19-304" name="__codelineno-19-304" href="#__codelineno-19-304"></a>  acceptedNames:
</span><span id="__span-19-305"><a id="__codelineno-19-305" name="__codelineno-19-305" href="#__codelineno-19-305"></a>    kind: &quot;&quot;
</span><span id="__span-19-306"><a id="__codelineno-19-306" name="__codelineno-19-306" href="#__codelineno-19-306"></a>    plural: &quot;&quot;
</span><span id="__span-19-307"><a id="__codelineno-19-307" name="__codelineno-19-307" href="#__codelineno-19-307"></a>  conditions: []
</span><span id="__span-19-308"><a id="__codelineno-19-308" name="__codelineno-19-308" href="#__codelineno-19-308"></a>  storedVersions: []
</span><span id="__span-19-309"><a id="__codelineno-19-309" name="__codelineno-19-309" href="#__codelineno-19-309"></a>
</span><span id="__span-19-310"><a id="__codelineno-19-310" name="__codelineno-19-310" href="#__codelineno-19-310"></a>---
</span><span id="__span-19-311"><a id="__codelineno-19-311" name="__codelineno-19-311" href="#__codelineno-19-311"></a>apiVersion: apiextensions.k8s.io/v1
</span><span id="__span-19-312"><a id="__codelineno-19-312" name="__codelineno-19-312" href="#__codelineno-19-312"></a>kind: CustomResourceDefinition
</span><span id="__span-19-313"><a id="__codelineno-19-313" name="__codelineno-19-313" href="#__codelineno-19-313"></a>metadata:
</span><span id="__span-19-314"><a id="__codelineno-19-314" name="__codelineno-19-314" href="#__codelineno-19-314"></a>  name: blockaffinities.crd.projectcalico.org
</span><span id="__span-19-315"><a id="__codelineno-19-315" name="__codelineno-19-315" href="#__codelineno-19-315"></a>spec:
</span><span id="__span-19-316"><a id="__codelineno-19-316" name="__codelineno-19-316" href="#__codelineno-19-316"></a>  group: crd.projectcalico.org
</span><span id="__span-19-317"><a id="__codelineno-19-317" name="__codelineno-19-317" href="#__codelineno-19-317"></a>  names:
</span><span id="__span-19-318"><a id="__codelineno-19-318" name="__codelineno-19-318" href="#__codelineno-19-318"></a>    kind: BlockAffinity
</span><span id="__span-19-319"><a id="__codelineno-19-319" name="__codelineno-19-319" href="#__codelineno-19-319"></a>    listKind: BlockAffinityList
</span><span id="__span-19-320"><a id="__codelineno-19-320" name="__codelineno-19-320" href="#__codelineno-19-320"></a>    plural: blockaffinities
</span><span id="__span-19-321"><a id="__codelineno-19-321" name="__codelineno-19-321" href="#__codelineno-19-321"></a>    singular: blockaffinity
</span><span id="__span-19-322"><a id="__codelineno-19-322" name="__codelineno-19-322" href="#__codelineno-19-322"></a>  scope: Cluster
</span><span id="__span-19-323"><a id="__codelineno-19-323" name="__codelineno-19-323" href="#__codelineno-19-323"></a>  versions:
</span><span id="__span-19-324"><a id="__codelineno-19-324" name="__codelineno-19-324" href="#__codelineno-19-324"></a>  - name: v1
</span><span id="__span-19-325"><a id="__codelineno-19-325" name="__codelineno-19-325" href="#__codelineno-19-325"></a>    schema:
</span><span id="__span-19-326"><a id="__codelineno-19-326" name="__codelineno-19-326" href="#__codelineno-19-326"></a>      openAPIV3Schema:
</span><span id="__span-19-327"><a id="__codelineno-19-327" name="__codelineno-19-327" href="#__codelineno-19-327"></a>        properties:
</span><span id="__span-19-328"><a id="__codelineno-19-328" name="__codelineno-19-328" href="#__codelineno-19-328"></a>          apiVersion:
</span><span id="__span-19-329"><a id="__codelineno-19-329" name="__codelineno-19-329" href="#__codelineno-19-329"></a>            description: &#39;APIVersion defines the versioned schema of this representation
</span><span id="__span-19-330"><a id="__codelineno-19-330" name="__codelineno-19-330" href="#__codelineno-19-330"></a>              of an object. Servers should convert recognized schemas to the latest
</span><span id="__span-19-331"><a id="__codelineno-19-331" name="__codelineno-19-331" href="#__codelineno-19-331"></a>              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#39;
</span><span id="__span-19-332"><a id="__codelineno-19-332" name="__codelineno-19-332" href="#__codelineno-19-332"></a>            type: string
</span><span id="__span-19-333"><a id="__codelineno-19-333" name="__codelineno-19-333" href="#__codelineno-19-333"></a>          kind:
</span><span id="__span-19-334"><a id="__codelineno-19-334" name="__codelineno-19-334" href="#__codelineno-19-334"></a>            description: &#39;Kind is a string value representing the REST resource this
</span><span id="__span-19-335"><a id="__codelineno-19-335" name="__codelineno-19-335" href="#__codelineno-19-335"></a>              object represents. Servers may infer this from the endpoint the client
</span><span id="__span-19-336"><a id="__codelineno-19-336" name="__codelineno-19-336" href="#__codelineno-19-336"></a>              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#39;
</span><span id="__span-19-337"><a id="__codelineno-19-337" name="__codelineno-19-337" href="#__codelineno-19-337"></a>            type: string
</span><span id="__span-19-338"><a id="__codelineno-19-338" name="__codelineno-19-338" href="#__codelineno-19-338"></a>          metadata:
</span><span id="__span-19-339"><a id="__codelineno-19-339" name="__codelineno-19-339" href="#__codelineno-19-339"></a>            type: object
</span><span id="__span-19-340"><a id="__codelineno-19-340" name="__codelineno-19-340" href="#__codelineno-19-340"></a>          spec:
</span><span id="__span-19-341"><a id="__codelineno-19-341" name="__codelineno-19-341" href="#__codelineno-19-341"></a>            description: BlockAffinitySpec contains the specification for a BlockAffinity
</span><span id="__span-19-342"><a id="__codelineno-19-342" name="__codelineno-19-342" href="#__codelineno-19-342"></a>              resource.
</span><span id="__span-19-343"><a id="__codelineno-19-343" name="__codelineno-19-343" href="#__codelineno-19-343"></a>            properties:
</span><span id="__span-19-344"><a id="__codelineno-19-344" name="__codelineno-19-344" href="#__codelineno-19-344"></a>              cidr:
</span><span id="__span-19-345"><a id="__codelineno-19-345" name="__codelineno-19-345" href="#__codelineno-19-345"></a>                type: string
</span><span id="__span-19-346"><a id="__codelineno-19-346" name="__codelineno-19-346" href="#__codelineno-19-346"></a>              deleted:
</span><span id="__span-19-347"><a id="__codelineno-19-347" name="__codelineno-19-347" href="#__codelineno-19-347"></a>                description: Deleted indicates that this block affinity is being deleted.
</span><span id="__span-19-348"><a id="__codelineno-19-348" name="__codelineno-19-348" href="#__codelineno-19-348"></a>                  This field is a string for compatibility with older releases that
</span><span id="__span-19-349"><a id="__codelineno-19-349" name="__codelineno-19-349" href="#__codelineno-19-349"></a>                  mistakenly treat this field as a string.
</span><span id="__span-19-350"><a id="__codelineno-19-350" name="__codelineno-19-350" href="#__codelineno-19-350"></a>                type: string
</span><span id="__span-19-351"><a id="__codelineno-19-351" name="__codelineno-19-351" href="#__codelineno-19-351"></a>              node:
</span><span id="__span-19-352"><a id="__codelineno-19-352" name="__codelineno-19-352" href="#__codelineno-19-352"></a>                type: string
</span><span id="__span-19-353"><a id="__codelineno-19-353" name="__codelineno-19-353" href="#__codelineno-19-353"></a>              state:
</span><span id="__span-19-354"><a id="__codelineno-19-354" name="__codelineno-19-354" href="#__codelineno-19-354"></a>                type: string
</span><span id="__span-19-355"><a id="__codelineno-19-355" name="__codelineno-19-355" href="#__codelineno-19-355"></a>            required:
</span><span id="__span-19-356"><a id="__codelineno-19-356" name="__codelineno-19-356" href="#__codelineno-19-356"></a>            - cidr
</span><span id="__span-19-357"><a id="__codelineno-19-357" name="__codelineno-19-357" href="#__codelineno-19-357"></a>            - deleted
</span><span id="__span-19-358"><a id="__codelineno-19-358" name="__codelineno-19-358" href="#__codelineno-19-358"></a>            - node
</span><span id="__span-19-359"><a id="__codelineno-19-359" name="__codelineno-19-359" href="#__codelineno-19-359"></a>            - state
</span><span id="__span-19-360"><a id="__codelineno-19-360" name="__codelineno-19-360" href="#__codelineno-19-360"></a>            type: object
</span><span id="__span-19-361"><a id="__codelineno-19-361" name="__codelineno-19-361" href="#__codelineno-19-361"></a>        type: object
</span><span id="__span-19-362"><a id="__codelineno-19-362" name="__codelineno-19-362" href="#__codelineno-19-362"></a>    served: true
</span><span id="__span-19-363"><a id="__codelineno-19-363" name="__codelineno-19-363" href="#__codelineno-19-363"></a>    storage: true
</span><span id="__span-19-364"><a id="__codelineno-19-364" name="__codelineno-19-364" href="#__codelineno-19-364"></a>status:
</span><span id="__span-19-365"><a id="__codelineno-19-365" name="__codelineno-19-365" href="#__codelineno-19-365"></a>  acceptedNames:
</span><span id="__span-19-366"><a id="__codelineno-19-366" name="__codelineno-19-366" href="#__codelineno-19-366"></a>    kind: &quot;&quot;
</span><span id="__span-19-367"><a id="__codelineno-19-367" name="__codelineno-19-367" href="#__codelineno-19-367"></a>    plural: &quot;&quot;
</span><span id="__span-19-368"><a id="__codelineno-19-368" name="__codelineno-19-368" href="#__codelineno-19-368"></a>  conditions: []
</span><span id="__span-19-369"><a id="__codelineno-19-369" name="__codelineno-19-369" href="#__codelineno-19-369"></a>  storedVersions: []
</span><span id="__span-19-370"><a id="__codelineno-19-370" name="__codelineno-19-370" href="#__codelineno-19-370"></a>
</span><span id="__span-19-371"><a id="__codelineno-19-371" name="__codelineno-19-371" href="#__codelineno-19-371"></a>---
</span><span id="__span-19-372"><a id="__codelineno-19-372" name="__codelineno-19-372" href="#__codelineno-19-372"></a>apiVersion: apiextensions.k8s.io/v1
</span><span id="__span-19-373"><a id="__codelineno-19-373" name="__codelineno-19-373" href="#__codelineno-19-373"></a>kind: CustomResourceDefinition
</span><span id="__span-19-374"><a id="__codelineno-19-374" name="__codelineno-19-374" href="#__codelineno-19-374"></a>metadata:
</span><span id="__span-19-375"><a id="__codelineno-19-375" name="__codelineno-19-375" href="#__codelineno-19-375"></a>  name: clusterinformations.crd.projectcalico.org
</span><span id="__span-19-376"><a id="__codelineno-19-376" name="__codelineno-19-376" href="#__codelineno-19-376"></a>spec:
</span><span id="__span-19-377"><a id="__codelineno-19-377" name="__codelineno-19-377" href="#__codelineno-19-377"></a>  group: crd.projectcalico.org
</span><span id="__span-19-378"><a id="__codelineno-19-378" name="__codelineno-19-378" href="#__codelineno-19-378"></a>  names:
</span><span id="__span-19-379"><a id="__codelineno-19-379" name="__codelineno-19-379" href="#__codelineno-19-379"></a>    kind: ClusterInformation
</span><span id="__span-19-380"><a id="__codelineno-19-380" name="__codelineno-19-380" href="#__codelineno-19-380"></a>    listKind: ClusterInformationList
</span><span id="__span-19-381"><a id="__codelineno-19-381" name="__codelineno-19-381" href="#__codelineno-19-381"></a>    plural: clusterinformations
</span><span id="__span-19-382"><a id="__codelineno-19-382" name="__codelineno-19-382" href="#__codelineno-19-382"></a>    singular: clusterinformation
</span><span id="__span-19-383"><a id="__codelineno-19-383" name="__codelineno-19-383" href="#__codelineno-19-383"></a>  scope: Cluster
</span><span id="__span-19-384"><a id="__codelineno-19-384" name="__codelineno-19-384" href="#__codelineno-19-384"></a>  versions:
</span><span id="__span-19-385"><a id="__codelineno-19-385" name="__codelineno-19-385" href="#__codelineno-19-385"></a>  - name: v1
</span><span id="__span-19-386"><a id="__codelineno-19-386" name="__codelineno-19-386" href="#__codelineno-19-386"></a>    schema:
</span><span id="__span-19-387"><a id="__codelineno-19-387" name="__codelineno-19-387" href="#__codelineno-19-387"></a>      openAPIV3Schema:
</span><span id="__span-19-388"><a id="__codelineno-19-388" name="__codelineno-19-388" href="#__codelineno-19-388"></a>        description: ClusterInformation contains the cluster specific information.
</span><span id="__span-19-389"><a id="__codelineno-19-389" name="__codelineno-19-389" href="#__codelineno-19-389"></a>        properties:
</span><span id="__span-19-390"><a id="__codelineno-19-390" name="__codelineno-19-390" href="#__codelineno-19-390"></a>          apiVersion:
</span><span id="__span-19-391"><a id="__codelineno-19-391" name="__codelineno-19-391" href="#__codelineno-19-391"></a>            description: &#39;APIVersion defines the versioned schema of this representation
</span><span id="__span-19-392"><a id="__codelineno-19-392" name="__codelineno-19-392" href="#__codelineno-19-392"></a>              of an object. Servers should convert recognized schemas to the latest
</span><span id="__span-19-393"><a id="__codelineno-19-393" name="__codelineno-19-393" href="#__codelineno-19-393"></a>              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#39;
</span><span id="__span-19-394"><a id="__codelineno-19-394" name="__codelineno-19-394" href="#__codelineno-19-394"></a>            type: string
</span><span id="__span-19-395"><a id="__codelineno-19-395" name="__codelineno-19-395" href="#__codelineno-19-395"></a>          kind:
</span><span id="__span-19-396"><a id="__codelineno-19-396" name="__codelineno-19-396" href="#__codelineno-19-396"></a>            description: &#39;Kind is a string value representing the REST resource this
</span><span id="__span-19-397"><a id="__codelineno-19-397" name="__codelineno-19-397" href="#__codelineno-19-397"></a>              object represents. Servers may infer this from the endpoint the client
</span><span id="__span-19-398"><a id="__codelineno-19-398" name="__codelineno-19-398" href="#__codelineno-19-398"></a>              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#39;
</span><span id="__span-19-399"><a id="__codelineno-19-399" name="__codelineno-19-399" href="#__codelineno-19-399"></a>            type: string
</span><span id="__span-19-400"><a id="__codelineno-19-400" name="__codelineno-19-400" href="#__codelineno-19-400"></a>          metadata:
</span><span id="__span-19-401"><a id="__codelineno-19-401" name="__codelineno-19-401" href="#__codelineno-19-401"></a>            type: object
</span><span id="__span-19-402"><a id="__codelineno-19-402" name="__codelineno-19-402" href="#__codelineno-19-402"></a>          spec:
</span><span id="__span-19-403"><a id="__codelineno-19-403" name="__codelineno-19-403" href="#__codelineno-19-403"></a>            description: ClusterInformationSpec contains the values of describing
</span><span id="__span-19-404"><a id="__codelineno-19-404" name="__codelineno-19-404" href="#__codelineno-19-404"></a>              the cluster.
</span><span id="__span-19-405"><a id="__codelineno-19-405" name="__codelineno-19-405" href="#__codelineno-19-405"></a>            properties:
</span><span id="__span-19-406"><a id="__codelineno-19-406" name="__codelineno-19-406" href="#__codelineno-19-406"></a>              calicoVersion:
</span><span id="__span-19-407"><a id="__codelineno-19-407" name="__codelineno-19-407" href="#__codelineno-19-407"></a>                description: CalicoVersion is the version of Calico that the cluster
</span><span id="__span-19-408"><a id="__codelineno-19-408" name="__codelineno-19-408" href="#__codelineno-19-408"></a>                  is running
</span><span id="__span-19-409"><a id="__codelineno-19-409" name="__codelineno-19-409" href="#__codelineno-19-409"></a>                type: string
</span><span id="__span-19-410"><a id="__codelineno-19-410" name="__codelineno-19-410" href="#__codelineno-19-410"></a>              clusterGUID:
</span><span id="__span-19-411"><a id="__codelineno-19-411" name="__codelineno-19-411" href="#__codelineno-19-411"></a>                description: ClusterGUID is the GUID of the cluster
</span><span id="__span-19-412"><a id="__codelineno-19-412" name="__codelineno-19-412" href="#__codelineno-19-412"></a>                type: string
</span><span id="__span-19-413"><a id="__codelineno-19-413" name="__codelineno-19-413" href="#__codelineno-19-413"></a>              clusterType:
</span><span id="__span-19-414"><a id="__codelineno-19-414" name="__codelineno-19-414" href="#__codelineno-19-414"></a>                description: ClusterType describes the type of the cluster
</span><span id="__span-19-415"><a id="__codelineno-19-415" name="__codelineno-19-415" href="#__codelineno-19-415"></a>                type: string
</span><span id="__span-19-416"><a id="__codelineno-19-416" name="__codelineno-19-416" href="#__codelineno-19-416"></a>              datastoreReady:
</span><span id="__span-19-417"><a id="__codelineno-19-417" name="__codelineno-19-417" href="#__codelineno-19-417"></a>                description: DatastoreReady is used during significant datastore migrations
</span><span id="__span-19-418"><a id="__codelineno-19-418" name="__codelineno-19-418" href="#__codelineno-19-418"></a>                  to signal to components such as Felix that it should wait before
</span><span id="__span-19-419"><a id="__codelineno-19-419" name="__codelineno-19-419" href="#__codelineno-19-419"></a>                  accessing the datastore.
</span><span id="__span-19-420"><a id="__codelineno-19-420" name="__codelineno-19-420" href="#__codelineno-19-420"></a>                type: boolean
</span><span id="__span-19-421"><a id="__codelineno-19-421" name="__codelineno-19-421" href="#__codelineno-19-421"></a>              variant:
</span><span id="__span-19-422"><a id="__codelineno-19-422" name="__codelineno-19-422" href="#__codelineno-19-422"></a>                description: Variant declares which variant of Calico should be active.
</span><span id="__span-19-423"><a id="__codelineno-19-423" name="__codelineno-19-423" href="#__codelineno-19-423"></a>                type: string
</span><span id="__span-19-424"><a id="__codelineno-19-424" name="__codelineno-19-424" href="#__codelineno-19-424"></a>            type: object
</span><span id="__span-19-425"><a id="__codelineno-19-425" name="__codelineno-19-425" href="#__codelineno-19-425"></a>        type: object
</span><span id="__span-19-426"><a id="__codelineno-19-426" name="__codelineno-19-426" href="#__codelineno-19-426"></a>    served: true
</span><span id="__span-19-427"><a id="__codelineno-19-427" name="__codelineno-19-427" href="#__codelineno-19-427"></a>    storage: true
</span><span id="__span-19-428"><a id="__codelineno-19-428" name="__codelineno-19-428" href="#__codelineno-19-428"></a>status:
</span><span id="__span-19-429"><a id="__codelineno-19-429" name="__codelineno-19-429" href="#__codelineno-19-429"></a>  acceptedNames:
</span><span id="__span-19-430"><a id="__codelineno-19-430" name="__codelineno-19-430" href="#__codelineno-19-430"></a>    kind: &quot;&quot;
</span><span id="__span-19-431"><a id="__codelineno-19-431" name="__codelineno-19-431" href="#__codelineno-19-431"></a>    plural: &quot;&quot;
</span><span id="__span-19-432"><a id="__codelineno-19-432" name="__codelineno-19-432" href="#__codelineno-19-432"></a>  conditions: []
</span><span id="__span-19-433"><a id="__codelineno-19-433" name="__codelineno-19-433" href="#__codelineno-19-433"></a>  storedVersions: []
</span><span id="__span-19-434"><a id="__codelineno-19-434" name="__codelineno-19-434" href="#__codelineno-19-434"></a>
</span><span id="__span-19-435"><a id="__codelineno-19-435" name="__codelineno-19-435" href="#__codelineno-19-435"></a>---
</span><span id="__span-19-436"><a id="__codelineno-19-436" name="__codelineno-19-436" href="#__codelineno-19-436"></a>apiVersion: apiextensions.k8s.io/v1
</span><span id="__span-19-437"><a id="__codelineno-19-437" name="__codelineno-19-437" href="#__codelineno-19-437"></a>kind: CustomResourceDefinition
</span><span id="__span-19-438"><a id="__codelineno-19-438" name="__codelineno-19-438" href="#__codelineno-19-438"></a>metadata:
</span><span id="__span-19-439"><a id="__codelineno-19-439" name="__codelineno-19-439" href="#__codelineno-19-439"></a>  name: felixconfigurations.crd.projectcalico.org
</span><span id="__span-19-440"><a id="__codelineno-19-440" name="__codelineno-19-440" href="#__codelineno-19-440"></a>spec:
</span><span id="__span-19-441"><a id="__codelineno-19-441" name="__codelineno-19-441" href="#__codelineno-19-441"></a>  group: crd.projectcalico.org
</span><span id="__span-19-442"><a id="__codelineno-19-442" name="__codelineno-19-442" href="#__codelineno-19-442"></a>  names:
</span><span id="__span-19-443"><a id="__codelineno-19-443" name="__codelineno-19-443" href="#__codelineno-19-443"></a>    kind: FelixConfiguration
</span><span id="__span-19-444"><a id="__codelineno-19-444" name="__codelineno-19-444" href="#__codelineno-19-444"></a>    listKind: FelixConfigurationList
</span><span id="__span-19-445"><a id="__codelineno-19-445" name="__codelineno-19-445" href="#__codelineno-19-445"></a>    plural: felixconfigurations
</span><span id="__span-19-446"><a id="__codelineno-19-446" name="__codelineno-19-446" href="#__codelineno-19-446"></a>    singular: felixconfiguration
</span><span id="__span-19-447"><a id="__codelineno-19-447" name="__codelineno-19-447" href="#__codelineno-19-447"></a>  scope: Cluster
</span><span id="__span-19-448"><a id="__codelineno-19-448" name="__codelineno-19-448" href="#__codelineno-19-448"></a>  versions:
</span><span id="__span-19-449"><a id="__codelineno-19-449" name="__codelineno-19-449" href="#__codelineno-19-449"></a>  - name: v1
</span><span id="__span-19-450"><a id="__codelineno-19-450" name="__codelineno-19-450" href="#__codelineno-19-450"></a>    schema:
</span><span id="__span-19-451"><a id="__codelineno-19-451" name="__codelineno-19-451" href="#__codelineno-19-451"></a>      openAPIV3Schema:
</span><span id="__span-19-452"><a id="__codelineno-19-452" name="__codelineno-19-452" href="#__codelineno-19-452"></a>        description: Felix Configuration contains the configuration for Felix.
</span><span id="__span-19-453"><a id="__codelineno-19-453" name="__codelineno-19-453" href="#__codelineno-19-453"></a>        properties:
</span><span id="__span-19-454"><a id="__codelineno-19-454" name="__codelineno-19-454" href="#__codelineno-19-454"></a>          apiVersion:
</span><span id="__span-19-455"><a id="__codelineno-19-455" name="__codelineno-19-455" href="#__codelineno-19-455"></a>            description: &#39;APIVersion defines the versioned schema of this representation
</span><span id="__span-19-456"><a id="__codelineno-19-456" name="__codelineno-19-456" href="#__codelineno-19-456"></a>              of an object. Servers should convert recognized schemas to the latest
</span><span id="__span-19-457"><a id="__codelineno-19-457" name="__codelineno-19-457" href="#__codelineno-19-457"></a>              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#39;
</span><span id="__span-19-458"><a id="__codelineno-19-458" name="__codelineno-19-458" href="#__codelineno-19-458"></a>            type: string
</span><span id="__span-19-459"><a id="__codelineno-19-459" name="__codelineno-19-459" href="#__codelineno-19-459"></a>          kind:
</span><span id="__span-19-460"><a id="__codelineno-19-460" name="__codelineno-19-460" href="#__codelineno-19-460"></a>            description: &#39;Kind is a string value representing the REST resource this
</span><span id="__span-19-461"><a id="__codelineno-19-461" name="__codelineno-19-461" href="#__codelineno-19-461"></a>              object represents. Servers may infer this from the endpoint the client
</span><span id="__span-19-462"><a id="__codelineno-19-462" name="__codelineno-19-462" href="#__codelineno-19-462"></a>              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#39;
</span><span id="__span-19-463"><a id="__codelineno-19-463" name="__codelineno-19-463" href="#__codelineno-19-463"></a>            type: string
</span><span id="__span-19-464"><a id="__codelineno-19-464" name="__codelineno-19-464" href="#__codelineno-19-464"></a>          metadata:
</span><span id="__span-19-465"><a id="__codelineno-19-465" name="__codelineno-19-465" href="#__codelineno-19-465"></a>            type: object
</span><span id="__span-19-466"><a id="__codelineno-19-466" name="__codelineno-19-466" href="#__codelineno-19-466"></a>          spec:
</span><span id="__span-19-467"><a id="__codelineno-19-467" name="__codelineno-19-467" href="#__codelineno-19-467"></a>            description: FelixConfigurationSpec contains the values of the Felix configuration.
</span><span id="__span-19-468"><a id="__codelineno-19-468" name="__codelineno-19-468" href="#__codelineno-19-468"></a>            properties:
</span><span id="__span-19-469"><a id="__codelineno-19-469" name="__codelineno-19-469" href="#__codelineno-19-469"></a>              allowIPIPPacketsFromWorkloads:
</span><span id="__span-19-470"><a id="__codelineno-19-470" name="__codelineno-19-470" href="#__codelineno-19-470"></a>                description: &#39;AllowIPIPPacketsFromWorkloads controls whether Felix
</span><span id="__span-19-471"><a id="__codelineno-19-471" name="__codelineno-19-471" href="#__codelineno-19-471"></a>                  will add a rule to drop IPIP encapsulated traffic from workloads
</span><span id="__span-19-472"><a id="__codelineno-19-472" name="__codelineno-19-472" href="#__codelineno-19-472"></a>                  [Default: false]&#39;
</span><span id="__span-19-473"><a id="__codelineno-19-473" name="__codelineno-19-473" href="#__codelineno-19-473"></a>                type: boolean
</span><span id="__span-19-474"><a id="__codelineno-19-474" name="__codelineno-19-474" href="#__codelineno-19-474"></a>              allowVXLANPacketsFromWorkloads:
</span><span id="__span-19-475"><a id="__codelineno-19-475" name="__codelineno-19-475" href="#__codelineno-19-475"></a>                description: &#39;AllowVXLANPacketsFromWorkloads controls whether Felix
</span><span id="__span-19-476"><a id="__codelineno-19-476" name="__codelineno-19-476" href="#__codelineno-19-476"></a>                  will add a rule to drop VXLAN encapsulated traffic from workloads
</span><span id="__span-19-477"><a id="__codelineno-19-477" name="__codelineno-19-477" href="#__codelineno-19-477"></a>                  [Default: false]&#39;
</span><span id="__span-19-478"><a id="__codelineno-19-478" name="__codelineno-19-478" href="#__codelineno-19-478"></a>                type: boolean
</span><span id="__span-19-479"><a id="__codelineno-19-479" name="__codelineno-19-479" href="#__codelineno-19-479"></a>              awsSrcDstCheck:
</span><span id="__span-19-480"><a id="__codelineno-19-480" name="__codelineno-19-480" href="#__codelineno-19-480"></a>                description: &#39;Set source-destination-check on AWS EC2 instances. Accepted
</span><span id="__span-19-481"><a id="__codelineno-19-481" name="__codelineno-19-481" href="#__codelineno-19-481"></a>                  value must be one of &quot;DoNothing&quot;, &quot;Enabled&quot; or &quot;Disabled&quot;. [Default:
</span><span id="__span-19-482"><a id="__codelineno-19-482" name="__codelineno-19-482" href="#__codelineno-19-482"></a>                  DoNothing]&#39;
</span><span id="__span-19-483"><a id="__codelineno-19-483" name="__codelineno-19-483" href="#__codelineno-19-483"></a>                enum:
</span><span id="__span-19-484"><a id="__codelineno-19-484" name="__codelineno-19-484" href="#__codelineno-19-484"></a>                - DoNothing
</span><span id="__span-19-485"><a id="__codelineno-19-485" name="__codelineno-19-485" href="#__codelineno-19-485"></a>                - Enable
</span><span id="__span-19-486"><a id="__codelineno-19-486" name="__codelineno-19-486" href="#__codelineno-19-486"></a>                - Disable
</span><span id="__span-19-487"><a id="__codelineno-19-487" name="__codelineno-19-487" href="#__codelineno-19-487"></a>                type: string
</span><span id="__span-19-488"><a id="__codelineno-19-488" name="__codelineno-19-488" href="#__codelineno-19-488"></a>              bpfConnectTimeLoadBalancingEnabled:
</span><span id="__span-19-489"><a id="__codelineno-19-489" name="__codelineno-19-489" href="#__codelineno-19-489"></a>                description: &#39;BPFConnectTimeLoadBalancingEnabled when in BPF mode,
</span><span id="__span-19-490"><a id="__codelineno-19-490" name="__codelineno-19-490" href="#__codelineno-19-490"></a>                  controls whether Felix installs the connection-time load balancer.  The
</span><span id="__span-19-491"><a id="__codelineno-19-491" name="__codelineno-19-491" href="#__codelineno-19-491"></a>                  connect-time load balancer is required for the host to be able to
</span><span id="__span-19-492"><a id="__codelineno-19-492" name="__codelineno-19-492" href="#__codelineno-19-492"></a>                  reach Kubernetes services and it improves the performance of pod-to-service
</span><span id="__span-19-493"><a id="__codelineno-19-493" name="__codelineno-19-493" href="#__codelineno-19-493"></a>                  connections.  The only reason to disable it is for debugging purposes.  [Default:
</span><span id="__span-19-494"><a id="__codelineno-19-494" name="__codelineno-19-494" href="#__codelineno-19-494"></a>                  true]&#39;
</span><span id="__span-19-495"><a id="__codelineno-19-495" name="__codelineno-19-495" href="#__codelineno-19-495"></a>                type: boolean
</span><span id="__span-19-496"><a id="__codelineno-19-496" name="__codelineno-19-496" href="#__codelineno-19-496"></a>              bpfDataIfacePattern:
</span><span id="__span-19-497"><a id="__codelineno-19-497" name="__codelineno-19-497" href="#__codelineno-19-497"></a>                description: BPFDataIfacePattern is a regular expression that controls
</span><span id="__span-19-498"><a id="__codelineno-19-498" name="__codelineno-19-498" href="#__codelineno-19-498"></a>                  which interfaces Felix should attach BPF programs to in order to
</span><span id="__span-19-499"><a id="__codelineno-19-499" name="__codelineno-19-499" href="#__codelineno-19-499"></a>                  catch traffic to/from the network.  This needs to match the interfaces
</span><span id="__span-19-500"><a id="__codelineno-19-500" name="__codelineno-19-500" href="#__codelineno-19-500"></a>                  that Calico workload traffic flows over as well as any interfaces
</span><span id="__span-19-501"><a id="__codelineno-19-501" name="__codelineno-19-501" href="#__codelineno-19-501"></a>                  that handle incoming traffic to nodeports and services from outside
</span><span id="__span-19-502"><a id="__codelineno-19-502" name="__codelineno-19-502" href="#__codelineno-19-502"></a>                  the cluster.  It should not match the workload interfaces (usually
</span><span id="__span-19-503"><a id="__codelineno-19-503" name="__codelineno-19-503" href="#__codelineno-19-503"></a>                  named cali...).
</span><span id="__span-19-504"><a id="__codelineno-19-504" name="__codelineno-19-504" href="#__codelineno-19-504"></a>                type: string
</span><span id="__span-19-505"><a id="__codelineno-19-505" name="__codelineno-19-505" href="#__codelineno-19-505"></a>              bpfDisableUnprivileged:
</span><span id="__span-19-506"><a id="__codelineno-19-506" name="__codelineno-19-506" href="#__codelineno-19-506"></a>                description: &#39;BPFDisableUnprivileged, if enabled, Felix sets the kernel.unprivileged_bpf_disabled
</span><span id="__span-19-507"><a id="__codelineno-19-507" name="__codelineno-19-507" href="#__codelineno-19-507"></a>                  sysctl to disable unprivileged use of BPF.  This ensures that unprivileged
</span><span id="__span-19-508"><a id="__codelineno-19-508" name="__codelineno-19-508" href="#__codelineno-19-508"></a>                  users cannot access Calico&#39;&#39;s BPF maps and cannot insert their own
</span><span id="__span-19-509"><a id="__codelineno-19-509" name="__codelineno-19-509" href="#__codelineno-19-509"></a>                  BPF programs to interfere with Calico&#39;&#39;s. [Default: true]&#39;
</span><span id="__span-19-510"><a id="__codelineno-19-510" name="__codelineno-19-510" href="#__codelineno-19-510"></a>                type: boolean
</span><span id="__span-19-511"><a id="__codelineno-19-511" name="__codelineno-19-511" href="#__codelineno-19-511"></a>              bpfEnabled:
</span><span id="__span-19-512"><a id="__codelineno-19-512" name="__codelineno-19-512" href="#__codelineno-19-512"></a>                description: &#39;BPFEnabled, if enabled Felix will use the BPF dataplane.
</span><span id="__span-19-513"><a id="__codelineno-19-513" name="__codelineno-19-513" href="#__codelineno-19-513"></a>                  [Default: false]&#39;
</span><span id="__span-19-514"><a id="__codelineno-19-514" name="__codelineno-19-514" href="#__codelineno-19-514"></a>                type: boolean
</span><span id="__span-19-515"><a id="__codelineno-19-515" name="__codelineno-19-515" href="#__codelineno-19-515"></a>              bpfExternalServiceMode:
</span><span id="__span-19-516"><a id="__codelineno-19-516" name="__codelineno-19-516" href="#__codelineno-19-516"></a>                description: &#39;BPFExternalServiceMode in BPF mode, controls how connections
</span><span id="__span-19-517"><a id="__codelineno-19-517" name="__codelineno-19-517" href="#__codelineno-19-517"></a>                  from outside the cluster to services (node ports and cluster IPs)
</span><span id="__span-19-518"><a id="__codelineno-19-518" name="__codelineno-19-518" href="#__codelineno-19-518"></a>                  are forwarded to remote workloads.  If set to &quot;Tunnel&quot; then both
</span><span id="__span-19-519"><a id="__codelineno-19-519" name="__codelineno-19-519" href="#__codelineno-19-519"></a>                  request and response traffic is tunneled to the remote node.  If
</span><span id="__span-19-520"><a id="__codelineno-19-520" name="__codelineno-19-520" href="#__codelineno-19-520"></a>                  set to &quot;DSR&quot;, the request traffic is tunneled but the response traffic
</span><span id="__span-19-521"><a id="__codelineno-19-521" name="__codelineno-19-521" href="#__codelineno-19-521"></a>                  is sent directly from the remote node.  In &quot;DSR&quot; mode, the remote
</span><span id="__span-19-522"><a id="__codelineno-19-522" name="__codelineno-19-522" href="#__codelineno-19-522"></a>                  node appears to use the IP of the ingress node; this requires a
</span><span id="__span-19-523"><a id="__codelineno-19-523" name="__codelineno-19-523" href="#__codelineno-19-523"></a>                  permissive L2 network.  [Default: Tunnel]&#39;
</span><span id="__span-19-524"><a id="__codelineno-19-524" name="__codelineno-19-524" href="#__codelineno-19-524"></a>                type: string
</span><span id="__span-19-525"><a id="__codelineno-19-525" name="__codelineno-19-525" href="#__codelineno-19-525"></a>              bpfKubeProxyEndpointSlicesEnabled:
</span><span id="__span-19-526"><a id="__codelineno-19-526" name="__codelineno-19-526" href="#__codelineno-19-526"></a>                description: BPFKubeProxyEndpointSlicesEnabled in BPF mode, controls
</span><span id="__span-19-527"><a id="__codelineno-19-527" name="__codelineno-19-527" href="#__codelineno-19-527"></a>                  whether Felix&#39;s embedded kube-proxy accepts EndpointSlices or not.
</span><span id="__span-19-528"><a id="__codelineno-19-528" name="__codelineno-19-528" href="#__codelineno-19-528"></a>                type: boolean
</span><span id="__span-19-529"><a id="__codelineno-19-529" name="__codelineno-19-529" href="#__codelineno-19-529"></a>              bpfKubeProxyIptablesCleanupEnabled:
</span><span id="__span-19-530"><a id="__codelineno-19-530" name="__codelineno-19-530" href="#__codelineno-19-530"></a>                description: &#39;BPFKubeProxyIptablesCleanupEnabled, if enabled in BPF
</span><span id="__span-19-531"><a id="__codelineno-19-531" name="__codelineno-19-531" href="#__codelineno-19-531"></a>                  mode, Felix will proactively clean up the upstream Kubernetes kube-proxy&#39;&#39;s
</span><span id="__span-19-532"><a id="__codelineno-19-532" name="__codelineno-19-532" href="#__codelineno-19-532"></a>                  iptables chains.  Should only be enabled if kube-proxy is not running.  [Default:
</span><span id="__span-19-533"><a id="__codelineno-19-533" name="__codelineno-19-533" href="#__codelineno-19-533"></a>                  true]&#39;
</span><span id="__span-19-534"><a id="__codelineno-19-534" name="__codelineno-19-534" href="#__codelineno-19-534"></a>                type: boolean
</span><span id="__span-19-535"><a id="__codelineno-19-535" name="__codelineno-19-535" href="#__codelineno-19-535"></a>              bpfKubeProxyMinSyncPeriod:
</span><span id="__span-19-536"><a id="__codelineno-19-536" name="__codelineno-19-536" href="#__codelineno-19-536"></a>                description: &#39;BPFKubeProxyMinSyncPeriod, in BPF mode, controls the
</span><span id="__span-19-537"><a id="__codelineno-19-537" name="__codelineno-19-537" href="#__codelineno-19-537"></a>                  minimum time between updates to the dataplane for Felix&#39;&#39;s embedded
</span><span id="__span-19-538"><a id="__codelineno-19-538" name="__codelineno-19-538" href="#__codelineno-19-538"></a>                  kube-proxy.  Lower values give reduced set-up latency.  Higher values
</span><span id="__span-19-539"><a id="__codelineno-19-539" name="__codelineno-19-539" href="#__codelineno-19-539"></a>                  reduce Felix CPU usage by batching up more work.  [Default: 1s]&#39;
</span><span id="__span-19-540"><a id="__codelineno-19-540" name="__codelineno-19-540" href="#__codelineno-19-540"></a>                type: string
</span><span id="__span-19-541"><a id="__codelineno-19-541" name="__codelineno-19-541" href="#__codelineno-19-541"></a>              bpfLogLevel:
</span><span id="__span-19-542"><a id="__codelineno-19-542" name="__codelineno-19-542" href="#__codelineno-19-542"></a>                description: &#39;BPFLogLevel controls the log level of the BPF programs
</span><span id="__span-19-543"><a id="__codelineno-19-543" name="__codelineno-19-543" href="#__codelineno-19-543"></a>                  when in BPF dataplane mode.  One of &quot;Off&quot;, &quot;Info&quot;, or &quot;Debug&quot;.  The
</span><span id="__span-19-544"><a id="__codelineno-19-544" name="__codelineno-19-544" href="#__codelineno-19-544"></a>                  logs are emitted to the BPF trace pipe, accessible with the command
</span><span id="__span-19-545"><a id="__codelineno-19-545" name="__codelineno-19-545" href="#__codelineno-19-545"></a>                  `tc exec bpf debug`. [Default: Off].&#39;
</span><span id="__span-19-546"><a id="__codelineno-19-546" name="__codelineno-19-546" href="#__codelineno-19-546"></a>                type: string
</span><span id="__span-19-547"><a id="__codelineno-19-547" name="__codelineno-19-547" href="#__codelineno-19-547"></a>              chainInsertMode:
</span><span id="__span-19-548"><a id="__codelineno-19-548" name="__codelineno-19-548" href="#__codelineno-19-548"></a>                description: &#39;ChainInsertMode controls whether Felix hooks the kernel&#39;&#39;s
</span><span id="__span-19-549"><a id="__codelineno-19-549" name="__codelineno-19-549" href="#__codelineno-19-549"></a>                  top-level iptables chains by inserting a rule at the top of the
</span><span id="__span-19-550"><a id="__codelineno-19-550" name="__codelineno-19-550" href="#__codelineno-19-550"></a>                  chain or by appending a rule at the bottom. insert is the safe default
</span><span id="__span-19-551"><a id="__codelineno-19-551" name="__codelineno-19-551" href="#__codelineno-19-551"></a>                  since it prevents Calico&#39;&#39;s rules from being bypassed. If you switch
</span><span id="__span-19-552"><a id="__codelineno-19-552" name="__codelineno-19-552" href="#__codelineno-19-552"></a>                  to append mode, be sure that the other rules in the chains signal
</span><span id="__span-19-553"><a id="__codelineno-19-553" name="__codelineno-19-553" href="#__codelineno-19-553"></a>                  acceptance by falling through to the Calico rules, otherwise the
</span><span id="__span-19-554"><a id="__codelineno-19-554" name="__codelineno-19-554" href="#__codelineno-19-554"></a>                  Calico policy will be bypassed. [Default: insert]&#39;
</span><span id="__span-19-555"><a id="__codelineno-19-555" name="__codelineno-19-555" href="#__codelineno-19-555"></a>                type: string
</span><span id="__span-19-556"><a id="__codelineno-19-556" name="__codelineno-19-556" href="#__codelineno-19-556"></a>              dataplaneDriver:
</span><span id="__span-19-557"><a id="__codelineno-19-557" name="__codelineno-19-557" href="#__codelineno-19-557"></a>                type: string
</span><span id="__span-19-558"><a id="__codelineno-19-558" name="__codelineno-19-558" href="#__codelineno-19-558"></a>              debugDisableLogDropping:
</span><span id="__span-19-559"><a id="__codelineno-19-559" name="__codelineno-19-559" href="#__codelineno-19-559"></a>                type: boolean
</span><span id="__span-19-560"><a id="__codelineno-19-560" name="__codelineno-19-560" href="#__codelineno-19-560"></a>              debugMemoryProfilePath:
</span><span id="__span-19-561"><a id="__codelineno-19-561" name="__codelineno-19-561" href="#__codelineno-19-561"></a>                type: string
</span><span id="__span-19-562"><a id="__codelineno-19-562" name="__codelineno-19-562" href="#__codelineno-19-562"></a>              debugSimulateCalcGraphHangAfter:
</span><span id="__span-19-563"><a id="__codelineno-19-563" name="__codelineno-19-563" href="#__codelineno-19-563"></a>                type: string
</span><span id="__span-19-564"><a id="__codelineno-19-564" name="__codelineno-19-564" href="#__codelineno-19-564"></a>              debugSimulateDataplaneHangAfter:
</span><span id="__span-19-565"><a id="__codelineno-19-565" name="__codelineno-19-565" href="#__codelineno-19-565"></a>                type: string
</span><span id="__span-19-566"><a id="__codelineno-19-566" name="__codelineno-19-566" href="#__codelineno-19-566"></a>              defaultEndpointToHostAction:
</span><span id="__span-19-567"><a id="__codelineno-19-567" name="__codelineno-19-567" href="#__codelineno-19-567"></a>                description: &#39;DefaultEndpointToHostAction controls what happens to
</span><span id="__span-19-568"><a id="__codelineno-19-568" name="__codelineno-19-568" href="#__codelineno-19-568"></a>                  traffic that goes from a workload endpoint to the host itself (after
</span><span id="__span-19-569"><a id="__codelineno-19-569" name="__codelineno-19-569" href="#__codelineno-19-569"></a>                  the traffic hits the endpoint egress policy). By default Calico
</span><span id="__span-19-570"><a id="__codelineno-19-570" name="__codelineno-19-570" href="#__codelineno-19-570"></a>                  blocks traffic from workload endpoints to the host itself with an
</span><span id="__span-19-571"><a id="__codelineno-19-571" name="__codelineno-19-571" href="#__codelineno-19-571"></a>                  iptables &quot;DROP&quot; action. If you want to allow some or all traffic
</span><span id="__span-19-572"><a id="__codelineno-19-572" name="__codelineno-19-572" href="#__codelineno-19-572"></a>                  from endpoint to host, set this parameter to RETURN or ACCEPT. Use
</span><span id="__span-19-573"><a id="__codelineno-19-573" name="__codelineno-19-573" href="#__codelineno-19-573"></a>                  RETURN if you have your own rules in the iptables &quot;INPUT&quot; chain;
</span><span id="__span-19-574"><a id="__codelineno-19-574" name="__codelineno-19-574" href="#__codelineno-19-574"></a>                  Calico will insert its rules at the top of that chain, then &quot;RETURN&quot;
</span><span id="__span-19-575"><a id="__codelineno-19-575" name="__codelineno-19-575" href="#__codelineno-19-575"></a>                  packets to the &quot;INPUT&quot; chain once it has completed processing workload
</span><span id="__span-19-576"><a id="__codelineno-19-576" name="__codelineno-19-576" href="#__codelineno-19-576"></a>                  endpoint egress policy. Use ACCEPT to unconditionally accept packets
</span><span id="__span-19-577"><a id="__codelineno-19-577" name="__codelineno-19-577" href="#__codelineno-19-577"></a>                  from workloads after processing workload endpoint egress policy.
</span><span id="__span-19-578"><a id="__codelineno-19-578" name="__codelineno-19-578" href="#__codelineno-19-578"></a>                  [Default: Drop]&#39;
</span><span id="__span-19-579"><a id="__codelineno-19-579" name="__codelineno-19-579" href="#__codelineno-19-579"></a>                type: string
</span><span id="__span-19-580"><a id="__codelineno-19-580" name="__codelineno-19-580" href="#__codelineno-19-580"></a>              deviceRouteProtocol:
</span><span id="__span-19-581"><a id="__codelineno-19-581" name="__codelineno-19-581" href="#__codelineno-19-581"></a>                description: This defines the route protocol added to programmed device
</span><span id="__span-19-582"><a id="__codelineno-19-582" name="__codelineno-19-582" href="#__codelineno-19-582"></a>                  routes, by default this will be RTPROT_BOOT when left blank.
</span><span id="__span-19-583"><a id="__codelineno-19-583" name="__codelineno-19-583" href="#__codelineno-19-583"></a>                type: integer
</span><span id="__span-19-584"><a id="__codelineno-19-584" name="__codelineno-19-584" href="#__codelineno-19-584"></a>              deviceRouteSourceAddress:
</span><span id="__span-19-585"><a id="__codelineno-19-585" name="__codelineno-19-585" href="#__codelineno-19-585"></a>                description: This is the source address to use on programmed device
</span><span id="__span-19-586"><a id="__codelineno-19-586" name="__codelineno-19-586" href="#__codelineno-19-586"></a>                  routes. By default the source address is left blank, leaving the
</span><span id="__span-19-587"><a id="__codelineno-19-587" name="__codelineno-19-587" href="#__codelineno-19-587"></a>                  kernel to choose the source address used.
</span><span id="__span-19-588"><a id="__codelineno-19-588" name="__codelineno-19-588" href="#__codelineno-19-588"></a>                type: string
</span><span id="__span-19-589"><a id="__codelineno-19-589" name="__codelineno-19-589" href="#__codelineno-19-589"></a>              disableConntrackInvalidCheck:
</span><span id="__span-19-590"><a id="__codelineno-19-590" name="__codelineno-19-590" href="#__codelineno-19-590"></a>                type: boolean
</span><span id="__span-19-591"><a id="__codelineno-19-591" name="__codelineno-19-591" href="#__codelineno-19-591"></a>              endpointReportingDelay:
</span><span id="__span-19-592"><a id="__codelineno-19-592" name="__codelineno-19-592" href="#__codelineno-19-592"></a>                type: string
</span><span id="__span-19-593"><a id="__codelineno-19-593" name="__codelineno-19-593" href="#__codelineno-19-593"></a>              endpointReportingEnabled:
</span><span id="__span-19-594"><a id="__codelineno-19-594" name="__codelineno-19-594" href="#__codelineno-19-594"></a>                type: boolean
</span><span id="__span-19-595"><a id="__codelineno-19-595" name="__codelineno-19-595" href="#__codelineno-19-595"></a>              externalNodesList:
</span><span id="__span-19-596"><a id="__codelineno-19-596" name="__codelineno-19-596" href="#__codelineno-19-596"></a>                description: ExternalNodesCIDRList is a list of CIDR&#39;s of external-non-calico-nodes
</span><span id="__span-19-597"><a id="__codelineno-19-597" name="__codelineno-19-597" href="#__codelineno-19-597"></a>                  which may source tunnel traffic and have the tunneled traffic be
</span><span id="__span-19-598"><a id="__codelineno-19-598" name="__codelineno-19-598" href="#__codelineno-19-598"></a>                  accepted at calico nodes.
</span><span id="__span-19-599"><a id="__codelineno-19-599" name="__codelineno-19-599" href="#__codelineno-19-599"></a>                items:
</span><span id="__span-19-600"><a id="__codelineno-19-600" name="__codelineno-19-600" href="#__codelineno-19-600"></a>                  type: string
</span><span id="__span-19-601"><a id="__codelineno-19-601" name="__codelineno-19-601" href="#__codelineno-19-601"></a>                type: array
</span><span id="__span-19-602"><a id="__codelineno-19-602" name="__codelineno-19-602" href="#__codelineno-19-602"></a>              failsafeInboundHostPorts:
</span><span id="__span-19-603"><a id="__codelineno-19-603" name="__codelineno-19-603" href="#__codelineno-19-603"></a>                description: &#39;FailsafeInboundHostPorts is a comma-delimited list of
</span><span id="__span-19-604"><a id="__codelineno-19-604" name="__codelineno-19-604" href="#__codelineno-19-604"></a>                  UDP/TCP ports that Felix will allow incoming traffic to host endpoints
</span><span id="__span-19-605"><a id="__codelineno-19-605" name="__codelineno-19-605" href="#__codelineno-19-605"></a>                  on irrespective of the security policy. This is useful to avoid
</span><span id="__span-19-606"><a id="__codelineno-19-606" name="__codelineno-19-606" href="#__codelineno-19-606"></a>                  accidentally cutting off a host with incorrect configuration. Each
</span><span id="__span-19-607"><a id="__codelineno-19-607" name="__codelineno-19-607" href="#__codelineno-19-607"></a>                  port should be specified as tcp:&lt;port-number&gt; or udp:&lt;port-number&gt;.
</span><span id="__span-19-608"><a id="__codelineno-19-608" name="__codelineno-19-608" href="#__codelineno-19-608"></a>                  For back-compatibility, if the protocol is not specified, it defaults
</span><span id="__span-19-609"><a id="__codelineno-19-609" name="__codelineno-19-609" href="#__codelineno-19-609"></a>                  to &quot;tcp&quot;. To disable all inbound host ports, use the value none.
</span><span id="__span-19-610"><a id="__codelineno-19-610" name="__codelineno-19-610" href="#__codelineno-19-610"></a>                  The default value allows ssh access and DHCP. [Default: tcp:22,
</span><span id="__span-19-611"><a id="__codelineno-19-611" name="__codelineno-19-611" href="#__codelineno-19-611"></a>                  udp:68, tcp:179, tcp:2379, tcp:2380, tcp:6443, tcp:6666, tcp:6667]&#39;
</span><span id="__span-19-612"><a id="__codelineno-19-612" name="__codelineno-19-612" href="#__codelineno-19-612"></a>                items:
</span><span id="__span-19-613"><a id="__codelineno-19-613" name="__codelineno-19-613" href="#__codelineno-19-613"></a>                  description: ProtoPort is combination of protocol and port, both
</span><span id="__span-19-614"><a id="__codelineno-19-614" name="__codelineno-19-614" href="#__codelineno-19-614"></a>                    must be specified.
</span><span id="__span-19-615"><a id="__codelineno-19-615" name="__codelineno-19-615" href="#__codelineno-19-615"></a>                  properties:
</span><span id="__span-19-616"><a id="__codelineno-19-616" name="__codelineno-19-616" href="#__codelineno-19-616"></a>                    port:
</span><span id="__span-19-617"><a id="__codelineno-19-617" name="__codelineno-19-617" href="#__codelineno-19-617"></a>                      type: integer
</span><span id="__span-19-618"><a id="__codelineno-19-618" name="__codelineno-19-618" href="#__codelineno-19-618"></a>                    protocol:
</span><span id="__span-19-619"><a id="__codelineno-19-619" name="__codelineno-19-619" href="#__codelineno-19-619"></a>                      type: string
</span><span id="__span-19-620"><a id="__codelineno-19-620" name="__codelineno-19-620" href="#__codelineno-19-620"></a>                  required:
</span><span id="__span-19-621"><a id="__codelineno-19-621" name="__codelineno-19-621" href="#__codelineno-19-621"></a>                  - port
</span><span id="__span-19-622"><a id="__codelineno-19-622" name="__codelineno-19-622" href="#__codelineno-19-622"></a>                  - protocol
</span><span id="__span-19-623"><a id="__codelineno-19-623" name="__codelineno-19-623" href="#__codelineno-19-623"></a>                  type: object
</span><span id="__span-19-624"><a id="__codelineno-19-624" name="__codelineno-19-624" href="#__codelineno-19-624"></a>                type: array
</span><span id="__span-19-625"><a id="__codelineno-19-625" name="__codelineno-19-625" href="#__codelineno-19-625"></a>              failsafeOutboundHostPorts:
</span><span id="__span-19-626"><a id="__codelineno-19-626" name="__codelineno-19-626" href="#__codelineno-19-626"></a>                description: &#39;FailsafeOutboundHostPorts is a comma-delimited list
</span><span id="__span-19-627"><a id="__codelineno-19-627" name="__codelineno-19-627" href="#__codelineno-19-627"></a>                  of UDP/TCP ports that Felix will allow outgoing traffic from host
</span><span id="__span-19-628"><a id="__codelineno-19-628" name="__codelineno-19-628" href="#__codelineno-19-628"></a>                  endpoints to irrespective of the security policy. This is useful
</span><span id="__span-19-629"><a id="__codelineno-19-629" name="__codelineno-19-629" href="#__codelineno-19-629"></a>                  to avoid accidentally cutting off a host with incorrect configuration.
</span><span id="__span-19-630"><a id="__codelineno-19-630" name="__codelineno-19-630" href="#__codelineno-19-630"></a>                  Each port should be specified as tcp:&lt;port-number&gt; or udp:&lt;port-number&gt;.
</span><span id="__span-19-631"><a id="__codelineno-19-631" name="__codelineno-19-631" href="#__codelineno-19-631"></a>                  For back-compatibility, if the protocol is not specified, it defaults
</span><span id="__span-19-632"><a id="__codelineno-19-632" name="__codelineno-19-632" href="#__codelineno-19-632"></a>                  to &quot;tcp&quot;. To disable all outbound host ports, use the value none.
</span><span id="__span-19-633"><a id="__codelineno-19-633" name="__codelineno-19-633" href="#__codelineno-19-633"></a>                  The default value opens etcd&#39;&#39;s standard ports to ensure that Felix
</span><span id="__span-19-634"><a id="__codelineno-19-634" name="__codelineno-19-634" href="#__codelineno-19-634"></a>                  does not get cut off from etcd as well as allowing DHCP and DNS.
</span><span id="__span-19-635"><a id="__codelineno-19-635" name="__codelineno-19-635" href="#__codelineno-19-635"></a>                  [Default: tcp:179, tcp:2379, tcp:2380, tcp:6443, tcp:6666, tcp:6667,
</span><span id="__span-19-636"><a id="__codelineno-19-636" name="__codelineno-19-636" href="#__codelineno-19-636"></a>                  udp:53, udp:67]&#39;
</span><span id="__span-19-637"><a id="__codelineno-19-637" name="__codelineno-19-637" href="#__codelineno-19-637"></a>                items:
</span><span id="__span-19-638"><a id="__codelineno-19-638" name="__codelineno-19-638" href="#__codelineno-19-638"></a>                  description: ProtoPort is combination of protocol and port, both
</span><span id="__span-19-639"><a id="__codelineno-19-639" name="__codelineno-19-639" href="#__codelineno-19-639"></a>                    must be specified.
</span><span id="__span-19-640"><a id="__codelineno-19-640" name="__codelineno-19-640" href="#__codelineno-19-640"></a>                  properties:
</span><span id="__span-19-641"><a id="__codelineno-19-641" name="__codelineno-19-641" href="#__codelineno-19-641"></a>                    port:
</span><span id="__span-19-642"><a id="__codelineno-19-642" name="__codelineno-19-642" href="#__codelineno-19-642"></a>                      type: integer
</span><span id="__span-19-643"><a id="__codelineno-19-643" name="__codelineno-19-643" href="#__codelineno-19-643"></a>                    protocol:
</span><span id="__span-19-644"><a id="__codelineno-19-644" name="__codelineno-19-644" href="#__codelineno-19-644"></a>                      type: string
</span><span id="__span-19-645"><a id="__codelineno-19-645" name="__codelineno-19-645" href="#__codelineno-19-645"></a>                  required:
</span><span id="__span-19-646"><a id="__codelineno-19-646" name="__codelineno-19-646" href="#__codelineno-19-646"></a>                  - port
</span><span id="__span-19-647"><a id="__codelineno-19-647" name="__codelineno-19-647" href="#__codelineno-19-647"></a>                  - protocol
</span><span id="__span-19-648"><a id="__codelineno-19-648" name="__codelineno-19-648" href="#__codelineno-19-648"></a>                  type: object
</span><span id="__span-19-649"><a id="__codelineno-19-649" name="__codelineno-19-649" href="#__codelineno-19-649"></a>                type: array
</span><span id="__span-19-650"><a id="__codelineno-19-650" name="__codelineno-19-650" href="#__codelineno-19-650"></a>              featureDetectOverride:
</span><span id="__span-19-651"><a id="__codelineno-19-651" name="__codelineno-19-651" href="#__codelineno-19-651"></a>                description: FeatureDetectOverride is used to override the feature
</span><span id="__span-19-652"><a id="__codelineno-19-652" name="__codelineno-19-652" href="#__codelineno-19-652"></a>                  detection. Values are specified in a comma separated list with no
</span><span id="__span-19-653"><a id="__codelineno-19-653" name="__codelineno-19-653" href="#__codelineno-19-653"></a>                  spaces, example; &quot;SNATFullyRandom=true,MASQFullyRandom=false,RestoreSupportsLock=&quot;.
</span><span id="__span-19-654"><a id="__codelineno-19-654" name="__codelineno-19-654" href="#__codelineno-19-654"></a>                  &quot;true&quot; or &quot;false&quot; will force the feature, empty or omitted values
</span><span id="__span-19-655"><a id="__codelineno-19-655" name="__codelineno-19-655" href="#__codelineno-19-655"></a>                  are auto-detected.
</span><span id="__span-19-656"><a id="__codelineno-19-656" name="__codelineno-19-656" href="#__codelineno-19-656"></a>                type: string
</span><span id="__span-19-657"><a id="__codelineno-19-657" name="__codelineno-19-657" href="#__codelineno-19-657"></a>              genericXDPEnabled:
</span><span id="__span-19-658"><a id="__codelineno-19-658" name="__codelineno-19-658" href="#__codelineno-19-658"></a>                description: &#39;GenericXDPEnabled enables Generic XDP so network cards
</span><span id="__span-19-659"><a id="__codelineno-19-659" name="__codelineno-19-659" href="#__codelineno-19-659"></a>                  that don&#39;&#39;t support XDP offload or driver modes can use XDP. This
</span><span id="__span-19-660"><a id="__codelineno-19-660" name="__codelineno-19-660" href="#__codelineno-19-660"></a>                  is not recommended since it doesn&#39;&#39;t provide better performance
</span><span id="__span-19-661"><a id="__codelineno-19-661" name="__codelineno-19-661" href="#__codelineno-19-661"></a>                  than iptables. [Default: false]&#39;
</span><span id="__span-19-662"><a id="__codelineno-19-662" name="__codelineno-19-662" href="#__codelineno-19-662"></a>                type: boolean
</span><span id="__span-19-663"><a id="__codelineno-19-663" name="__codelineno-19-663" href="#__codelineno-19-663"></a>              healthEnabled:
</span><span id="__span-19-664"><a id="__codelineno-19-664" name="__codelineno-19-664" href="#__codelineno-19-664"></a>                type: boolean
</span><span id="__span-19-665"><a id="__codelineno-19-665" name="__codelineno-19-665" href="#__codelineno-19-665"></a>              healthHost:
</span><span id="__span-19-666"><a id="__codelineno-19-666" name="__codelineno-19-666" href="#__codelineno-19-666"></a>                type: string
</span><span id="__span-19-667"><a id="__codelineno-19-667" name="__codelineno-19-667" href="#__codelineno-19-667"></a>              healthPort:
</span><span id="__span-19-668"><a id="__codelineno-19-668" name="__codelineno-19-668" href="#__codelineno-19-668"></a>                type: integer
</span><span id="__span-19-669"><a id="__codelineno-19-669" name="__codelineno-19-669" href="#__codelineno-19-669"></a>              interfaceExclude:
</span><span id="__span-19-670"><a id="__codelineno-19-670" name="__codelineno-19-670" href="#__codelineno-19-670"></a>                description: &#39;InterfaceExclude is a comma-separated list of interfaces
</span><span id="__span-19-671"><a id="__codelineno-19-671" name="__codelineno-19-671" href="#__codelineno-19-671"></a>                  that Felix should exclude when monitoring for host endpoints. The
</span><span id="__span-19-672"><a id="__codelineno-19-672" name="__codelineno-19-672" href="#__codelineno-19-672"></a>                  default value ensures that Felix ignores Kubernetes&#39;&#39; IPVS dummy
</span><span id="__span-19-673"><a id="__codelineno-19-673" name="__codelineno-19-673" href="#__codelineno-19-673"></a>                  interface, which is used internally by kube-proxy. If you want to
</span><span id="__span-19-674"><a id="__codelineno-19-674" name="__codelineno-19-674" href="#__codelineno-19-674"></a>                  exclude multiple interface names using a single value, the list
</span><span id="__span-19-675"><a id="__codelineno-19-675" name="__codelineno-19-675" href="#__codelineno-19-675"></a>                  supports regular expressions. For regular expressions you must wrap
</span><span id="__span-19-676"><a id="__codelineno-19-676" name="__codelineno-19-676" href="#__codelineno-19-676"></a>                  the value with &#39;&#39;/&#39;&#39;. For example having values &#39;&#39;/^kube/,veth1&#39;&#39;
</span><span id="__span-19-677"><a id="__codelineno-19-677" name="__codelineno-19-677" href="#__codelineno-19-677"></a>                  will exclude all interfaces that begin with &#39;&#39;kube&#39;&#39; and also the
</span><span id="__span-19-678"><a id="__codelineno-19-678" name="__codelineno-19-678" href="#__codelineno-19-678"></a>                  interface &#39;&#39;veth1&#39;&#39;. [Default: kube-ipvs0]&#39;
</span><span id="__span-19-679"><a id="__codelineno-19-679" name="__codelineno-19-679" href="#__codelineno-19-679"></a>                type: string
</span><span id="__span-19-680"><a id="__codelineno-19-680" name="__codelineno-19-680" href="#__codelineno-19-680"></a>              interfacePrefix:
</span><span id="__span-19-681"><a id="__codelineno-19-681" name="__codelineno-19-681" href="#__codelineno-19-681"></a>                description: &#39;InterfacePrefix is the interface name prefix that identifies
</span><span id="__span-19-682"><a id="__codelineno-19-682" name="__codelineno-19-682" href="#__codelineno-19-682"></a>                  workload endpoints and so distinguishes them from host endpoint
</span><span id="__span-19-683"><a id="__codelineno-19-683" name="__codelineno-19-683" href="#__codelineno-19-683"></a>                  interfaces. Note: in environments other than bare metal, the orchestrators
</span><span id="__span-19-684"><a id="__codelineno-19-684" name="__codelineno-19-684" href="#__codelineno-19-684"></a>                  configure this appropriately. For example our Kubernetes and Docker
</span><span id="__span-19-685"><a id="__codelineno-19-685" name="__codelineno-19-685" href="#__codelineno-19-685"></a>                  integrations set the &#39;&#39;cali&#39;&#39; value, and our OpenStack integration
</span><span id="__span-19-686"><a id="__codelineno-19-686" name="__codelineno-19-686" href="#__codelineno-19-686"></a>                  sets the &#39;&#39;tap&#39;&#39; value. [Default: cali]&#39;
</span><span id="__span-19-687"><a id="__codelineno-19-687" name="__codelineno-19-687" href="#__codelineno-19-687"></a>                type: string
</span><span id="__span-19-688"><a id="__codelineno-19-688" name="__codelineno-19-688" href="#__codelineno-19-688"></a>              interfaceRefreshInterval:
</span><span id="__span-19-689"><a id="__codelineno-19-689" name="__codelineno-19-689" href="#__codelineno-19-689"></a>                description: InterfaceRefreshInterval is the period at which Felix
</span><span id="__span-19-690"><a id="__codelineno-19-690" name="__codelineno-19-690" href="#__codelineno-19-690"></a>                  rescans local interfaces to verify their state. The rescan can be
</span><span id="__span-19-691"><a id="__codelineno-19-691" name="__codelineno-19-691" href="#__codelineno-19-691"></a>                  disabled by setting the interval to 0.
</span><span id="__span-19-692"><a id="__codelineno-19-692" name="__codelineno-19-692" href="#__codelineno-19-692"></a>                type: string
</span><span id="__span-19-693"><a id="__codelineno-19-693" name="__codelineno-19-693" href="#__codelineno-19-693"></a>              ipipEnabled:
</span><span id="__span-19-694"><a id="__codelineno-19-694" name="__codelineno-19-694" href="#__codelineno-19-694"></a>                type: boolean
</span><span id="__span-19-695"><a id="__codelineno-19-695" name="__codelineno-19-695" href="#__codelineno-19-695"></a>              ipipMTU:
</span><span id="__span-19-696"><a id="__codelineno-19-696" name="__codelineno-19-696" href="#__codelineno-19-696"></a>                description: &#39;IPIPMTU is the MTU to set on the tunnel device. See
</span><span id="__span-19-697"><a id="__codelineno-19-697" name="__codelineno-19-697" href="#__codelineno-19-697"></a>                  Configuring MTU [Default: 1440]&#39;
</span><span id="__span-19-698"><a id="__codelineno-19-698" name="__codelineno-19-698" href="#__codelineno-19-698"></a>                type: integer
</span><span id="__span-19-699"><a id="__codelineno-19-699" name="__codelineno-19-699" href="#__codelineno-19-699"></a>              ipsetsRefreshInterval:
</span><span id="__span-19-700"><a id="__codelineno-19-700" name="__codelineno-19-700" href="#__codelineno-19-700"></a>                description: &#39;IpsetsRefreshInterval is the period at which Felix re-checks
</span><span id="__span-19-701"><a id="__codelineno-19-701" name="__codelineno-19-701" href="#__codelineno-19-701"></a>                  all iptables state to ensure that no other process has accidentally
</span><span id="__span-19-702"><a id="__codelineno-19-702" name="__codelineno-19-702" href="#__codelineno-19-702"></a>                  broken Calico&#39;&#39;s rules. Set to 0 to disable iptables refresh. [Default:
</span><span id="__span-19-703"><a id="__codelineno-19-703" name="__codelineno-19-703" href="#__codelineno-19-703"></a>                  90s]&#39;
</span><span id="__span-19-704"><a id="__codelineno-19-704" name="__codelineno-19-704" href="#__codelineno-19-704"></a>                type: string
</span><span id="__span-19-705"><a id="__codelineno-19-705" name="__codelineno-19-705" href="#__codelineno-19-705"></a>              iptablesBackend:
</span><span id="__span-19-706"><a id="__codelineno-19-706" name="__codelineno-19-706" href="#__codelineno-19-706"></a>                description: IptablesBackend specifies which backend of iptables will
</span><span id="__span-19-707"><a id="__codelineno-19-707" name="__codelineno-19-707" href="#__codelineno-19-707"></a>                  be used. The default is legacy.
</span><span id="__span-19-708"><a id="__codelineno-19-708" name="__codelineno-19-708" href="#__codelineno-19-708"></a>                type: string
</span><span id="__span-19-709"><a id="__codelineno-19-709" name="__codelineno-19-709" href="#__codelineno-19-709"></a>              iptablesFilterAllowAction:
</span><span id="__span-19-710"><a id="__codelineno-19-710" name="__codelineno-19-710" href="#__codelineno-19-710"></a>                type: string
</span><span id="__span-19-711"><a id="__codelineno-19-711" name="__codelineno-19-711" href="#__codelineno-19-711"></a>              iptablesLockFilePath:
</span><span id="__span-19-712"><a id="__codelineno-19-712" name="__codelineno-19-712" href="#__codelineno-19-712"></a>                description: &#39;IptablesLockFilePath is the location of the iptables
</span><span id="__span-19-713"><a id="__codelineno-19-713" name="__codelineno-19-713" href="#__codelineno-19-713"></a>                  lock file. You may need to change this if the lock file is not in
</span><span id="__span-19-714"><a id="__codelineno-19-714" name="__codelineno-19-714" href="#__codelineno-19-714"></a>                  its standard location (for example if you have mapped it into Felix&#39;&#39;s
</span><span id="__span-19-715"><a id="__codelineno-19-715" name="__codelineno-19-715" href="#__codelineno-19-715"></a>                  container at a different path). [Default: /run/xtables.lock]&#39;
</span><span id="__span-19-716"><a id="__codelineno-19-716" name="__codelineno-19-716" href="#__codelineno-19-716"></a>                type: string
</span><span id="__span-19-717"><a id="__codelineno-19-717" name="__codelineno-19-717" href="#__codelineno-19-717"></a>              iptablesLockProbeInterval:
</span><span id="__span-19-718"><a id="__codelineno-19-718" name="__codelineno-19-718" href="#__codelineno-19-718"></a>                description: &#39;IptablesLockProbeInterval is the time that Felix will
</span><span id="__span-19-719"><a id="__codelineno-19-719" name="__codelineno-19-719" href="#__codelineno-19-719"></a>                  wait between attempts to acquire the iptables lock if it is not
</span><span id="__span-19-720"><a id="__codelineno-19-720" name="__codelineno-19-720" href="#__codelineno-19-720"></a>                  available. Lower values make Felix more responsive when the lock
</span><span id="__span-19-721"><a id="__codelineno-19-721" name="__codelineno-19-721" href="#__codelineno-19-721"></a>                  is contended, but use more CPU. [Default: 50ms]&#39;
</span><span id="__span-19-722"><a id="__codelineno-19-722" name="__codelineno-19-722" href="#__codelineno-19-722"></a>                type: string
</span><span id="__span-19-723"><a id="__codelineno-19-723" name="__codelineno-19-723" href="#__codelineno-19-723"></a>              iptablesLockTimeout:
</span><span id="__span-19-724"><a id="__codelineno-19-724" name="__codelineno-19-724" href="#__codelineno-19-724"></a>                description: &#39;IptablesLockTimeout is the time that Felix will wait
</span><span id="__span-19-725"><a id="__codelineno-19-725" name="__codelineno-19-725" href="#__codelineno-19-725"></a>                  for the iptables lock, or 0, to disable. To use this feature, Felix
</span><span id="__span-19-726"><a id="__codelineno-19-726" name="__codelineno-19-726" href="#__codelineno-19-726"></a>                  must share the iptables lock file with all other processes that
</span><span id="__span-19-727"><a id="__codelineno-19-727" name="__codelineno-19-727" href="#__codelineno-19-727"></a>                  also take the lock. When running Felix inside a container, this
</span><span id="__span-19-728"><a id="__codelineno-19-728" name="__codelineno-19-728" href="#__codelineno-19-728"></a>                  requires the /run directory of the host to be mounted into the calico/node
</span><span id="__span-19-729"><a id="__codelineno-19-729" name="__codelineno-19-729" href="#__codelineno-19-729"></a>                  or calico/felix container. [Default: 0s disabled]&#39;
</span><span id="__span-19-730"><a id="__codelineno-19-730" name="__codelineno-19-730" href="#__codelineno-19-730"></a>                type: string
</span><span id="__span-19-731"><a id="__codelineno-19-731" name="__codelineno-19-731" href="#__codelineno-19-731"></a>              iptablesMangleAllowAction:
</span><span id="__span-19-732"><a id="__codelineno-19-732" name="__codelineno-19-732" href="#__codelineno-19-732"></a>                type: string
</span><span id="__span-19-733"><a id="__codelineno-19-733" name="__codelineno-19-733" href="#__codelineno-19-733"></a>              iptablesMarkMask:
</span><span id="__span-19-734"><a id="__codelineno-19-734" name="__codelineno-19-734" href="#__codelineno-19-734"></a>                description: &#39;IptablesMarkMask is the mask that Felix selects its
</span><span id="__span-19-735"><a id="__codelineno-19-735" name="__codelineno-19-735" href="#__codelineno-19-735"></a>                  IPTables Mark bits from. Should be a 32 bit hexadecimal number with
</span><span id="__span-19-736"><a id="__codelineno-19-736" name="__codelineno-19-736" href="#__codelineno-19-736"></a>                  at least 8 bits set, none of which clash with any other mark bits
</span><span id="__span-19-737"><a id="__codelineno-19-737" name="__codelineno-19-737" href="#__codelineno-19-737"></a>                  in use on the system. [Default: 0xff000000]&#39;
</span><span id="__span-19-738"><a id="__codelineno-19-738" name="__codelineno-19-738" href="#__codelineno-19-738"></a>                format: int32
</span><span id="__span-19-739"><a id="__codelineno-19-739" name="__codelineno-19-739" href="#__codelineno-19-739"></a>                type: integer
</span><span id="__span-19-740"><a id="__codelineno-19-740" name="__codelineno-19-740" href="#__codelineno-19-740"></a>              iptablesNATOutgoingInterfaceFilter:
</span><span id="__span-19-741"><a id="__codelineno-19-741" name="__codelineno-19-741" href="#__codelineno-19-741"></a>                type: string
</span><span id="__span-19-742"><a id="__codelineno-19-742" name="__codelineno-19-742" href="#__codelineno-19-742"></a>              iptablesPostWriteCheckInterval:
</span><span id="__span-19-743"><a id="__codelineno-19-743" name="__codelineno-19-743" href="#__codelineno-19-743"></a>                description: &#39;IptablesPostWriteCheckInterval is the period after Felix
</span><span id="__span-19-744"><a id="__codelineno-19-744" name="__codelineno-19-744" href="#__codelineno-19-744"></a>                  has done a write to the dataplane that it schedules an extra read
</span><span id="__span-19-745"><a id="__codelineno-19-745" name="__codelineno-19-745" href="#__codelineno-19-745"></a>                  back in order to check the write was not clobbered by another process.
</span><span id="__span-19-746"><a id="__codelineno-19-746" name="__codelineno-19-746" href="#__codelineno-19-746"></a>                  This should only occur if another application on the system doesn&#39;&#39;t
</span><span id="__span-19-747"><a id="__codelineno-19-747" name="__codelineno-19-747" href="#__codelineno-19-747"></a>                  respect the iptables lock. [Default: 1s]&#39;
</span><span id="__span-19-748"><a id="__codelineno-19-748" name="__codelineno-19-748" href="#__codelineno-19-748"></a>                type: string
</span><span id="__span-19-749"><a id="__codelineno-19-749" name="__codelineno-19-749" href="#__codelineno-19-749"></a>              iptablesRefreshInterval:
</span><span id="__span-19-750"><a id="__codelineno-19-750" name="__codelineno-19-750" href="#__codelineno-19-750"></a>                description: &#39;IptablesRefreshInterval is the period at which Felix
</span><span id="__span-19-751"><a id="__codelineno-19-751" name="__codelineno-19-751" href="#__codelineno-19-751"></a>                  re-checks the IP sets in the dataplane to ensure that no other process
</span><span id="__span-19-752"><a id="__codelineno-19-752" name="__codelineno-19-752" href="#__codelineno-19-752"></a>                  has accidentally broken Calico&#39;&#39;s rules. Set to 0 to disable IP
</span><span id="__span-19-753"><a id="__codelineno-19-753" name="__codelineno-19-753" href="#__codelineno-19-753"></a>                  sets refresh. Note: the default for this value is lower than the
</span><span id="__span-19-754"><a id="__codelineno-19-754" name="__codelineno-19-754" href="#__codelineno-19-754"></a>                  other refresh intervals as a workaround for a Linux kernel bug that
</span><span id="__span-19-755"><a id="__codelineno-19-755" name="__codelineno-19-755" href="#__codelineno-19-755"></a>                  was fixed in kernel version 4.11. If you are using v4.11 or greater
</span><span id="__span-19-756"><a id="__codelineno-19-756" name="__codelineno-19-756" href="#__codelineno-19-756"></a>                  you may want to set this to, a higher value to reduce Felix CPU
</span><span id="__span-19-757"><a id="__codelineno-19-757" name="__codelineno-19-757" href="#__codelineno-19-757"></a>                  usage. [Default: 10s]&#39;
</span><span id="__span-19-758"><a id="__codelineno-19-758" name="__codelineno-19-758" href="#__codelineno-19-758"></a>                type: string
</span><span id="__span-19-759"><a id="__codelineno-19-759" name="__codelineno-19-759" href="#__codelineno-19-759"></a>              ipv6Support:
</span><span id="__span-19-760"><a id="__codelineno-19-760" name="__codelineno-19-760" href="#__codelineno-19-760"></a>                type: boolean
</span><span id="__span-19-761"><a id="__codelineno-19-761" name="__codelineno-19-761" href="#__codelineno-19-761"></a>              kubeNodePortRanges:
</span><span id="__span-19-762"><a id="__codelineno-19-762" name="__codelineno-19-762" href="#__codelineno-19-762"></a>                description: &#39;KubeNodePortRanges holds list of port ranges used for
</span><span id="__span-19-763"><a id="__codelineno-19-763" name="__codelineno-19-763" href="#__codelineno-19-763"></a>                  service node ports. Only used if felix detects kube-proxy running
</span><span id="__span-19-764"><a id="__codelineno-19-764" name="__codelineno-19-764" href="#__codelineno-19-764"></a>                  in ipvs mode. Felix uses these ranges to separate host and workload
</span><span id="__span-19-765"><a id="__codelineno-19-765" name="__codelineno-19-765" href="#__codelineno-19-765"></a>                  traffic. [Default: 30000:32767].&#39;
</span><span id="__span-19-766"><a id="__codelineno-19-766" name="__codelineno-19-766" href="#__codelineno-19-766"></a>                items:
</span><span id="__span-19-767"><a id="__codelineno-19-767" name="__codelineno-19-767" href="#__codelineno-19-767"></a>                  anyOf:
</span><span id="__span-19-768"><a id="__codelineno-19-768" name="__codelineno-19-768" href="#__codelineno-19-768"></a>                  - type: integer
</span><span id="__span-19-769"><a id="__codelineno-19-769" name="__codelineno-19-769" href="#__codelineno-19-769"></a>                  - type: string
</span><span id="__span-19-770"><a id="__codelineno-19-770" name="__codelineno-19-770" href="#__codelineno-19-770"></a>                  pattern: ^.*
</span><span id="__span-19-771"><a id="__codelineno-19-771" name="__codelineno-19-771" href="#__codelineno-19-771"></a>                  x-kubernetes-int-or-string: true
</span><span id="__span-19-772"><a id="__codelineno-19-772" name="__codelineno-19-772" href="#__codelineno-19-772"></a>                type: array
</span><span id="__span-19-773"><a id="__codelineno-19-773" name="__codelineno-19-773" href="#__codelineno-19-773"></a>              logFilePath:
</span><span id="__span-19-774"><a id="__codelineno-19-774" name="__codelineno-19-774" href="#__codelineno-19-774"></a>                description: &#39;LogFilePath is the full path to the Felix log. Set to
</span><span id="__span-19-775"><a id="__codelineno-19-775" name="__codelineno-19-775" href="#__codelineno-19-775"></a>                  none to disable file logging. [Default: /var/log/calico/felix.log]&#39;
</span><span id="__span-19-776"><a id="__codelineno-19-776" name="__codelineno-19-776" href="#__codelineno-19-776"></a>                type: string
</span><span id="__span-19-777"><a id="__codelineno-19-777" name="__codelineno-19-777" href="#__codelineno-19-777"></a>              logPrefix:
</span><span id="__span-19-778"><a id="__codelineno-19-778" name="__codelineno-19-778" href="#__codelineno-19-778"></a>                description: &#39;LogPrefix is the log prefix that Felix uses when rendering
</span><span id="__span-19-779"><a id="__codelineno-19-779" name="__codelineno-19-779" href="#__codelineno-19-779"></a>                  LOG rules. [Default: calico-packet]&#39;
</span><span id="__span-19-780"><a id="__codelineno-19-780" name="__codelineno-19-780" href="#__codelineno-19-780"></a>                type: string
</span><span id="__span-19-781"><a id="__codelineno-19-781" name="__codelineno-19-781" href="#__codelineno-19-781"></a>              logSeverityFile:
</span><span id="__span-19-782"><a id="__codelineno-19-782" name="__codelineno-19-782" href="#__codelineno-19-782"></a>                description: &#39;LogSeverityFile is the log severity above which logs
</span><span id="__span-19-783"><a id="__codelineno-19-783" name="__codelineno-19-783" href="#__codelineno-19-783"></a>                  are sent to the log file. [Default: Info]&#39;
</span><span id="__span-19-784"><a id="__codelineno-19-784" name="__codelineno-19-784" href="#__codelineno-19-784"></a>                type: string
</span><span id="__span-19-785"><a id="__codelineno-19-785" name="__codelineno-19-785" href="#__codelineno-19-785"></a>              logSeverityScreen:
</span><span id="__span-19-786"><a id="__codelineno-19-786" name="__codelineno-19-786" href="#__codelineno-19-786"></a>                description: &#39;LogSeverityScreen is the log severity above which logs
</span><span id="__span-19-787"><a id="__codelineno-19-787" name="__codelineno-19-787" href="#__codelineno-19-787"></a>                  are sent to the stdout. [Default: Info]&#39;
</span><span id="__span-19-788"><a id="__codelineno-19-788" name="__codelineno-19-788" href="#__codelineno-19-788"></a>                type: string
</span><span id="__span-19-789"><a id="__codelineno-19-789" name="__codelineno-19-789" href="#__codelineno-19-789"></a>              logSeveritySys:
</span><span id="__span-19-790"><a id="__codelineno-19-790" name="__codelineno-19-790" href="#__codelineno-19-790"></a>                description: &#39;LogSeveritySys is the log severity above which logs
</span><span id="__span-19-791"><a id="__codelineno-19-791" name="__codelineno-19-791" href="#__codelineno-19-791"></a>                  are sent to the syslog. Set to None for no logging to syslog. [Default:
</span><span id="__span-19-792"><a id="__codelineno-19-792" name="__codelineno-19-792" href="#__codelineno-19-792"></a>                  Info]&#39;
</span><span id="__span-19-793"><a id="__codelineno-19-793" name="__codelineno-19-793" href="#__codelineno-19-793"></a>                type: string
</span><span id="__span-19-794"><a id="__codelineno-19-794" name="__codelineno-19-794" href="#__codelineno-19-794"></a>              maxIpsetSize:
</span><span id="__span-19-795"><a id="__codelineno-19-795" name="__codelineno-19-795" href="#__codelineno-19-795"></a>                type: integer
</span><span id="__span-19-796"><a id="__codelineno-19-796" name="__codelineno-19-796" href="#__codelineno-19-796"></a>              metadataAddr:
</span><span id="__span-19-797"><a id="__codelineno-19-797" name="__codelineno-19-797" href="#__codelineno-19-797"></a>                description: &#39;MetadataAddr is the IP address or domain name of the
</span><span id="__span-19-798"><a id="__codelineno-19-798" name="__codelineno-19-798" href="#__codelineno-19-798"></a>                  server that can answer VM queries for cloud-init metadata. In OpenStack,
</span><span id="__span-19-799"><a id="__codelineno-19-799" name="__codelineno-19-799" href="#__codelineno-19-799"></a>                  this corresponds to the machine running nova-api (or in Ubuntu,
</span><span id="__span-19-800"><a id="__codelineno-19-800" name="__codelineno-19-800" href="#__codelineno-19-800"></a>                  nova-api-metadata). A value of none (case insensitive) means that
</span><span id="__span-19-801"><a id="__codelineno-19-801" name="__codelineno-19-801" href="#__codelineno-19-801"></a>                  Felix should not set up any NAT rule for the metadata path. [Default:
</span><span id="__span-19-802"><a id="__codelineno-19-802" name="__codelineno-19-802" href="#__codelineno-19-802"></a>                  127.0.0.1]&#39;
</span><span id="__span-19-803"><a id="__codelineno-19-803" name="__codelineno-19-803" href="#__codelineno-19-803"></a>                type: string
</span><span id="__span-19-804"><a id="__codelineno-19-804" name="__codelineno-19-804" href="#__codelineno-19-804"></a>              metadataPort:
</span><span id="__span-19-805"><a id="__codelineno-19-805" name="__codelineno-19-805" href="#__codelineno-19-805"></a>                description: &#39;MetadataPort is the port of the metadata server. This,
</span><span id="__span-19-806"><a id="__codelineno-19-806" name="__codelineno-19-806" href="#__codelineno-19-806"></a>                  combined with global.MetadataAddr (if not &#39;&#39;None&#39;&#39;), is used to
</span><span id="__span-19-807"><a id="__codelineno-19-807" name="__codelineno-19-807" href="#__codelineno-19-807"></a>                  set up a NAT rule, from 169.254.169.254:80 to MetadataAddr:MetadataPort.
</span><span id="__span-19-808"><a id="__codelineno-19-808" name="__codelineno-19-808" href="#__codelineno-19-808"></a>                  In most cases this should not need to be changed [Default: 8775].&#39;
</span><span id="__span-19-809"><a id="__codelineno-19-809" name="__codelineno-19-809" href="#__codelineno-19-809"></a>                type: integer
</span><span id="__span-19-810"><a id="__codelineno-19-810" name="__codelineno-19-810" href="#__codelineno-19-810"></a>              mtuIfacePattern:
</span><span id="__span-19-811"><a id="__codelineno-19-811" name="__codelineno-19-811" href="#__codelineno-19-811"></a>                description: MTUIfacePattern is a regular expression that controls
</span><span id="__span-19-812"><a id="__codelineno-19-812" name="__codelineno-19-812" href="#__codelineno-19-812"></a>                  which interfaces Felix should scan in order to calculate the host&#39;s
</span><span id="__span-19-813"><a id="__codelineno-19-813" name="__codelineno-19-813" href="#__codelineno-19-813"></a>                  MTU. This should not match workload interfaces (usually named cali...).
</span><span id="__span-19-814"><a id="__codelineno-19-814" name="__codelineno-19-814" href="#__codelineno-19-814"></a>                type: string
</span><span id="__span-19-815"><a id="__codelineno-19-815" name="__codelineno-19-815" href="#__codelineno-19-815"></a>              natOutgoingAddress:
</span><span id="__span-19-816"><a id="__codelineno-19-816" name="__codelineno-19-816" href="#__codelineno-19-816"></a>                description: NATOutgoingAddress specifies an address to use when performing
</span><span id="__span-19-817"><a id="__codelineno-19-817" name="__codelineno-19-817" href="#__codelineno-19-817"></a>                  source NAT for traffic in a natOutgoing pool that is leaving the
</span><span id="__span-19-818"><a id="__codelineno-19-818" name="__codelineno-19-818" href="#__codelineno-19-818"></a>                  network. By default the address used is an address on the interface
</span><span id="__span-19-819"><a id="__codelineno-19-819" name="__codelineno-19-819" href="#__codelineno-19-819"></a>                  the traffic is leaving on (ie it uses the iptables MASQUERADE target)
</span><span id="__span-19-820"><a id="__codelineno-19-820" name="__codelineno-19-820" href="#__codelineno-19-820"></a>                type: string
</span><span id="__span-19-821"><a id="__codelineno-19-821" name="__codelineno-19-821" href="#__codelineno-19-821"></a>              natPortRange:
</span><span id="__span-19-822"><a id="__codelineno-19-822" name="__codelineno-19-822" href="#__codelineno-19-822"></a>                anyOf:
</span><span id="__span-19-823"><a id="__codelineno-19-823" name="__codelineno-19-823" href="#__codelineno-19-823"></a>                - type: integer
</span><span id="__span-19-824"><a id="__codelineno-19-824" name="__codelineno-19-824" href="#__codelineno-19-824"></a>                - type: string
</span><span id="__span-19-825"><a id="__codelineno-19-825" name="__codelineno-19-825" href="#__codelineno-19-825"></a>                description: NATPortRange specifies the range of ports that is used
</span><span id="__span-19-826"><a id="__codelineno-19-826" name="__codelineno-19-826" href="#__codelineno-19-826"></a>                  for port mapping when doing outgoing NAT. When unset the default
</span><span id="__span-19-827"><a id="__codelineno-19-827" name="__codelineno-19-827" href="#__codelineno-19-827"></a>                  behavior of the network stack is used.
</span><span id="__span-19-828"><a id="__codelineno-19-828" name="__codelineno-19-828" href="#__codelineno-19-828"></a>                pattern: ^.*
</span><span id="__span-19-829"><a id="__codelineno-19-829" name="__codelineno-19-829" href="#__codelineno-19-829"></a>                x-kubernetes-int-or-string: true
</span><span id="__span-19-830"><a id="__codelineno-19-830" name="__codelineno-19-830" href="#__codelineno-19-830"></a>              netlinkTimeout:
</span><span id="__span-19-831"><a id="__codelineno-19-831" name="__codelineno-19-831" href="#__codelineno-19-831"></a>                type: string
</span><span id="__span-19-832"><a id="__codelineno-19-832" name="__codelineno-19-832" href="#__codelineno-19-832"></a>              openstackRegion:
</span><span id="__span-19-833"><a id="__codelineno-19-833" name="__codelineno-19-833" href="#__codelineno-19-833"></a>                description: &#39;OpenstackRegion is the name of the region that a particular
</span><span id="__span-19-834"><a id="__codelineno-19-834" name="__codelineno-19-834" href="#__codelineno-19-834"></a>                  Felix belongs to. In a multi-region Calico/OpenStack deployment,
</span><span id="__span-19-835"><a id="__codelineno-19-835" name="__codelineno-19-835" href="#__codelineno-19-835"></a>                  this must be configured somehow for each Felix (here in the datamodel,
</span><span id="__span-19-836"><a id="__codelineno-19-836" name="__codelineno-19-836" href="#__codelineno-19-836"></a>                  or in felix.cfg or the environment on each compute node), and must
</span><span id="__span-19-837"><a id="__codelineno-19-837" name="__codelineno-19-837" href="#__codelineno-19-837"></a>                  match the [calico] openstack_region value configured in neutron.conf
</span><span id="__span-19-838"><a id="__codelineno-19-838" name="__codelineno-19-838" href="#__codelineno-19-838"></a>                  on each node. [Default: Empty]&#39;
</span><span id="__span-19-839"><a id="__codelineno-19-839" name="__codelineno-19-839" href="#__codelineno-19-839"></a>                type: string
</span><span id="__span-19-840"><a id="__codelineno-19-840" name="__codelineno-19-840" href="#__codelineno-19-840"></a>              policySyncPathPrefix:
</span><span id="__span-19-841"><a id="__codelineno-19-841" name="__codelineno-19-841" href="#__codelineno-19-841"></a>                description: &#39;PolicySyncPathPrefix is used to by Felix to communicate
</span><span id="__span-19-842"><a id="__codelineno-19-842" name="__codelineno-19-842" href="#__codelineno-19-842"></a>                  policy changes to external services, like Application layer policy.
</span><span id="__span-19-843"><a id="__codelineno-19-843" name="__codelineno-19-843" href="#__codelineno-19-843"></a>                  [Default: Empty]&#39;
</span><span id="__span-19-844"><a id="__codelineno-19-844" name="__codelineno-19-844" href="#__codelineno-19-844"></a>                type: string
</span><span id="__span-19-845"><a id="__codelineno-19-845" name="__codelineno-19-845" href="#__codelineno-19-845"></a>              prometheusGoMetricsEnabled:
</span><span id="__span-19-846"><a id="__codelineno-19-846" name="__codelineno-19-846" href="#__codelineno-19-846"></a>                description: &#39;PrometheusGoMetricsEnabled disables Go runtime metrics
</span><span id="__span-19-847"><a id="__codelineno-19-847" name="__codelineno-19-847" href="#__codelineno-19-847"></a>                  collection, which the Prometheus client does by default, when set
</span><span id="__span-19-848"><a id="__codelineno-19-848" name="__codelineno-19-848" href="#__codelineno-19-848"></a>                  to false. This reduces the number of metrics reported, reducing
</span><span id="__span-19-849"><a id="__codelineno-19-849" name="__codelineno-19-849" href="#__codelineno-19-849"></a>                  Prometheus load. [Default: true]&#39;
</span><span id="__span-19-850"><a id="__codelineno-19-850" name="__codelineno-19-850" href="#__codelineno-19-850"></a>                type: boolean
</span><span id="__span-19-851"><a id="__codelineno-19-851" name="__codelineno-19-851" href="#__codelineno-19-851"></a>              prometheusMetricsEnabled:
</span><span id="__span-19-852"><a id="__codelineno-19-852" name="__codelineno-19-852" href="#__codelineno-19-852"></a>                description: &#39;PrometheusMetricsEnabled enables the Prometheus metrics
</span><span id="__span-19-853"><a id="__codelineno-19-853" name="__codelineno-19-853" href="#__codelineno-19-853"></a>                  server in Felix if set to true. [Default: false]&#39;
</span><span id="__span-19-854"><a id="__codelineno-19-854" name="__codelineno-19-854" href="#__codelineno-19-854"></a>                type: boolean
</span><span id="__span-19-855"><a id="__codelineno-19-855" name="__codelineno-19-855" href="#__codelineno-19-855"></a>              prometheusMetricsHost:
</span><span id="__span-19-856"><a id="__codelineno-19-856" name="__codelineno-19-856" href="#__codelineno-19-856"></a>                description: &#39;PrometheusMetricsHost is the host that the Prometheus
</span><span id="__span-19-857"><a id="__codelineno-19-857" name="__codelineno-19-857" href="#__codelineno-19-857"></a>                  metrics server should bind to. [Default: empty]&#39;
</span><span id="__span-19-858"><a id="__codelineno-19-858" name="__codelineno-19-858" href="#__codelineno-19-858"></a>                type: string
</span><span id="__span-19-859"><a id="__codelineno-19-859" name="__codelineno-19-859" href="#__codelineno-19-859"></a>              prometheusMetricsPort:
</span><span id="__span-19-860"><a id="__codelineno-19-860" name="__codelineno-19-860" href="#__codelineno-19-860"></a>                description: &#39;PrometheusMetricsPort is the TCP port that the Prometheus
</span><span id="__span-19-861"><a id="__codelineno-19-861" name="__codelineno-19-861" href="#__codelineno-19-861"></a>                  metrics server should bind to. [Default: 9091]&#39;
</span><span id="__span-19-862"><a id="__codelineno-19-862" name="__codelineno-19-862" href="#__codelineno-19-862"></a>                type: integer
</span><span id="__span-19-863"><a id="__codelineno-19-863" name="__codelineno-19-863" href="#__codelineno-19-863"></a>              prometheusProcessMetricsEnabled:
</span><span id="__span-19-864"><a id="__codelineno-19-864" name="__codelineno-19-864" href="#__codelineno-19-864"></a>                description: &#39;PrometheusProcessMetricsEnabled disables process metrics
</span><span id="__span-19-865"><a id="__codelineno-19-865" name="__codelineno-19-865" href="#__codelineno-19-865"></a>                  collection, which the Prometheus client does by default, when set
</span><span id="__span-19-866"><a id="__codelineno-19-866" name="__codelineno-19-866" href="#__codelineno-19-866"></a>                  to false. This reduces the number of metrics reported, reducing
</span><span id="__span-19-867"><a id="__codelineno-19-867" name="__codelineno-19-867" href="#__codelineno-19-867"></a>                  Prometheus load. [Default: true]&#39;
</span><span id="__span-19-868"><a id="__codelineno-19-868" name="__codelineno-19-868" href="#__codelineno-19-868"></a>                type: boolean
</span><span id="__span-19-869"><a id="__codelineno-19-869" name="__codelineno-19-869" href="#__codelineno-19-869"></a>              removeExternalRoutes:
</span><span id="__span-19-870"><a id="__codelineno-19-870" name="__codelineno-19-870" href="#__codelineno-19-870"></a>                description: Whether or not to remove device routes that have not
</span><span id="__span-19-871"><a id="__codelineno-19-871" name="__codelineno-19-871" href="#__codelineno-19-871"></a>                  been programmed by Felix. Disabling this will allow external applications
</span><span id="__span-19-872"><a id="__codelineno-19-872" name="__codelineno-19-872" href="#__codelineno-19-872"></a>                  to also add device routes. This is enabled by default which means
</span><span id="__span-19-873"><a id="__codelineno-19-873" name="__codelineno-19-873" href="#__codelineno-19-873"></a>                  we will remove externally added routes.
</span><span id="__span-19-874"><a id="__codelineno-19-874" name="__codelineno-19-874" href="#__codelineno-19-874"></a>                type: boolean
</span><span id="__span-19-875"><a id="__codelineno-19-875" name="__codelineno-19-875" href="#__codelineno-19-875"></a>              reportingInterval:
</span><span id="__span-19-876"><a id="__codelineno-19-876" name="__codelineno-19-876" href="#__codelineno-19-876"></a>                description: &#39;ReportingInterval is the interval at which Felix reports
</span><span id="__span-19-877"><a id="__codelineno-19-877" name="__codelineno-19-877" href="#__codelineno-19-877"></a>                  its status into the datastore or 0 to disable. Must be non-zero
</span><span id="__span-19-878"><a id="__codelineno-19-878" name="__codelineno-19-878" href="#__codelineno-19-878"></a>                  in OpenStack deployments. [Default: 30s]&#39;
</span><span id="__span-19-879"><a id="__codelineno-19-879" name="__codelineno-19-879" href="#__codelineno-19-879"></a>                type: string
</span><span id="__span-19-880"><a id="__codelineno-19-880" name="__codelineno-19-880" href="#__codelineno-19-880"></a>              reportingTTL:
</span><span id="__span-19-881"><a id="__codelineno-19-881" name="__codelineno-19-881" href="#__codelineno-19-881"></a>                description: &#39;ReportingTTL is the time-to-live setting for process-wide
</span><span id="__span-19-882"><a id="__codelineno-19-882" name="__codelineno-19-882" href="#__codelineno-19-882"></a>                  status reports. [Default: 90s]&#39;
</span><span id="__span-19-883"><a id="__codelineno-19-883" name="__codelineno-19-883" href="#__codelineno-19-883"></a>                type: string
</span><span id="__span-19-884"><a id="__codelineno-19-884" name="__codelineno-19-884" href="#__codelineno-19-884"></a>              routeRefreshInterval:
</span><span id="__span-19-885"><a id="__codelineno-19-885" name="__codelineno-19-885" href="#__codelineno-19-885"></a>                description: &#39;RouteRefreshInterval is the period at which Felix re-checks
</span><span id="__span-19-886"><a id="__codelineno-19-886" name="__codelineno-19-886" href="#__codelineno-19-886"></a>                  the routes in the dataplane to ensure that no other process has
</span><span id="__span-19-887"><a id="__codelineno-19-887" name="__codelineno-19-887" href="#__codelineno-19-887"></a>                  accidentally broken Calico&#39;&#39;s rules. Set to 0 to disable route refresh.
</span><span id="__span-19-888"><a id="__codelineno-19-888" name="__codelineno-19-888" href="#__codelineno-19-888"></a>                  [Default: 90s]&#39;
</span><span id="__span-19-889"><a id="__codelineno-19-889" name="__codelineno-19-889" href="#__codelineno-19-889"></a>                type: string
</span><span id="__span-19-890"><a id="__codelineno-19-890" name="__codelineno-19-890" href="#__codelineno-19-890"></a>              routeSource:
</span><span id="__span-19-891"><a id="__codelineno-19-891" name="__codelineno-19-891" href="#__codelineno-19-891"></a>                description: &#39;RouteSource configures where Felix gets its routing
</span><span id="__span-19-892"><a id="__codelineno-19-892" name="__codelineno-19-892" href="#__codelineno-19-892"></a>                  information. - WorkloadIPs: use workload endpoints to construct
</span><span id="__span-19-893"><a id="__codelineno-19-893" name="__codelineno-19-893" href="#__codelineno-19-893"></a>                  routes. - CalicoIPAM: the default - use IPAM data to construct routes.&#39;
</span><span id="__span-19-894"><a id="__codelineno-19-894" name="__codelineno-19-894" href="#__codelineno-19-894"></a>                type: string
</span><span id="__span-19-895"><a id="__codelineno-19-895" name="__codelineno-19-895" href="#__codelineno-19-895"></a>              routeTableRange:
</span><span id="__span-19-896"><a id="__codelineno-19-896" name="__codelineno-19-896" href="#__codelineno-19-896"></a>                description: Calico programs additional Linux route tables for various
</span><span id="__span-19-897"><a id="__codelineno-19-897" name="__codelineno-19-897" href="#__codelineno-19-897"></a>                  purposes.  RouteTableRange specifies the indices of the route tables
</span><span id="__span-19-898"><a id="__codelineno-19-898" name="__codelineno-19-898" href="#__codelineno-19-898"></a>                  that Calico should use.
</span><span id="__span-19-899"><a id="__codelineno-19-899" name="__codelineno-19-899" href="#__codelineno-19-899"></a>                properties:
</span><span id="__span-19-900"><a id="__codelineno-19-900" name="__codelineno-19-900" href="#__codelineno-19-900"></a>                  max:
</span><span id="__span-19-901"><a id="__codelineno-19-901" name="__codelineno-19-901" href="#__codelineno-19-901"></a>                    type: integer
</span><span id="__span-19-902"><a id="__codelineno-19-902" name="__codelineno-19-902" href="#__codelineno-19-902"></a>                  min:
</span><span id="__span-19-903"><a id="__codelineno-19-903" name="__codelineno-19-903" href="#__codelineno-19-903"></a>                    type: integer
</span><span id="__span-19-904"><a id="__codelineno-19-904" name="__codelineno-19-904" href="#__codelineno-19-904"></a>                required:
</span><span id="__span-19-905"><a id="__codelineno-19-905" name="__codelineno-19-905" href="#__codelineno-19-905"></a>                - max
</span><span id="__span-19-906"><a id="__codelineno-19-906" name="__codelineno-19-906" href="#__codelineno-19-906"></a>                - min
</span><span id="__span-19-907"><a id="__codelineno-19-907" name="__codelineno-19-907" href="#__codelineno-19-907"></a>                type: object
</span><span id="__span-19-908"><a id="__codelineno-19-908" name="__codelineno-19-908" href="#__codelineno-19-908"></a>              serviceLoopPrevention:
</span><span id="__span-19-909"><a id="__codelineno-19-909" name="__codelineno-19-909" href="#__codelineno-19-909"></a>                description: &#39;When service IP advertisement is enabled, prevent routing
</span><span id="__span-19-910"><a id="__codelineno-19-910" name="__codelineno-19-910" href="#__codelineno-19-910"></a>                  loops to service IPs that are not in use, by dropping or rejecting
</span><span id="__span-19-911"><a id="__codelineno-19-911" name="__codelineno-19-911" href="#__codelineno-19-911"></a>                  packets that do not get DNAT&#39;&#39;d by kube-proxy. Unless set to &quot;Disabled&quot;,
</span><span id="__span-19-912"><a id="__codelineno-19-912" name="__codelineno-19-912" href="#__codelineno-19-912"></a>                  in which case such routing loops continue to be allowed. [Default:
</span><span id="__span-19-913"><a id="__codelineno-19-913" name="__codelineno-19-913" href="#__codelineno-19-913"></a>                  Drop]&#39;
</span><span id="__span-19-914"><a id="__codelineno-19-914" name="__codelineno-19-914" href="#__codelineno-19-914"></a>                type: string
</span><span id="__span-19-915"><a id="__codelineno-19-915" name="__codelineno-19-915" href="#__codelineno-19-915"></a>              sidecarAccelerationEnabled:
</span><span id="__span-19-916"><a id="__codelineno-19-916" name="__codelineno-19-916" href="#__codelineno-19-916"></a>                description: &#39;SidecarAccelerationEnabled enables experimental sidecar
</span><span id="__span-19-917"><a id="__codelineno-19-917" name="__codelineno-19-917" href="#__codelineno-19-917"></a>                  acceleration [Default: false]&#39;
</span><span id="__span-19-918"><a id="__codelineno-19-918" name="__codelineno-19-918" href="#__codelineno-19-918"></a>                type: boolean
</span><span id="__span-19-919"><a id="__codelineno-19-919" name="__codelineno-19-919" href="#__codelineno-19-919"></a>              usageReportingEnabled:
</span><span id="__span-19-920"><a id="__codelineno-19-920" name="__codelineno-19-920" href="#__codelineno-19-920"></a>                description: &#39;UsageReportingEnabled reports anonymous Calico version
</span><span id="__span-19-921"><a id="__codelineno-19-921" name="__codelineno-19-921" href="#__codelineno-19-921"></a>                  number and cluster size to projectcalico.org. Logs warnings returned
</span><span id="__span-19-922"><a id="__codelineno-19-922" name="__codelineno-19-922" href="#__codelineno-19-922"></a>                  by the usage server. For example, if a significant security vulnerability
</span><span id="__span-19-923"><a id="__codelineno-19-923" name="__codelineno-19-923" href="#__codelineno-19-923"></a>                  has been discovered in the version of Calico being used. [Default:
</span><span id="__span-19-924"><a id="__codelineno-19-924" name="__codelineno-19-924" href="#__codelineno-19-924"></a>                  true]&#39;
</span><span id="__span-19-925"><a id="__codelineno-19-925" name="__codelineno-19-925" href="#__codelineno-19-925"></a>                type: boolean
</span><span id="__span-19-926"><a id="__codelineno-19-926" name="__codelineno-19-926" href="#__codelineno-19-926"></a>              usageReportingInitialDelay:
</span><span id="__span-19-927"><a id="__codelineno-19-927" name="__codelineno-19-927" href="#__codelineno-19-927"></a>                description: &#39;UsageReportingInitialDelay controls the minimum delay
</span><span id="__span-19-928"><a id="__codelineno-19-928" name="__codelineno-19-928" href="#__codelineno-19-928"></a>                  before Felix makes a report. [Default: 300s]&#39;
</span><span id="__span-19-929"><a id="__codelineno-19-929" name="__codelineno-19-929" href="#__codelineno-19-929"></a>                type: string
</span><span id="__span-19-930"><a id="__codelineno-19-930" name="__codelineno-19-930" href="#__codelineno-19-930"></a>              usageReportingInterval:
</span><span id="__span-19-931"><a id="__codelineno-19-931" name="__codelineno-19-931" href="#__codelineno-19-931"></a>                description: &#39;UsageReportingInterval controls the interval at which
</span><span id="__span-19-932"><a id="__codelineno-19-932" name="__codelineno-19-932" href="#__codelineno-19-932"></a>                  Felix makes reports. [Default: 86400s]&#39;
</span><span id="__span-19-933"><a id="__codelineno-19-933" name="__codelineno-19-933" href="#__codelineno-19-933"></a>                type: string
</span><span id="__span-19-934"><a id="__codelineno-19-934" name="__codelineno-19-934" href="#__codelineno-19-934"></a>              useInternalDataplaneDriver:
</span><span id="__span-19-935"><a id="__codelineno-19-935" name="__codelineno-19-935" href="#__codelineno-19-935"></a>                type: boolean
</span><span id="__span-19-936"><a id="__codelineno-19-936" name="__codelineno-19-936" href="#__codelineno-19-936"></a>              vxlanEnabled:
</span><span id="__span-19-937"><a id="__codelineno-19-937" name="__codelineno-19-937" href="#__codelineno-19-937"></a>                type: boolean
</span><span id="__span-19-938"><a id="__codelineno-19-938" name="__codelineno-19-938" href="#__codelineno-19-938"></a>              vxlanMTU:
</span><span id="__span-19-939"><a id="__codelineno-19-939" name="__codelineno-19-939" href="#__codelineno-19-939"></a>                description: &#39;VXLANMTU is the MTU to set on the tunnel device. See
</span><span id="__span-19-940"><a id="__codelineno-19-940" name="__codelineno-19-940" href="#__codelineno-19-940"></a>                  Configuring MTU [Default: 1440]&#39;
</span><span id="__span-19-941"><a id="__codelineno-19-941" name="__codelineno-19-941" href="#__codelineno-19-941"></a>                type: integer
</span><span id="__span-19-942"><a id="__codelineno-19-942" name="__codelineno-19-942" href="#__codelineno-19-942"></a>              vxlanPort:
</span><span id="__span-19-943"><a id="__codelineno-19-943" name="__codelineno-19-943" href="#__codelineno-19-943"></a>                type: integer
</span><span id="__span-19-944"><a id="__codelineno-19-944" name="__codelineno-19-944" href="#__codelineno-19-944"></a>              vxlanVNI:
</span><span id="__span-19-945"><a id="__codelineno-19-945" name="__codelineno-19-945" href="#__codelineno-19-945"></a>                type: integer
</span><span id="__span-19-946"><a id="__codelineno-19-946" name="__codelineno-19-946" href="#__codelineno-19-946"></a>              wireguardEnabled:
</span><span id="__span-19-947"><a id="__codelineno-19-947" name="__codelineno-19-947" href="#__codelineno-19-947"></a>                description: &#39;WireguardEnabled controls whether Wireguard is enabled.
</span><span id="__span-19-948"><a id="__codelineno-19-948" name="__codelineno-19-948" href="#__codelineno-19-948"></a>                  [Default: false]&#39;
</span><span id="__span-19-949"><a id="__codelineno-19-949" name="__codelineno-19-949" href="#__codelineno-19-949"></a>                type: boolean
</span><span id="__span-19-950"><a id="__codelineno-19-950" name="__codelineno-19-950" href="#__codelineno-19-950"></a>              wireguardInterfaceName:
</span><span id="__span-19-951"><a id="__codelineno-19-951" name="__codelineno-19-951" href="#__codelineno-19-951"></a>                description: &#39;WireguardInterfaceName specifies the name to use for
</span><span id="__span-19-952"><a id="__codelineno-19-952" name="__codelineno-19-952" href="#__codelineno-19-952"></a>                  the Wireguard interface. [Default: wg.calico]&#39;
</span><span id="__span-19-953"><a id="__codelineno-19-953" name="__codelineno-19-953" href="#__codelineno-19-953"></a>                type: string
</span><span id="__span-19-954"><a id="__codelineno-19-954" name="__codelineno-19-954" href="#__codelineno-19-954"></a>              wireguardListeningPort:
</span><span id="__span-19-955"><a id="__codelineno-19-955" name="__codelineno-19-955" href="#__codelineno-19-955"></a>                description: &#39;WireguardListeningPort controls the listening port used
</span><span id="__span-19-956"><a id="__codelineno-19-956" name="__codelineno-19-956" href="#__codelineno-19-956"></a>                  by Wireguard. [Default: 51820]&#39;
</span><span id="__span-19-957"><a id="__codelineno-19-957" name="__codelineno-19-957" href="#__codelineno-19-957"></a>                type: integer
</span><span id="__span-19-958"><a id="__codelineno-19-958" name="__codelineno-19-958" href="#__codelineno-19-958"></a>              wireguardMTU:
</span><span id="__span-19-959"><a id="__codelineno-19-959" name="__codelineno-19-959" href="#__codelineno-19-959"></a>                description: &#39;WireguardMTU controls the MTU on the Wireguard interface.
</span><span id="__span-19-960"><a id="__codelineno-19-960" name="__codelineno-19-960" href="#__codelineno-19-960"></a>                  See Configuring MTU [Default: 1420]&#39;
</span><span id="__span-19-961"><a id="__codelineno-19-961" name="__codelineno-19-961" href="#__codelineno-19-961"></a>                type: integer
</span><span id="__span-19-962"><a id="__codelineno-19-962" name="__codelineno-19-962" href="#__codelineno-19-962"></a>              wireguardRoutingRulePriority:
</span><span id="__span-19-963"><a id="__codelineno-19-963" name="__codelineno-19-963" href="#__codelineno-19-963"></a>                description: &#39;WireguardRoutingRulePriority controls the priority value
</span><span id="__span-19-964"><a id="__codelineno-19-964" name="__codelineno-19-964" href="#__codelineno-19-964"></a>                  to use for the Wireguard routing rule. [Default: 99]&#39;
</span><span id="__span-19-965"><a id="__codelineno-19-965" name="__codelineno-19-965" href="#__codelineno-19-965"></a>                type: integer
</span><span id="__span-19-966"><a id="__codelineno-19-966" name="__codelineno-19-966" href="#__codelineno-19-966"></a>              xdpEnabled:
</span><span id="__span-19-967"><a id="__codelineno-19-967" name="__codelineno-19-967" href="#__codelineno-19-967"></a>                description: &#39;XDPEnabled enables XDP acceleration for suitable untracked
</span><span id="__span-19-968"><a id="__codelineno-19-968" name="__codelineno-19-968" href="#__codelineno-19-968"></a>                  incoming deny rules. [Default: true]&#39;
</span><span id="__span-19-969"><a id="__codelineno-19-969" name="__codelineno-19-969" href="#__codelineno-19-969"></a>                type: boolean
</span><span id="__span-19-970"><a id="__codelineno-19-970" name="__codelineno-19-970" href="#__codelineno-19-970"></a>              xdpRefreshInterval:
</span><span id="__span-19-971"><a id="__codelineno-19-971" name="__codelineno-19-971" href="#__codelineno-19-971"></a>                description: &#39;XDPRefreshInterval is the period at which Felix re-checks
</span><span id="__span-19-972"><a id="__codelineno-19-972" name="__codelineno-19-972" href="#__codelineno-19-972"></a>                  all XDP state to ensure that no other process has accidentally broken
</span><span id="__span-19-973"><a id="__codelineno-19-973" name="__codelineno-19-973" href="#__codelineno-19-973"></a>                  Calico&#39;&#39;s BPF maps or attached programs. Set to 0 to disable XDP
</span><span id="__span-19-974"><a id="__codelineno-19-974" name="__codelineno-19-974" href="#__codelineno-19-974"></a>                  refresh. [Default: 90s]&#39;
</span><span id="__span-19-975"><a id="__codelineno-19-975" name="__codelineno-19-975" href="#__codelineno-19-975"></a>                type: string
</span><span id="__span-19-976"><a id="__codelineno-19-976" name="__codelineno-19-976" href="#__codelineno-19-976"></a>            type: object
</span><span id="__span-19-977"><a id="__codelineno-19-977" name="__codelineno-19-977" href="#__codelineno-19-977"></a>        type: object
</span><span id="__span-19-978"><a id="__codelineno-19-978" name="__codelineno-19-978" href="#__codelineno-19-978"></a>    served: true
</span><span id="__span-19-979"><a id="__codelineno-19-979" name="__codelineno-19-979" href="#__codelineno-19-979"></a>    storage: true
</span><span id="__span-19-980"><a id="__codelineno-19-980" name="__codelineno-19-980" href="#__codelineno-19-980"></a>status:
</span><span id="__span-19-981"><a id="__codelineno-19-981" name="__codelineno-19-981" href="#__codelineno-19-981"></a>  acceptedNames:
</span><span id="__span-19-982"><a id="__codelineno-19-982" name="__codelineno-19-982" href="#__codelineno-19-982"></a>    kind: &quot;&quot;
</span><span id="__span-19-983"><a id="__codelineno-19-983" name="__codelineno-19-983" href="#__codelineno-19-983"></a>    plural: &quot;&quot;
</span><span id="__span-19-984"><a id="__codelineno-19-984" name="__codelineno-19-984" href="#__codelineno-19-984"></a>  conditions: []
</span><span id="__span-19-985"><a id="__codelineno-19-985" name="__codelineno-19-985" href="#__codelineno-19-985"></a>  storedVersions: []
</span><span id="__span-19-986"><a id="__codelineno-19-986" name="__codelineno-19-986" href="#__codelineno-19-986"></a>
</span><span id="__span-19-987"><a id="__codelineno-19-987" name="__codelineno-19-987" href="#__codelineno-19-987"></a>---
</span><span id="__span-19-988"><a id="__codelineno-19-988" name="__codelineno-19-988" href="#__codelineno-19-988"></a>apiVersion: apiextensions.k8s.io/v1
</span><span id="__span-19-989"><a id="__codelineno-19-989" name="__codelineno-19-989" href="#__codelineno-19-989"></a>kind: CustomResourceDefinition
</span><span id="__span-19-990"><a id="__codelineno-19-990" name="__codelineno-19-990" href="#__codelineno-19-990"></a>metadata:
</span><span id="__span-19-991"><a id="__codelineno-19-991" name="__codelineno-19-991" href="#__codelineno-19-991"></a>  name: globalnetworkpolicies.crd.projectcalico.org
</span><span id="__span-19-992"><a id="__codelineno-19-992" name="__codelineno-19-992" href="#__codelineno-19-992"></a>spec:
</span><span id="__span-19-993"><a id="__codelineno-19-993" name="__codelineno-19-993" href="#__codelineno-19-993"></a>  group: crd.projectcalico.org
</span><span id="__span-19-994"><a id="__codelineno-19-994" name="__codelineno-19-994" href="#__codelineno-19-994"></a>  names:
</span><span id="__span-19-995"><a id="__codelineno-19-995" name="__codelineno-19-995" href="#__codelineno-19-995"></a>    kind: GlobalNetworkPolicy
</span><span id="__span-19-996"><a id="__codelineno-19-996" name="__codelineno-19-996" href="#__codelineno-19-996"></a>    listKind: GlobalNetworkPolicyList
</span><span id="__span-19-997"><a id="__codelineno-19-997" name="__codelineno-19-997" href="#__codelineno-19-997"></a>    plural: globalnetworkpolicies
</span><span id="__span-19-998"><a id="__codelineno-19-998" name="__codelineno-19-998" href="#__codelineno-19-998"></a>    singular: globalnetworkpolicy
</span><span id="__span-19-999"><a id="__codelineno-19-999" name="__codelineno-19-999" href="#__codelineno-19-999"></a>  scope: Cluster
</span><span id="__span-19-1000"><a id="__codelineno-19-1000" name="__codelineno-19-1000" href="#__codelineno-19-1000"></a>  versions:
</span><span id="__span-19-1001"><a id="__codelineno-19-1001" name="__codelineno-19-1001" href="#__codelineno-19-1001"></a>  - name: v1
</span><span id="__span-19-1002"><a id="__codelineno-19-1002" name="__codelineno-19-1002" href="#__codelineno-19-1002"></a>    schema:
</span><span id="__span-19-1003"><a id="__codelineno-19-1003" name="__codelineno-19-1003" href="#__codelineno-19-1003"></a>      openAPIV3Schema:
</span><span id="__span-19-1004"><a id="__codelineno-19-1004" name="__codelineno-19-1004" href="#__codelineno-19-1004"></a>        properties:
</span><span id="__span-19-1005"><a id="__codelineno-19-1005" name="__codelineno-19-1005" href="#__codelineno-19-1005"></a>          apiVersion:
</span><span id="__span-19-1006"><a id="__codelineno-19-1006" name="__codelineno-19-1006" href="#__codelineno-19-1006"></a>            description: &#39;APIVersion defines the versioned schema of this representation
</span><span id="__span-19-1007"><a id="__codelineno-19-1007" name="__codelineno-19-1007" href="#__codelineno-19-1007"></a>              of an object. Servers should convert recognized schemas to the latest
</span><span id="__span-19-1008"><a id="__codelineno-19-1008" name="__codelineno-19-1008" href="#__codelineno-19-1008"></a>              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#39;
</span><span id="__span-19-1009"><a id="__codelineno-19-1009" name="__codelineno-19-1009" href="#__codelineno-19-1009"></a>            type: string
</span><span id="__span-19-1010"><a id="__codelineno-19-1010" name="__codelineno-19-1010" href="#__codelineno-19-1010"></a>          kind:
</span><span id="__span-19-1011"><a id="__codelineno-19-1011" name="__codelineno-19-1011" href="#__codelineno-19-1011"></a>            description: &#39;Kind is a string value representing the REST resource this
</span><span id="__span-19-1012"><a id="__codelineno-19-1012" name="__codelineno-19-1012" href="#__codelineno-19-1012"></a>              object represents. Servers may infer this from the endpoint the client
</span><span id="__span-19-1013"><a id="__codelineno-19-1013" name="__codelineno-19-1013" href="#__codelineno-19-1013"></a>              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#39;
</span><span id="__span-19-1014"><a id="__codelineno-19-1014" name="__codelineno-19-1014" href="#__codelineno-19-1014"></a>            type: string
</span><span id="__span-19-1015"><a id="__codelineno-19-1015" name="__codelineno-19-1015" href="#__codelineno-19-1015"></a>          metadata:
</span><span id="__span-19-1016"><a id="__codelineno-19-1016" name="__codelineno-19-1016" href="#__codelineno-19-1016"></a>            type: object
</span><span id="__span-19-1017"><a id="__codelineno-19-1017" name="__codelineno-19-1017" href="#__codelineno-19-1017"></a>          spec:
</span><span id="__span-19-1018"><a id="__codelineno-19-1018" name="__codelineno-19-1018" href="#__codelineno-19-1018"></a>            properties:
</span><span id="__span-19-1019"><a id="__codelineno-19-1019" name="__codelineno-19-1019" href="#__codelineno-19-1019"></a>              applyOnForward:
</span><span id="__span-19-1020"><a id="__codelineno-19-1020" name="__codelineno-19-1020" href="#__codelineno-19-1020"></a>                description: ApplyOnForward indicates to apply the rules in this policy
</span><span id="__span-19-1021"><a id="__codelineno-19-1021" name="__codelineno-19-1021" href="#__codelineno-19-1021"></a>                  on forward traffic.
</span><span id="__span-19-1022"><a id="__codelineno-19-1022" name="__codelineno-19-1022" href="#__codelineno-19-1022"></a>                type: boolean
</span><span id="__span-19-1023"><a id="__codelineno-19-1023" name="__codelineno-19-1023" href="#__codelineno-19-1023"></a>              doNotTrack:
</span><span id="__span-19-1024"><a id="__codelineno-19-1024" name="__codelineno-19-1024" href="#__codelineno-19-1024"></a>                description: DoNotTrack indicates whether packets matched by the rules
</span><span id="__span-19-1025"><a id="__codelineno-19-1025" name="__codelineno-19-1025" href="#__codelineno-19-1025"></a>                  in this policy should go through the data plane&#39;s connection tracking,
</span><span id="__span-19-1026"><a id="__codelineno-19-1026" name="__codelineno-19-1026" href="#__codelineno-19-1026"></a>                  such as Linux conntrack.  If True, the rules in this policy are
</span><span id="__span-19-1027"><a id="__codelineno-19-1027" name="__codelineno-19-1027" href="#__codelineno-19-1027"></a>                  applied before any data plane connection tracking, and packets allowed
</span><span id="__span-19-1028"><a id="__codelineno-19-1028" name="__codelineno-19-1028" href="#__codelineno-19-1028"></a>                  by this policy are marked as not to be tracked.
</span><span id="__span-19-1029"><a id="__codelineno-19-1029" name="__codelineno-19-1029" href="#__codelineno-19-1029"></a>                type: boolean
</span><span id="__span-19-1030"><a id="__codelineno-19-1030" name="__codelineno-19-1030" href="#__codelineno-19-1030"></a>              egress:
</span><span id="__span-19-1031"><a id="__codelineno-19-1031" name="__codelineno-19-1031" href="#__codelineno-19-1031"></a>                description: The ordered set of egress rules.  Each rule contains
</span><span id="__span-19-1032"><a id="__codelineno-19-1032" name="__codelineno-19-1032" href="#__codelineno-19-1032"></a>                  a set of packet match criteria and a corresponding action to apply.
</span><span id="__span-19-1033"><a id="__codelineno-19-1033" name="__codelineno-19-1033" href="#__codelineno-19-1033"></a>                items:
</span><span id="__span-19-1034"><a id="__codelineno-19-1034" name="__codelineno-19-1034" href="#__codelineno-19-1034"></a>                  description: &quot;A Rule encapsulates a set of match criteria and an
</span><span id="__span-19-1035"><a id="__codelineno-19-1035" name="__codelineno-19-1035" href="#__codelineno-19-1035"></a>                    action.  Both selector-based security Policy and security Profiles
</span><span id="__span-19-1036"><a id="__codelineno-19-1036" name="__codelineno-19-1036" href="#__codelineno-19-1036"></a>                    reference rules - separated out as a list of rules for both ingress
</span><span id="__span-19-1037"><a id="__codelineno-19-1037" name="__codelineno-19-1037" href="#__codelineno-19-1037"></a>                    and egress packet matching. \n Each positive match criteria has
</span><span id="__span-19-1038"><a id="__codelineno-19-1038" name="__codelineno-19-1038" href="#__codelineno-19-1038"></a>                    a negated version, prefixed with \&quot;Not\&quot;. All the match criteria
</span><span id="__span-19-1039"><a id="__codelineno-19-1039" name="__codelineno-19-1039" href="#__codelineno-19-1039"></a>                    within a rule must be satisfied for a packet to match. A single
</span><span id="__span-19-1040"><a id="__codelineno-19-1040" name="__codelineno-19-1040" href="#__codelineno-19-1040"></a>                    rule can contain the positive and negative version of a match
</span><span id="__span-19-1041"><a id="__codelineno-19-1041" name="__codelineno-19-1041" href="#__codelineno-19-1041"></a>                    and both must be satisfied for the rule to match.&quot;
</span><span id="__span-19-1042"><a id="__codelineno-19-1042" name="__codelineno-19-1042" href="#__codelineno-19-1042"></a>                  properties:
</span><span id="__span-19-1043"><a id="__codelineno-19-1043" name="__codelineno-19-1043" href="#__codelineno-19-1043"></a>                    action:
</span><span id="__span-19-1044"><a id="__codelineno-19-1044" name="__codelineno-19-1044" href="#__codelineno-19-1044"></a>                      type: string
</span><span id="__span-19-1045"><a id="__codelineno-19-1045" name="__codelineno-19-1045" href="#__codelineno-19-1045"></a>                    destination:
</span><span id="__span-19-1046"><a id="__codelineno-19-1046" name="__codelineno-19-1046" href="#__codelineno-19-1046"></a>                      description: Destination contains the match criteria that apply
</span><span id="__span-19-1047"><a id="__codelineno-19-1047" name="__codelineno-19-1047" href="#__codelineno-19-1047"></a>                        to destination entity.
</span><span id="__span-19-1048"><a id="__codelineno-19-1048" name="__codelineno-19-1048" href="#__codelineno-19-1048"></a>                      properties:
</span><span id="__span-19-1049"><a id="__codelineno-19-1049" name="__codelineno-19-1049" href="#__codelineno-19-1049"></a>                        namespaceSelector:
</span><span id="__span-19-1050"><a id="__codelineno-19-1050" name="__codelineno-19-1050" href="#__codelineno-19-1050"></a>                          description: &quot;NamespaceSelector is an optional field that
</span><span id="__span-19-1051"><a id="__codelineno-19-1051" name="__codelineno-19-1051" href="#__codelineno-19-1051"></a>                            contains a selector expression. Only traffic that originates
</span><span id="__span-19-1052"><a id="__codelineno-19-1052" name="__codelineno-19-1052" href="#__codelineno-19-1052"></a>                            from (or terminates at) endpoints within the selected
</span><span id="__span-19-1053"><a id="__codelineno-19-1053" name="__codelineno-19-1053" href="#__codelineno-19-1053"></a>                            namespaces will be matched. When both NamespaceSelector
</span><span id="__span-19-1054"><a id="__codelineno-19-1054" name="__codelineno-19-1054" href="#__codelineno-19-1054"></a>                            and Selector are defined on the same rule, then only workload
</span><span id="__span-19-1055"><a id="__codelineno-19-1055" name="__codelineno-19-1055" href="#__codelineno-19-1055"></a>                            endpoints that are matched by both selectors will be selected
</span><span id="__span-19-1056"><a id="__codelineno-19-1056" name="__codelineno-19-1056" href="#__codelineno-19-1056"></a>                            by the rule. \n For NetworkPolicy, an empty NamespaceSelector
</span><span id="__span-19-1057"><a id="__codelineno-19-1057" name="__codelineno-19-1057" href="#__codelineno-19-1057"></a>                            implies that the Selector is limited to selecting only
</span><span id="__span-19-1058"><a id="__codelineno-19-1058" name="__codelineno-19-1058" href="#__codelineno-19-1058"></a>                            workload endpoints in the same namespace as the NetworkPolicy.
</span><span id="__span-19-1059"><a id="__codelineno-19-1059" name="__codelineno-19-1059" href="#__codelineno-19-1059"></a>                            \n For NetworkPolicy, `global()` NamespaceSelector implies
</span><span id="__span-19-1060"><a id="__codelineno-19-1060" name="__codelineno-19-1060" href="#__codelineno-19-1060"></a>                            that the Selector is limited to selecting only GlobalNetworkSet
</span><span id="__span-19-1061"><a id="__codelineno-19-1061" name="__codelineno-19-1061" href="#__codelineno-19-1061"></a>                            or HostEndpoint. \n For GlobalNetworkPolicy, an empty
</span><span id="__span-19-1062"><a id="__codelineno-19-1062" name="__codelineno-19-1062" href="#__codelineno-19-1062"></a>                            NamespaceSelector implies the Selector applies to workload
</span><span id="__span-19-1063"><a id="__codelineno-19-1063" name="__codelineno-19-1063" href="#__codelineno-19-1063"></a>                            endpoints across all namespaces.&quot;
</span><span id="__span-19-1064"><a id="__codelineno-19-1064" name="__codelineno-19-1064" href="#__codelineno-19-1064"></a>                          type: string
</span><span id="__span-19-1065"><a id="__codelineno-19-1065" name="__codelineno-19-1065" href="#__codelineno-19-1065"></a>                        nets:
</span><span id="__span-19-1066"><a id="__codelineno-19-1066" name="__codelineno-19-1066" href="#__codelineno-19-1066"></a>                          description: Nets is an optional field that restricts the
</span><span id="__span-19-1067"><a id="__codelineno-19-1067" name="__codelineno-19-1067" href="#__codelineno-19-1067"></a>                            rule to only apply to traffic that originates from (or
</span><span id="__span-19-1068"><a id="__codelineno-19-1068" name="__codelineno-19-1068" href="#__codelineno-19-1068"></a>                            terminates at) IP addresses in any of the given subnets.
</span><span id="__span-19-1069"><a id="__codelineno-19-1069" name="__codelineno-19-1069" href="#__codelineno-19-1069"></a>                          items:
</span><span id="__span-19-1070"><a id="__codelineno-19-1070" name="__codelineno-19-1070" href="#__codelineno-19-1070"></a>                            type: string
</span><span id="__span-19-1071"><a id="__codelineno-19-1071" name="__codelineno-19-1071" href="#__codelineno-19-1071"></a>                          type: array
</span><span id="__span-19-1072"><a id="__codelineno-19-1072" name="__codelineno-19-1072" href="#__codelineno-19-1072"></a>                        notNets:
</span><span id="__span-19-1073"><a id="__codelineno-19-1073" name="__codelineno-19-1073" href="#__codelineno-19-1073"></a>                          description: NotNets is the negated version of the Nets
</span><span id="__span-19-1074"><a id="__codelineno-19-1074" name="__codelineno-19-1074" href="#__codelineno-19-1074"></a>                            field.
</span><span id="__span-19-1075"><a id="__codelineno-19-1075" name="__codelineno-19-1075" href="#__codelineno-19-1075"></a>                          items:
</span><span id="__span-19-1076"><a id="__codelineno-19-1076" name="__codelineno-19-1076" href="#__codelineno-19-1076"></a>                            type: string
</span><span id="__span-19-1077"><a id="__codelineno-19-1077" name="__codelineno-19-1077" href="#__codelineno-19-1077"></a>                          type: array
</span><span id="__span-19-1078"><a id="__codelineno-19-1078" name="__codelineno-19-1078" href="#__codelineno-19-1078"></a>                        notPorts:
</span><span id="__span-19-1079"><a id="__codelineno-19-1079" name="__codelineno-19-1079" href="#__codelineno-19-1079"></a>                          description: NotPorts is the negated version of the Ports
</span><span id="__span-19-1080"><a id="__codelineno-19-1080" name="__codelineno-19-1080" href="#__codelineno-19-1080"></a>                            field. Since only some protocols have ports, if any ports
</span><span id="__span-19-1081"><a id="__codelineno-19-1081" name="__codelineno-19-1081" href="#__codelineno-19-1081"></a>                            are specified it requires the Protocol match in the Rule
</span><span id="__span-19-1082"><a id="__codelineno-19-1082" name="__codelineno-19-1082" href="#__codelineno-19-1082"></a>                            to be set to &quot;TCP&quot; or &quot;UDP&quot;.
</span><span id="__span-19-1083"><a id="__codelineno-19-1083" name="__codelineno-19-1083" href="#__codelineno-19-1083"></a>                          items:
</span><span id="__span-19-1084"><a id="__codelineno-19-1084" name="__codelineno-19-1084" href="#__codelineno-19-1084"></a>                            anyOf:
</span><span id="__span-19-1085"><a id="__codelineno-19-1085" name="__codelineno-19-1085" href="#__codelineno-19-1085"></a>                            - type: integer
</span><span id="__span-19-1086"><a id="__codelineno-19-1086" name="__codelineno-19-1086" href="#__codelineno-19-1086"></a>                            - type: string
</span><span id="__span-19-1087"><a id="__codelineno-19-1087" name="__codelineno-19-1087" href="#__codelineno-19-1087"></a>                            pattern: ^.*
</span><span id="__span-19-1088"><a id="__codelineno-19-1088" name="__codelineno-19-1088" href="#__codelineno-19-1088"></a>                            x-kubernetes-int-or-string: true
</span><span id="__span-19-1089"><a id="__codelineno-19-1089" name="__codelineno-19-1089" href="#__codelineno-19-1089"></a>                          type: array
</span><span id="__span-19-1090"><a id="__codelineno-19-1090" name="__codelineno-19-1090" href="#__codelineno-19-1090"></a>                        notSelector:
</span><span id="__span-19-1091"><a id="__codelineno-19-1091" name="__codelineno-19-1091" href="#__codelineno-19-1091"></a>                          description: NotSelector is the negated version of the Selector
</span><span id="__span-19-1092"><a id="__codelineno-19-1092" name="__codelineno-19-1092" href="#__codelineno-19-1092"></a>                            field.  See Selector field for subtleties with negated
</span><span id="__span-19-1093"><a id="__codelineno-19-1093" name="__codelineno-19-1093" href="#__codelineno-19-1093"></a>                            selectors.
</span><span id="__span-19-1094"><a id="__codelineno-19-1094" name="__codelineno-19-1094" href="#__codelineno-19-1094"></a>                          type: string
</span><span id="__span-19-1095"><a id="__codelineno-19-1095" name="__codelineno-19-1095" href="#__codelineno-19-1095"></a>                        ports:
</span><span id="__span-19-1096"><a id="__codelineno-19-1096" name="__codelineno-19-1096" href="#__codelineno-19-1096"></a>                          description: &quot;Ports is an optional field that restricts
</span><span id="__span-19-1097"><a id="__codelineno-19-1097" name="__codelineno-19-1097" href="#__codelineno-19-1097"></a>                            the rule to only apply to traffic that has a source (destination)
</span><span id="__span-19-1098"><a id="__codelineno-19-1098" name="__codelineno-19-1098" href="#__codelineno-19-1098"></a>                            port that matches one of these ranges/values. This value
</span><span id="__span-19-1099"><a id="__codelineno-19-1099" name="__codelineno-19-1099" href="#__codelineno-19-1099"></a>                            is a list of integers or strings that represent ranges
</span><span id="__span-19-1100"><a id="__codelineno-19-1100" name="__codelineno-19-1100" href="#__codelineno-19-1100"></a>                            of ports. \n Since only some protocols have ports, if
</span><span id="__span-19-1101"><a id="__codelineno-19-1101" name="__codelineno-19-1101" href="#__codelineno-19-1101"></a>                            any ports are specified it requires the Protocol match
</span><span id="__span-19-1102"><a id="__codelineno-19-1102" name="__codelineno-19-1102" href="#__codelineno-19-1102"></a>                            in the Rule to be set to \&quot;TCP\&quot; or \&quot;UDP\&quot;.&quot;
</span><span id="__span-19-1103"><a id="__codelineno-19-1103" name="__codelineno-19-1103" href="#__codelineno-19-1103"></a>                          items:
</span><span id="__span-19-1104"><a id="__codelineno-19-1104" name="__codelineno-19-1104" href="#__codelineno-19-1104"></a>                            anyOf:
</span><span id="__span-19-1105"><a id="__codelineno-19-1105" name="__codelineno-19-1105" href="#__codelineno-19-1105"></a>                            - type: integer
</span><span id="__span-19-1106"><a id="__codelineno-19-1106" name="__codelineno-19-1106" href="#__codelineno-19-1106"></a>                            - type: string
</span><span id="__span-19-1107"><a id="__codelineno-19-1107" name="__codelineno-19-1107" href="#__codelineno-19-1107"></a>                            pattern: ^.*
</span><span id="__span-19-1108"><a id="__codelineno-19-1108" name="__codelineno-19-1108" href="#__codelineno-19-1108"></a>                            x-kubernetes-int-or-string: true
</span><span id="__span-19-1109"><a id="__codelineno-19-1109" name="__codelineno-19-1109" href="#__codelineno-19-1109"></a>                          type: array
</span><span id="__span-19-1110"><a id="__codelineno-19-1110" name="__codelineno-19-1110" href="#__codelineno-19-1110"></a>                        selector:
</span><span id="__span-19-1111"><a id="__codelineno-19-1111" name="__codelineno-19-1111" href="#__codelineno-19-1111"></a>                          description: &quot;Selector is an optional field that contains
</span><span id="__span-19-1112"><a id="__codelineno-19-1112" name="__codelineno-19-1112" href="#__codelineno-19-1112"></a>                            a selector expression (see Policy for sample syntax).
</span><span id="__span-19-1113"><a id="__codelineno-19-1113" name="__codelineno-19-1113" href="#__codelineno-19-1113"></a>                            \ Only traffic that originates from (terminates at) endpoints
</span><span id="__span-19-1114"><a id="__codelineno-19-1114" name="__codelineno-19-1114" href="#__codelineno-19-1114"></a>                            matching the selector will be matched. \n Note that: in
</span><span id="__span-19-1115"><a id="__codelineno-19-1115" name="__codelineno-19-1115" href="#__codelineno-19-1115"></a>                            addition to the negated version of the Selector (see NotSelector
</span><span id="__span-19-1116"><a id="__codelineno-19-1116" name="__codelineno-19-1116" href="#__codelineno-19-1116"></a>                            below), the selector expression syntax itself supports
</span><span id="__span-19-1117"><a id="__codelineno-19-1117" name="__codelineno-19-1117" href="#__codelineno-19-1117"></a>                            negation.  The two types of negation are subtly different.
</span><span id="__span-19-1118"><a id="__codelineno-19-1118" name="__codelineno-19-1118" href="#__codelineno-19-1118"></a>                            One negates the set of matched endpoints, the other negates
</span><span id="__span-19-1119"><a id="__codelineno-19-1119" name="__codelineno-19-1119" href="#__codelineno-19-1119"></a>                            the whole match: \n \tSelector = \&quot;!has(my_label)\&quot; matches
</span><span id="__span-19-1120"><a id="__codelineno-19-1120" name="__codelineno-19-1120" href="#__codelineno-19-1120"></a>                            packets that are from other Calico-controlled \tendpoints
</span><span id="__span-19-1121"><a id="__codelineno-19-1121" name="__codelineno-19-1121" href="#__codelineno-19-1121"></a>                            that do not have the label \&quot;my_label\&quot;. \n \tNotSelector
</span><span id="__span-19-1122"><a id="__codelineno-19-1122" name="__codelineno-19-1122" href="#__codelineno-19-1122"></a>                            = \&quot;has(my_label)\&quot; matches packets that are not from
</span><span id="__span-19-1123"><a id="__codelineno-19-1123" name="__codelineno-19-1123" href="#__codelineno-19-1123"></a>                            Calico-controlled \tendpoints that do have the label \&quot;my_label\&quot;.
</span><span id="__span-19-1124"><a id="__codelineno-19-1124" name="__codelineno-19-1124" href="#__codelineno-19-1124"></a>                            \n The effect is that the latter will accept packets from
</span><span id="__span-19-1125"><a id="__codelineno-19-1125" name="__codelineno-19-1125" href="#__codelineno-19-1125"></a>                            non-Calico sources whereas the former is limited to packets
</span><span id="__span-19-1126"><a id="__codelineno-19-1126" name="__codelineno-19-1126" href="#__codelineno-19-1126"></a>                            from Calico-controlled endpoints.&quot;
</span><span id="__span-19-1127"><a id="__codelineno-19-1127" name="__codelineno-19-1127" href="#__codelineno-19-1127"></a>                          type: string
</span><span id="__span-19-1128"><a id="__codelineno-19-1128" name="__codelineno-19-1128" href="#__codelineno-19-1128"></a>                        serviceAccounts:
</span><span id="__span-19-1129"><a id="__codelineno-19-1129" name="__codelineno-19-1129" href="#__codelineno-19-1129"></a>                          description: ServiceAccounts is an optional field that restricts
</span><span id="__span-19-1130"><a id="__codelineno-19-1130" name="__codelineno-19-1130" href="#__codelineno-19-1130"></a>                            the rule to only apply to traffic that originates from
</span><span id="__span-19-1131"><a id="__codelineno-19-1131" name="__codelineno-19-1131" href="#__codelineno-19-1131"></a>                            (or terminates at) a pod running as a matching service
</span><span id="__span-19-1132"><a id="__codelineno-19-1132" name="__codelineno-19-1132" href="#__codelineno-19-1132"></a>                            account.
</span><span id="__span-19-1133"><a id="__codelineno-19-1133" name="__codelineno-19-1133" href="#__codelineno-19-1133"></a>                          properties:
</span><span id="__span-19-1134"><a id="__codelineno-19-1134" name="__codelineno-19-1134" href="#__codelineno-19-1134"></a>                            names:
</span><span id="__span-19-1135"><a id="__codelineno-19-1135" name="__codelineno-19-1135" href="#__codelineno-19-1135"></a>                              description: Names is an optional field that restricts
</span><span id="__span-19-1136"><a id="__codelineno-19-1136" name="__codelineno-19-1136" href="#__codelineno-19-1136"></a>                                the rule to only apply to traffic that originates
</span><span id="__span-19-1137"><a id="__codelineno-19-1137" name="__codelineno-19-1137" href="#__codelineno-19-1137"></a>                                from (or terminates at) a pod running as a service
</span><span id="__span-19-1138"><a id="__codelineno-19-1138" name="__codelineno-19-1138" href="#__codelineno-19-1138"></a>                                account whose name is in the list.
</span><span id="__span-19-1139"><a id="__codelineno-19-1139" name="__codelineno-19-1139" href="#__codelineno-19-1139"></a>                              items:
</span><span id="__span-19-1140"><a id="__codelineno-19-1140" name="__codelineno-19-1140" href="#__codelineno-19-1140"></a>                                type: string
</span><span id="__span-19-1141"><a id="__codelineno-19-1141" name="__codelineno-19-1141" href="#__codelineno-19-1141"></a>                              type: array
</span><span id="__span-19-1142"><a id="__codelineno-19-1142" name="__codelineno-19-1142" href="#__codelineno-19-1142"></a>                            selector:
</span><span id="__span-19-1143"><a id="__codelineno-19-1143" name="__codelineno-19-1143" href="#__codelineno-19-1143"></a>                              description: Selector is an optional field that restricts
</span><span id="__span-19-1144"><a id="__codelineno-19-1144" name="__codelineno-19-1144" href="#__codelineno-19-1144"></a>                                the rule to only apply to traffic that originates
</span><span id="__span-19-1145"><a id="__codelineno-19-1145" name="__codelineno-19-1145" href="#__codelineno-19-1145"></a>                                from (or terminates at) a pod running as a service
</span><span id="__span-19-1146"><a id="__codelineno-19-1146" name="__codelineno-19-1146" href="#__codelineno-19-1146"></a>                                account that matches the given label selector. If
</span><span id="__span-19-1147"><a id="__codelineno-19-1147" name="__codelineno-19-1147" href="#__codelineno-19-1147"></a>                                both Names and Selector are specified then they are
</span><span id="__span-19-1148"><a id="__codelineno-19-1148" name="__codelineno-19-1148" href="#__codelineno-19-1148"></a>                                AND&#39;ed.
</span><span id="__span-19-1149"><a id="__codelineno-19-1149" name="__codelineno-19-1149" href="#__codelineno-19-1149"></a>                              type: string
</span><span id="__span-19-1150"><a id="__codelineno-19-1150" name="__codelineno-19-1150" href="#__codelineno-19-1150"></a>                          type: object
</span><span id="__span-19-1151"><a id="__codelineno-19-1151" name="__codelineno-19-1151" href="#__codelineno-19-1151"></a>                      type: object
</span><span id="__span-19-1152"><a id="__codelineno-19-1152" name="__codelineno-19-1152" href="#__codelineno-19-1152"></a>                    http:
</span><span id="__span-19-1153"><a id="__codelineno-19-1153" name="__codelineno-19-1153" href="#__codelineno-19-1153"></a>                      description: HTTP contains match criteria that apply to HTTP
</span><span id="__span-19-1154"><a id="__codelineno-19-1154" name="__codelineno-19-1154" href="#__codelineno-19-1154"></a>                        requests.
</span><span id="__span-19-1155"><a id="__codelineno-19-1155" name="__codelineno-19-1155" href="#__codelineno-19-1155"></a>                      properties:
</span><span id="__span-19-1156"><a id="__codelineno-19-1156" name="__codelineno-19-1156" href="#__codelineno-19-1156"></a>                        methods:
</span><span id="__span-19-1157"><a id="__codelineno-19-1157" name="__codelineno-19-1157" href="#__codelineno-19-1157"></a>                          description: Methods is an optional field that restricts
</span><span id="__span-19-1158"><a id="__codelineno-19-1158" name="__codelineno-19-1158" href="#__codelineno-19-1158"></a>                            the rule to apply only to HTTP requests that use one of
</span><span id="__span-19-1159"><a id="__codelineno-19-1159" name="__codelineno-19-1159" href="#__codelineno-19-1159"></a>                            the listed HTTP Methods (e.g. GET, PUT, etc.) Multiple
</span><span id="__span-19-1160"><a id="__codelineno-19-1160" name="__codelineno-19-1160" href="#__codelineno-19-1160"></a>                            methods are OR&#39;d together.
</span><span id="__span-19-1161"><a id="__codelineno-19-1161" name="__codelineno-19-1161" href="#__codelineno-19-1161"></a>                          items:
</span><span id="__span-19-1162"><a id="__codelineno-19-1162" name="__codelineno-19-1162" href="#__codelineno-19-1162"></a>                            type: string
</span><span id="__span-19-1163"><a id="__codelineno-19-1163" name="__codelineno-19-1163" href="#__codelineno-19-1163"></a>                          type: array
</span><span id="__span-19-1164"><a id="__codelineno-19-1164" name="__codelineno-19-1164" href="#__codelineno-19-1164"></a>                        paths:
</span><span id="__span-19-1165"><a id="__codelineno-19-1165" name="__codelineno-19-1165" href="#__codelineno-19-1165"></a>                          description: &#39;Paths is an optional field that restricts
</span><span id="__span-19-1166"><a id="__codelineno-19-1166" name="__codelineno-19-1166" href="#__codelineno-19-1166"></a>                            the rule to apply to HTTP requests that use one of the
</span><span id="__span-19-1167"><a id="__codelineno-19-1167" name="__codelineno-19-1167" href="#__codelineno-19-1167"></a>                            listed HTTP Paths. Multiple paths are OR&#39;&#39;d together.
</span><span id="__span-19-1168"><a id="__codelineno-19-1168" name="__codelineno-19-1168" href="#__codelineno-19-1168"></a>                            e.g: - exact: /foo - prefix: /bar NOTE: Each entry may
</span><span id="__span-19-1169"><a id="__codelineno-19-1169" name="__codelineno-19-1169" href="#__codelineno-19-1169"></a>                            ONLY specify either a `exact` or a `prefix` match. The
</span><span id="__span-19-1170"><a id="__codelineno-19-1170" name="__codelineno-19-1170" href="#__codelineno-19-1170"></a>                            validator will check for it.&#39;
</span><span id="__span-19-1171"><a id="__codelineno-19-1171" name="__codelineno-19-1171" href="#__codelineno-19-1171"></a>                          items:
</span><span id="__span-19-1172"><a id="__codelineno-19-1172" name="__codelineno-19-1172" href="#__codelineno-19-1172"></a>                            description: &#39;HTTPPath specifies an HTTP path to match.
</span><span id="__span-19-1173"><a id="__codelineno-19-1173" name="__codelineno-19-1173" href="#__codelineno-19-1173"></a>                              It may be either of the form: exact: &lt;path&gt;: which matches
</span><span id="__span-19-1174"><a id="__codelineno-19-1174" name="__codelineno-19-1174" href="#__codelineno-19-1174"></a>                              the path exactly or prefix: &lt;path-prefix&gt;: which matches
</span><span id="__span-19-1175"><a id="__codelineno-19-1175" name="__codelineno-19-1175" href="#__codelineno-19-1175"></a>                              the path prefix&#39;
</span><span id="__span-19-1176"><a id="__codelineno-19-1176" name="__codelineno-19-1176" href="#__codelineno-19-1176"></a>                            properties:
</span><span id="__span-19-1177"><a id="__codelineno-19-1177" name="__codelineno-19-1177" href="#__codelineno-19-1177"></a>                              exact:
</span><span id="__span-19-1178"><a id="__codelineno-19-1178" name="__codelineno-19-1178" href="#__codelineno-19-1178"></a>                                type: string
</span><span id="__span-19-1179"><a id="__codelineno-19-1179" name="__codelineno-19-1179" href="#__codelineno-19-1179"></a>                              prefix:
</span><span id="__span-19-1180"><a id="__codelineno-19-1180" name="__codelineno-19-1180" href="#__codelineno-19-1180"></a>                                type: string
</span><span id="__span-19-1181"><a id="__codelineno-19-1181" name="__codelineno-19-1181" href="#__codelineno-19-1181"></a>                            type: object
</span><span id="__span-19-1182"><a id="__codelineno-19-1182" name="__codelineno-19-1182" href="#__codelineno-19-1182"></a>                          type: array
</span><span id="__span-19-1183"><a id="__codelineno-19-1183" name="__codelineno-19-1183" href="#__codelineno-19-1183"></a>                      type: object
</span><span id="__span-19-1184"><a id="__codelineno-19-1184" name="__codelineno-19-1184" href="#__codelineno-19-1184"></a>                    icmp:
</span><span id="__span-19-1185"><a id="__codelineno-19-1185" name="__codelineno-19-1185" href="#__codelineno-19-1185"></a>                      description: ICMP is an optional field that restricts the rule
</span><span id="__span-19-1186"><a id="__codelineno-19-1186" name="__codelineno-19-1186" href="#__codelineno-19-1186"></a>                        to apply to a specific type and code of ICMP traffic.  This
</span><span id="__span-19-1187"><a id="__codelineno-19-1187" name="__codelineno-19-1187" href="#__codelineno-19-1187"></a>                        should only be specified if the Protocol field is set to &quot;ICMP&quot;
</span><span id="__span-19-1188"><a id="__codelineno-19-1188" name="__codelineno-19-1188" href="#__codelineno-19-1188"></a>                        or &quot;ICMPv6&quot;.
</span><span id="__span-19-1189"><a id="__codelineno-19-1189" name="__codelineno-19-1189" href="#__codelineno-19-1189"></a>                      properties:
</span><span id="__span-19-1190"><a id="__codelineno-19-1190" name="__codelineno-19-1190" href="#__codelineno-19-1190"></a>                        code:
</span><span id="__span-19-1191"><a id="__codelineno-19-1191" name="__codelineno-19-1191" href="#__codelineno-19-1191"></a>                          description: Match on a specific ICMP code.  If specified,
</span><span id="__span-19-1192"><a id="__codelineno-19-1192" name="__codelineno-19-1192" href="#__codelineno-19-1192"></a>                            the Type value must also be specified. This is a technical
</span><span id="__span-19-1193"><a id="__codelineno-19-1193" name="__codelineno-19-1193" href="#__codelineno-19-1193"></a>                            limitation imposed by the kernel&#39;s iptables firewall,
</span><span id="__span-19-1194"><a id="__codelineno-19-1194" name="__codelineno-19-1194" href="#__codelineno-19-1194"></a>                            which Calico uses to enforce the rule.
</span><span id="__span-19-1195"><a id="__codelineno-19-1195" name="__codelineno-19-1195" href="#__codelineno-19-1195"></a>                          type: integer
</span><span id="__span-19-1196"><a id="__codelineno-19-1196" name="__codelineno-19-1196" href="#__codelineno-19-1196"></a>                        type:
</span><span id="__span-19-1197"><a id="__codelineno-19-1197" name="__codelineno-19-1197" href="#__codelineno-19-1197"></a>                          description: Match on a specific ICMP type.  For example
</span><span id="__span-19-1198"><a id="__codelineno-19-1198" name="__codelineno-19-1198" href="#__codelineno-19-1198"></a>                            a value of 8 refers to ICMP Echo Request (i.e. pings).
</span><span id="__span-19-1199"><a id="__codelineno-19-1199" name="__codelineno-19-1199" href="#__codelineno-19-1199"></a>                          type: integer
</span><span id="__span-19-1200"><a id="__codelineno-19-1200" name="__codelineno-19-1200" href="#__codelineno-19-1200"></a>                      type: object
</span><span id="__span-19-1201"><a id="__codelineno-19-1201" name="__codelineno-19-1201" href="#__codelineno-19-1201"></a>                    ipVersion:
</span><span id="__span-19-1202"><a id="__codelineno-19-1202" name="__codelineno-19-1202" href="#__codelineno-19-1202"></a>                      description: IPVersion is an optional field that restricts the
</span><span id="__span-19-1203"><a id="__codelineno-19-1203" name="__codelineno-19-1203" href="#__codelineno-19-1203"></a>                        rule to only match a specific IP version.
</span><span id="__span-19-1204"><a id="__codelineno-19-1204" name="__codelineno-19-1204" href="#__codelineno-19-1204"></a>                      type: integer
</span><span id="__span-19-1205"><a id="__codelineno-19-1205" name="__codelineno-19-1205" href="#__codelineno-19-1205"></a>                    metadata:
</span><span id="__span-19-1206"><a id="__codelineno-19-1206" name="__codelineno-19-1206" href="#__codelineno-19-1206"></a>                      description: Metadata contains additional information for this
</span><span id="__span-19-1207"><a id="__codelineno-19-1207" name="__codelineno-19-1207" href="#__codelineno-19-1207"></a>                        rule
</span><span id="__span-19-1208"><a id="__codelineno-19-1208" name="__codelineno-19-1208" href="#__codelineno-19-1208"></a>                      properties:
</span><span id="__span-19-1209"><a id="__codelineno-19-1209" name="__codelineno-19-1209" href="#__codelineno-19-1209"></a>                        annotations:
</span><span id="__span-19-1210"><a id="__codelineno-19-1210" name="__codelineno-19-1210" href="#__codelineno-19-1210"></a>                          additionalProperties:
</span><span id="__span-19-1211"><a id="__codelineno-19-1211" name="__codelineno-19-1211" href="#__codelineno-19-1211"></a>                            type: string
</span><span id="__span-19-1212"><a id="__codelineno-19-1212" name="__codelineno-19-1212" href="#__codelineno-19-1212"></a>                          description: Annotations is a set of key value pairs that
</span><span id="__span-19-1213"><a id="__codelineno-19-1213" name="__codelineno-19-1213" href="#__codelineno-19-1213"></a>                            give extra information about the rule
</span><span id="__span-19-1214"><a id="__codelineno-19-1214" name="__codelineno-19-1214" href="#__codelineno-19-1214"></a>                          type: object
</span><span id="__span-19-1215"><a id="__codelineno-19-1215" name="__codelineno-19-1215" href="#__codelineno-19-1215"></a>                      type: object
</span><span id="__span-19-1216"><a id="__codelineno-19-1216" name="__codelineno-19-1216" href="#__codelineno-19-1216"></a>                    notICMP:
</span><span id="__span-19-1217"><a id="__codelineno-19-1217" name="__codelineno-19-1217" href="#__codelineno-19-1217"></a>                      description: NotICMP is the negated version of the ICMP field.
</span><span id="__span-19-1218"><a id="__codelineno-19-1218" name="__codelineno-19-1218" href="#__codelineno-19-1218"></a>                      properties:
</span><span id="__span-19-1219"><a id="__codelineno-19-1219" name="__codelineno-19-1219" href="#__codelineno-19-1219"></a>                        code:
</span><span id="__span-19-1220"><a id="__codelineno-19-1220" name="__codelineno-19-1220" href="#__codelineno-19-1220"></a>                          description: Match on a specific ICMP code.  If specified,
</span><span id="__span-19-1221"><a id="__codelineno-19-1221" name="__codelineno-19-1221" href="#__codelineno-19-1221"></a>                            the Type value must also be specified. This is a technical
</span><span id="__span-19-1222"><a id="__codelineno-19-1222" name="__codelineno-19-1222" href="#__codelineno-19-1222"></a>                            limitation imposed by the kernel&#39;s iptables firewall,
</span><span id="__span-19-1223"><a id="__codelineno-19-1223" name="__codelineno-19-1223" href="#__codelineno-19-1223"></a>                            which Calico uses to enforce the rule.
</span><span id="__span-19-1224"><a id="__codelineno-19-1224" name="__codelineno-19-1224" href="#__codelineno-19-1224"></a>                          type: integer
</span><span id="__span-19-1225"><a id="__codelineno-19-1225" name="__codelineno-19-1225" href="#__codelineno-19-1225"></a>                        type:
</span><span id="__span-19-1226"><a id="__codelineno-19-1226" name="__codelineno-19-1226" href="#__codelineno-19-1226"></a>                          description: Match on a specific ICMP type.  For example
</span><span id="__span-19-1227"><a id="__codelineno-19-1227" name="__codelineno-19-1227" href="#__codelineno-19-1227"></a>                            a value of 8 refers to ICMP Echo Request (i.e. pings).
</span><span id="__span-19-1228"><a id="__codelineno-19-1228" name="__codelineno-19-1228" href="#__codelineno-19-1228"></a>                          type: integer
</span><span id="__span-19-1229"><a id="__codelineno-19-1229" name="__codelineno-19-1229" href="#__codelineno-19-1229"></a>                      type: object
</span><span id="__span-19-1230"><a id="__codelineno-19-1230" name="__codelineno-19-1230" href="#__codelineno-19-1230"></a>                    notProtocol:
</span><span id="__span-19-1231"><a id="__codelineno-19-1231" name="__codelineno-19-1231" href="#__codelineno-19-1231"></a>                      anyOf:
</span><span id="__span-19-1232"><a id="__codelineno-19-1232" name="__codelineno-19-1232" href="#__codelineno-19-1232"></a>                      - type: integer
</span><span id="__span-19-1233"><a id="__codelineno-19-1233" name="__codelineno-19-1233" href="#__codelineno-19-1233"></a>                      - type: string
</span><span id="__span-19-1234"><a id="__codelineno-19-1234" name="__codelineno-19-1234" href="#__codelineno-19-1234"></a>                      description: NotProtocol is the negated version of the Protocol
</span><span id="__span-19-1235"><a id="__codelineno-19-1235" name="__codelineno-19-1235" href="#__codelineno-19-1235"></a>                        field.
</span><span id="__span-19-1236"><a id="__codelineno-19-1236" name="__codelineno-19-1236" href="#__codelineno-19-1236"></a>                      pattern: ^.*
</span><span id="__span-19-1237"><a id="__codelineno-19-1237" name="__codelineno-19-1237" href="#__codelineno-19-1237"></a>                      x-kubernetes-int-or-string: true
</span><span id="__span-19-1238"><a id="__codelineno-19-1238" name="__codelineno-19-1238" href="#__codelineno-19-1238"></a>                    protocol:
</span><span id="__span-19-1239"><a id="__codelineno-19-1239" name="__codelineno-19-1239" href="#__codelineno-19-1239"></a>                      anyOf:
</span><span id="__span-19-1240"><a id="__codelineno-19-1240" name="__codelineno-19-1240" href="#__codelineno-19-1240"></a>                      - type: integer
</span><span id="__span-19-1241"><a id="__codelineno-19-1241" name="__codelineno-19-1241" href="#__codelineno-19-1241"></a>                      - type: string
</span><span id="__span-19-1242"><a id="__codelineno-19-1242" name="__codelineno-19-1242" href="#__codelineno-19-1242"></a>                      description: &quot;Protocol is an optional field that restricts the
</span><span id="__span-19-1243"><a id="__codelineno-19-1243" name="__codelineno-19-1243" href="#__codelineno-19-1243"></a>                        rule to only apply to traffic of a specific IP protocol. Required
</span><span id="__span-19-1244"><a id="__codelineno-19-1244" name="__codelineno-19-1244" href="#__codelineno-19-1244"></a>                        if any of the EntityRules contain Ports (because ports only
</span><span id="__span-19-1245"><a id="__codelineno-19-1245" name="__codelineno-19-1245" href="#__codelineno-19-1245"></a>                        apply to certain protocols). \n Must be one of these string
</span><span id="__span-19-1246"><a id="__codelineno-19-1246" name="__codelineno-19-1246" href="#__codelineno-19-1246"></a>                        values: \&quot;TCP\&quot;, \&quot;UDP\&quot;, \&quot;ICMP\&quot;, \&quot;ICMPv6\&quot;, \&quot;SCTP\&quot;,
</span><span id="__span-19-1247"><a id="__codelineno-19-1247" name="__codelineno-19-1247" href="#__codelineno-19-1247"></a>                        \&quot;UDPLite\&quot; or an integer in the range 1-255.&quot;
</span><span id="__span-19-1248"><a id="__codelineno-19-1248" name="__codelineno-19-1248" href="#__codelineno-19-1248"></a>                      pattern: ^.*
</span><span id="__span-19-1249"><a id="__codelineno-19-1249" name="__codelineno-19-1249" href="#__codelineno-19-1249"></a>                      x-kubernetes-int-or-string: true
</span><span id="__span-19-1250"><a id="__codelineno-19-1250" name="__codelineno-19-1250" href="#__codelineno-19-1250"></a>                    source:
</span><span id="__span-19-1251"><a id="__codelineno-19-1251" name="__codelineno-19-1251" href="#__codelineno-19-1251"></a>                      description: Source contains the match criteria that apply to
</span><span id="__span-19-1252"><a id="__codelineno-19-1252" name="__codelineno-19-1252" href="#__codelineno-19-1252"></a>                        source entity.
</span><span id="__span-19-1253"><a id="__codelineno-19-1253" name="__codelineno-19-1253" href="#__codelineno-19-1253"></a>                      properties:
</span><span id="__span-19-1254"><a id="__codelineno-19-1254" name="__codelineno-19-1254" href="#__codelineno-19-1254"></a>                        namespaceSelector:
</span><span id="__span-19-1255"><a id="__codelineno-19-1255" name="__codelineno-19-1255" href="#__codelineno-19-1255"></a>                          description: &quot;NamespaceSelector is an optional field that
</span><span id="__span-19-1256"><a id="__codelineno-19-1256" name="__codelineno-19-1256" href="#__codelineno-19-1256"></a>                            contains a selector expression. Only traffic that originates
</span><span id="__span-19-1257"><a id="__codelineno-19-1257" name="__codelineno-19-1257" href="#__codelineno-19-1257"></a>                            from (or terminates at) endpoints within the selected
</span><span id="__span-19-1258"><a id="__codelineno-19-1258" name="__codelineno-19-1258" href="#__codelineno-19-1258"></a>                            namespaces will be matched. When both NamespaceSelector
</span><span id="__span-19-1259"><a id="__codelineno-19-1259" name="__codelineno-19-1259" href="#__codelineno-19-1259"></a>                            and Selector are defined on the same rule, then only workload
</span><span id="__span-19-1260"><a id="__codelineno-19-1260" name="__codelineno-19-1260" href="#__codelineno-19-1260"></a>                            endpoints that are matched by both selectors will be selected
</span><span id="__span-19-1261"><a id="__codelineno-19-1261" name="__codelineno-19-1261" href="#__codelineno-19-1261"></a>                            by the rule. \n For NetworkPolicy, an empty NamespaceSelector
</span><span id="__span-19-1262"><a id="__codelineno-19-1262" name="__codelineno-19-1262" href="#__codelineno-19-1262"></a>                            implies that the Selector is limited to selecting only
</span><span id="__span-19-1263"><a id="__codelineno-19-1263" name="__codelineno-19-1263" href="#__codelineno-19-1263"></a>                            workload endpoints in the same namespace as the NetworkPolicy.
</span><span id="__span-19-1264"><a id="__codelineno-19-1264" name="__codelineno-19-1264" href="#__codelineno-19-1264"></a>                            \n For NetworkPolicy, `global()` NamespaceSelector implies
</span><span id="__span-19-1265"><a id="__codelineno-19-1265" name="__codelineno-19-1265" href="#__codelineno-19-1265"></a>                            that the Selector is limited to selecting only GlobalNetworkSet
</span><span id="__span-19-1266"><a id="__codelineno-19-1266" name="__codelineno-19-1266" href="#__codelineno-19-1266"></a>                            or HostEndpoint. \n For GlobalNetworkPolicy, an empty
</span><span id="__span-19-1267"><a id="__codelineno-19-1267" name="__codelineno-19-1267" href="#__codelineno-19-1267"></a>                            NamespaceSelector implies the Selector applies to workload
</span><span id="__span-19-1268"><a id="__codelineno-19-1268" name="__codelineno-19-1268" href="#__codelineno-19-1268"></a>                            endpoints across all namespaces.&quot;
</span><span id="__span-19-1269"><a id="__codelineno-19-1269" name="__codelineno-19-1269" href="#__codelineno-19-1269"></a>                          type: string
</span><span id="__span-19-1270"><a id="__codelineno-19-1270" name="__codelineno-19-1270" href="#__codelineno-19-1270"></a>                        nets:
</span><span id="__span-19-1271"><a id="__codelineno-19-1271" name="__codelineno-19-1271" href="#__codelineno-19-1271"></a>                          description: Nets is an optional field that restricts the
</span><span id="__span-19-1272"><a id="__codelineno-19-1272" name="__codelineno-19-1272" href="#__codelineno-19-1272"></a>                            rule to only apply to traffic that originates from (or
</span><span id="__span-19-1273"><a id="__codelineno-19-1273" name="__codelineno-19-1273" href="#__codelineno-19-1273"></a>                            terminates at) IP addresses in any of the given subnets.
</span><span id="__span-19-1274"><a id="__codelineno-19-1274" name="__codelineno-19-1274" href="#__codelineno-19-1274"></a>                          items:
</span><span id="__span-19-1275"><a id="__codelineno-19-1275" name="__codelineno-19-1275" href="#__codelineno-19-1275"></a>                            type: string
</span><span id="__span-19-1276"><a id="__codelineno-19-1276" name="__codelineno-19-1276" href="#__codelineno-19-1276"></a>                          type: array
</span><span id="__span-19-1277"><a id="__codelineno-19-1277" name="__codelineno-19-1277" href="#__codelineno-19-1277"></a>                        notNets:
</span><span id="__span-19-1278"><a id="__codelineno-19-1278" name="__codelineno-19-1278" href="#__codelineno-19-1278"></a>                          description: NotNets is the negated version of the Nets
</span><span id="__span-19-1279"><a id="__codelineno-19-1279" name="__codelineno-19-1279" href="#__codelineno-19-1279"></a>                            field.
</span><span id="__span-19-1280"><a id="__codelineno-19-1280" name="__codelineno-19-1280" href="#__codelineno-19-1280"></a>                          items:
</span><span id="__span-19-1281"><a id="__codelineno-19-1281" name="__codelineno-19-1281" href="#__codelineno-19-1281"></a>                            type: string
</span><span id="__span-19-1282"><a id="__codelineno-19-1282" name="__codelineno-19-1282" href="#__codelineno-19-1282"></a>                          type: array
</span><span id="__span-19-1283"><a id="__codelineno-19-1283" name="__codelineno-19-1283" href="#__codelineno-19-1283"></a>                        notPorts:
</span><span id="__span-19-1284"><a id="__codelineno-19-1284" name="__codelineno-19-1284" href="#__codelineno-19-1284"></a>                          description: NotPorts is the negated version of the Ports
</span><span id="__span-19-1285"><a id="__codelineno-19-1285" name="__codelineno-19-1285" href="#__codelineno-19-1285"></a>                            field. Since only some protocols have ports, if any ports
</span><span id="__span-19-1286"><a id="__codelineno-19-1286" name="__codelineno-19-1286" href="#__codelineno-19-1286"></a>                            are specified it requires the Protocol match in the Rule
</span><span id="__span-19-1287"><a id="__codelineno-19-1287" name="__codelineno-19-1287" href="#__codelineno-19-1287"></a>                            to be set to &quot;TCP&quot; or &quot;UDP&quot;.
</span><span id="__span-19-1288"><a id="__codelineno-19-1288" name="__codelineno-19-1288" href="#__codelineno-19-1288"></a>                          items:
</span><span id="__span-19-1289"><a id="__codelineno-19-1289" name="__codelineno-19-1289" href="#__codelineno-19-1289"></a>                            anyOf:
</span><span id="__span-19-1290"><a id="__codelineno-19-1290" name="__codelineno-19-1290" href="#__codelineno-19-1290"></a>                            - type: integer
</span><span id="__span-19-1291"><a id="__codelineno-19-1291" name="__codelineno-19-1291" href="#__codelineno-19-1291"></a>                            - type: string
</span><span id="__span-19-1292"><a id="__codelineno-19-1292" name="__codelineno-19-1292" href="#__codelineno-19-1292"></a>                            pattern: ^.*
</span><span id="__span-19-1293"><a id="__codelineno-19-1293" name="__codelineno-19-1293" href="#__codelineno-19-1293"></a>                            x-kubernetes-int-or-string: true
</span><span id="__span-19-1294"><a id="__codelineno-19-1294" name="__codelineno-19-1294" href="#__codelineno-19-1294"></a>                          type: array
</span><span id="__span-19-1295"><a id="__codelineno-19-1295" name="__codelineno-19-1295" href="#__codelineno-19-1295"></a>                        notSelector:
</span><span id="__span-19-1296"><a id="__codelineno-19-1296" name="__codelineno-19-1296" href="#__codelineno-19-1296"></a>                          description: NotSelector is the negated version of the Selector
</span><span id="__span-19-1297"><a id="__codelineno-19-1297" name="__codelineno-19-1297" href="#__codelineno-19-1297"></a>                            field.  See Selector field for subtleties with negated
</span><span id="__span-19-1298"><a id="__codelineno-19-1298" name="__codelineno-19-1298" href="#__codelineno-19-1298"></a>                            selectors.
</span><span id="__span-19-1299"><a id="__codelineno-19-1299" name="__codelineno-19-1299" href="#__codelineno-19-1299"></a>                          type: string
</span><span id="__span-19-1300"><a id="__codelineno-19-1300" name="__codelineno-19-1300" href="#__codelineno-19-1300"></a>                        ports:
</span><span id="__span-19-1301"><a id="__codelineno-19-1301" name="__codelineno-19-1301" href="#__codelineno-19-1301"></a>                          description: &quot;Ports is an optional field that restricts
</span><span id="__span-19-1302"><a id="__codelineno-19-1302" name="__codelineno-19-1302" href="#__codelineno-19-1302"></a>                            the rule to only apply to traffic that has a source (destination)
</span><span id="__span-19-1303"><a id="__codelineno-19-1303" name="__codelineno-19-1303" href="#__codelineno-19-1303"></a>                            port that matches one of these ranges/values. This value
</span><span id="__span-19-1304"><a id="__codelineno-19-1304" name="__codelineno-19-1304" href="#__codelineno-19-1304"></a>                            is a list of integers or strings that represent ranges
</span><span id="__span-19-1305"><a id="__codelineno-19-1305" name="__codelineno-19-1305" href="#__codelineno-19-1305"></a>                            of ports. \n Since only some protocols have ports, if
</span><span id="__span-19-1306"><a id="__codelineno-19-1306" name="__codelineno-19-1306" href="#__codelineno-19-1306"></a>                            any ports are specified it requires the Protocol match
</span><span id="__span-19-1307"><a id="__codelineno-19-1307" name="__codelineno-19-1307" href="#__codelineno-19-1307"></a>                            in the Rule to be set to \&quot;TCP\&quot; or \&quot;UDP\&quot;.&quot;
</span><span id="__span-19-1308"><a id="__codelineno-19-1308" name="__codelineno-19-1308" href="#__codelineno-19-1308"></a>                          items:
</span><span id="__span-19-1309"><a id="__codelineno-19-1309" name="__codelineno-19-1309" href="#__codelineno-19-1309"></a>                            anyOf:
</span><span id="__span-19-1310"><a id="__codelineno-19-1310" name="__codelineno-19-1310" href="#__codelineno-19-1310"></a>                            - type: integer
</span><span id="__span-19-1311"><a id="__codelineno-19-1311" name="__codelineno-19-1311" href="#__codelineno-19-1311"></a>                            - type: string
</span><span id="__span-19-1312"><a id="__codelineno-19-1312" name="__codelineno-19-1312" href="#__codelineno-19-1312"></a>                            pattern: ^.*
</span><span id="__span-19-1313"><a id="__codelineno-19-1313" name="__codelineno-19-1313" href="#__codelineno-19-1313"></a>                            x-kubernetes-int-or-string: true
</span><span id="__span-19-1314"><a id="__codelineno-19-1314" name="__codelineno-19-1314" href="#__codelineno-19-1314"></a>                          type: array
</span><span id="__span-19-1315"><a id="__codelineno-19-1315" name="__codelineno-19-1315" href="#__codelineno-19-1315"></a>                        selector:
</span><span id="__span-19-1316"><a id="__codelineno-19-1316" name="__codelineno-19-1316" href="#__codelineno-19-1316"></a>                          description: &quot;Selector is an optional field that contains
</span><span id="__span-19-1317"><a id="__codelineno-19-1317" name="__codelineno-19-1317" href="#__codelineno-19-1317"></a>                            a selector expression (see Policy for sample syntax).
</span><span id="__span-19-1318"><a id="__codelineno-19-1318" name="__codelineno-19-1318" href="#__codelineno-19-1318"></a>                            \ Only traffic that originates from (terminates at) endpoints
</span><span id="__span-19-1319"><a id="__codelineno-19-1319" name="__codelineno-19-1319" href="#__codelineno-19-1319"></a>                            matching the selector will be matched. \n Note that: in
</span><span id="__span-19-1320"><a id="__codelineno-19-1320" name="__codelineno-19-1320" href="#__codelineno-19-1320"></a>                            addition to the negated version of the Selector (see NotSelector
</span><span id="__span-19-1321"><a id="__codelineno-19-1321" name="__codelineno-19-1321" href="#__codelineno-19-1321"></a>                            below), the selector expression syntax itself supports
</span><span id="__span-19-1322"><a id="__codelineno-19-1322" name="__codelineno-19-1322" href="#__codelineno-19-1322"></a>                            negation.  The two types of negation are subtly different.
</span><span id="__span-19-1323"><a id="__codelineno-19-1323" name="__codelineno-19-1323" href="#__codelineno-19-1323"></a>                            One negates the set of matched endpoints, the other negates
</span><span id="__span-19-1324"><a id="__codelineno-19-1324" name="__codelineno-19-1324" href="#__codelineno-19-1324"></a>                            the whole match: \n \tSelector = \&quot;!has(my_label)\&quot; matches
</span><span id="__span-19-1325"><a id="__codelineno-19-1325" name="__codelineno-19-1325" href="#__codelineno-19-1325"></a>                            packets that are from other Calico-controlled \tendpoints
</span><span id="__span-19-1326"><a id="__codelineno-19-1326" name="__codelineno-19-1326" href="#__codelineno-19-1326"></a>                            that do not have the label \&quot;my_label\&quot;. \n \tNotSelector
</span><span id="__span-19-1327"><a id="__codelineno-19-1327" name="__codelineno-19-1327" href="#__codelineno-19-1327"></a>                            = \&quot;has(my_label)\&quot; matches packets that are not from
</span><span id="__span-19-1328"><a id="__codelineno-19-1328" name="__codelineno-19-1328" href="#__codelineno-19-1328"></a>                            Calico-controlled \tendpoints that do have the label \&quot;my_label\&quot;.
</span><span id="__span-19-1329"><a id="__codelineno-19-1329" name="__codelineno-19-1329" href="#__codelineno-19-1329"></a>                            \n The effect is that the latter will accept packets from
</span><span id="__span-19-1330"><a id="__codelineno-19-1330" name="__codelineno-19-1330" href="#__codelineno-19-1330"></a>                            non-Calico sources whereas the former is limited to packets
</span><span id="__span-19-1331"><a id="__codelineno-19-1331" name="__codelineno-19-1331" href="#__codelineno-19-1331"></a>                            from Calico-controlled endpoints.&quot;
</span><span id="__span-19-1332"><a id="__codelineno-19-1332" name="__codelineno-19-1332" href="#__codelineno-19-1332"></a>                          type: string
</span><span id="__span-19-1333"><a id="__codelineno-19-1333" name="__codelineno-19-1333" href="#__codelineno-19-1333"></a>                        serviceAccounts:
</span><span id="__span-19-1334"><a id="__codelineno-19-1334" name="__codelineno-19-1334" href="#__codelineno-19-1334"></a>                          description: ServiceAccounts is an optional field that restricts
</span><span id="__span-19-1335"><a id="__codelineno-19-1335" name="__codelineno-19-1335" href="#__codelineno-19-1335"></a>                            the rule to only apply to traffic that originates from
</span><span id="__span-19-1336"><a id="__codelineno-19-1336" name="__codelineno-19-1336" href="#__codelineno-19-1336"></a>                            (or terminates at) a pod running as a matching service
</span><span id="__span-19-1337"><a id="__codelineno-19-1337" name="__codelineno-19-1337" href="#__codelineno-19-1337"></a>                            account.
</span><span id="__span-19-1338"><a id="__codelineno-19-1338" name="__codelineno-19-1338" href="#__codelineno-19-1338"></a>                          properties:
</span><span id="__span-19-1339"><a id="__codelineno-19-1339" name="__codelineno-19-1339" href="#__codelineno-19-1339"></a>                            names:
</span><span id="__span-19-1340"><a id="__codelineno-19-1340" name="__codelineno-19-1340" href="#__codelineno-19-1340"></a>                              description: Names is an optional field that restricts
</span><span id="__span-19-1341"><a id="__codelineno-19-1341" name="__codelineno-19-1341" href="#__codelineno-19-1341"></a>                                the rule to only apply to traffic that originates
</span><span id="__span-19-1342"><a id="__codelineno-19-1342" name="__codelineno-19-1342" href="#__codelineno-19-1342"></a>                                from (or terminates at) a pod running as a service
</span><span id="__span-19-1343"><a id="__codelineno-19-1343" name="__codelineno-19-1343" href="#__codelineno-19-1343"></a>                                account whose name is in the list.
</span><span id="__span-19-1344"><a id="__codelineno-19-1344" name="__codelineno-19-1344" href="#__codelineno-19-1344"></a>                              items:
</span><span id="__span-19-1345"><a id="__codelineno-19-1345" name="__codelineno-19-1345" href="#__codelineno-19-1345"></a>                                type: string
</span><span id="__span-19-1346"><a id="__codelineno-19-1346" name="__codelineno-19-1346" href="#__codelineno-19-1346"></a>                              type: array
</span><span id="__span-19-1347"><a id="__codelineno-19-1347" name="__codelineno-19-1347" href="#__codelineno-19-1347"></a>                            selector:
</span><span id="__span-19-1348"><a id="__codelineno-19-1348" name="__codelineno-19-1348" href="#__codelineno-19-1348"></a>                              description: Selector is an optional field that restricts
</span><span id="__span-19-1349"><a id="__codelineno-19-1349" name="__codelineno-19-1349" href="#__codelineno-19-1349"></a>                                the rule to only apply to traffic that originates
</span><span id="__span-19-1350"><a id="__codelineno-19-1350" name="__codelineno-19-1350" href="#__codelineno-19-1350"></a>                                from (or terminates at) a pod running as a service
</span><span id="__span-19-1351"><a id="__codelineno-19-1351" name="__codelineno-19-1351" href="#__codelineno-19-1351"></a>                                account that matches the given label selector. If
</span><span id="__span-19-1352"><a id="__codelineno-19-1352" name="__codelineno-19-1352" href="#__codelineno-19-1352"></a>                                both Names and Selector are specified then they are
</span><span id="__span-19-1353"><a id="__codelineno-19-1353" name="__codelineno-19-1353" href="#__codelineno-19-1353"></a>                                AND&#39;ed.
</span><span id="__span-19-1354"><a id="__codelineno-19-1354" name="__codelineno-19-1354" href="#__codelineno-19-1354"></a>                              type: string
</span><span id="__span-19-1355"><a id="__codelineno-19-1355" name="__codelineno-19-1355" href="#__codelineno-19-1355"></a>                          type: object
</span><span id="__span-19-1356"><a id="__codelineno-19-1356" name="__codelineno-19-1356" href="#__codelineno-19-1356"></a>                      type: object
</span><span id="__span-19-1357"><a id="__codelineno-19-1357" name="__codelineno-19-1357" href="#__codelineno-19-1357"></a>                  required:
</span><span id="__span-19-1358"><a id="__codelineno-19-1358" name="__codelineno-19-1358" href="#__codelineno-19-1358"></a>                  - action
</span><span id="__span-19-1359"><a id="__codelineno-19-1359" name="__codelineno-19-1359" href="#__codelineno-19-1359"></a>                  type: object
</span><span id="__span-19-1360"><a id="__codelineno-19-1360" name="__codelineno-19-1360" href="#__codelineno-19-1360"></a>                type: array
</span><span id="__span-19-1361"><a id="__codelineno-19-1361" name="__codelineno-19-1361" href="#__codelineno-19-1361"></a>              ingress:
</span><span id="__span-19-1362"><a id="__codelineno-19-1362" name="__codelineno-19-1362" href="#__codelineno-19-1362"></a>                description: The ordered set of ingress rules.  Each rule contains
</span><span id="__span-19-1363"><a id="__codelineno-19-1363" name="__codelineno-19-1363" href="#__codelineno-19-1363"></a>                  a set of packet match criteria and a corresponding action to apply.
</span><span id="__span-19-1364"><a id="__codelineno-19-1364" name="__codelineno-19-1364" href="#__codelineno-19-1364"></a>                items:
</span><span id="__span-19-1365"><a id="__codelineno-19-1365" name="__codelineno-19-1365" href="#__codelineno-19-1365"></a>                  description: &quot;A Rule encapsulates a set of match criteria and an
</span><span id="__span-19-1366"><a id="__codelineno-19-1366" name="__codelineno-19-1366" href="#__codelineno-19-1366"></a>                    action.  Both selector-based security Policy and security Profiles
</span><span id="__span-19-1367"><a id="__codelineno-19-1367" name="__codelineno-19-1367" href="#__codelineno-19-1367"></a>                    reference rules - separated out as a list of rules for both ingress
</span><span id="__span-19-1368"><a id="__codelineno-19-1368" name="__codelineno-19-1368" href="#__codelineno-19-1368"></a>                    and egress packet matching. \n Each positive match criteria has
</span><span id="__span-19-1369"><a id="__codelineno-19-1369" name="__codelineno-19-1369" href="#__codelineno-19-1369"></a>                    a negated version, prefixed with \&quot;Not\&quot;. All the match criteria
</span><span id="__span-19-1370"><a id="__codelineno-19-1370" name="__codelineno-19-1370" href="#__codelineno-19-1370"></a>                    within a rule must be satisfied for a packet to match. A single
</span><span id="__span-19-1371"><a id="__codelineno-19-1371" name="__codelineno-19-1371" href="#__codelineno-19-1371"></a>                    rule can contain the positive and negative version of a match
</span><span id="__span-19-1372"><a id="__codelineno-19-1372" name="__codelineno-19-1372" href="#__codelineno-19-1372"></a>                    and both must be satisfied for the rule to match.&quot;
</span><span id="__span-19-1373"><a id="__codelineno-19-1373" name="__codelineno-19-1373" href="#__codelineno-19-1373"></a>                  properties:
</span><span id="__span-19-1374"><a id="__codelineno-19-1374" name="__codelineno-19-1374" href="#__codelineno-19-1374"></a>                    action:
</span><span id="__span-19-1375"><a id="__codelineno-19-1375" name="__codelineno-19-1375" href="#__codelineno-19-1375"></a>                      type: string
</span><span id="__span-19-1376"><a id="__codelineno-19-1376" name="__codelineno-19-1376" href="#__codelineno-19-1376"></a>                    destination:
</span><span id="__span-19-1377"><a id="__codelineno-19-1377" name="__codelineno-19-1377" href="#__codelineno-19-1377"></a>                      description: Destination contains the match criteria that apply
</span><span id="__span-19-1378"><a id="__codelineno-19-1378" name="__codelineno-19-1378" href="#__codelineno-19-1378"></a>                        to destination entity.
</span><span id="__span-19-1379"><a id="__codelineno-19-1379" name="__codelineno-19-1379" href="#__codelineno-19-1379"></a>                      properties:
</span><span id="__span-19-1380"><a id="__codelineno-19-1380" name="__codelineno-19-1380" href="#__codelineno-19-1380"></a>                        namespaceSelector:
</span><span id="__span-19-1381"><a id="__codelineno-19-1381" name="__codelineno-19-1381" href="#__codelineno-19-1381"></a>                          description: &quot;NamespaceSelector is an optional field that
</span><span id="__span-19-1382"><a id="__codelineno-19-1382" name="__codelineno-19-1382" href="#__codelineno-19-1382"></a>                            contains a selector expression. Only traffic that originates
</span><span id="__span-19-1383"><a id="__codelineno-19-1383" name="__codelineno-19-1383" href="#__codelineno-19-1383"></a>                            from (or terminates at) endpoints within the selected
</span><span id="__span-19-1384"><a id="__codelineno-19-1384" name="__codelineno-19-1384" href="#__codelineno-19-1384"></a>                            namespaces will be matched. When both NamespaceSelector
</span><span id="__span-19-1385"><a id="__codelineno-19-1385" name="__codelineno-19-1385" href="#__codelineno-19-1385"></a>                            and Selector are defined on the same rule, then only workload
</span><span id="__span-19-1386"><a id="__codelineno-19-1386" name="__codelineno-19-1386" href="#__codelineno-19-1386"></a>                            endpoints that are matched by both selectors will be selected
</span><span id="__span-19-1387"><a id="__codelineno-19-1387" name="__codelineno-19-1387" href="#__codelineno-19-1387"></a>                            by the rule. \n For NetworkPolicy, an empty NamespaceSelector
</span><span id="__span-19-1388"><a id="__codelineno-19-1388" name="__codelineno-19-1388" href="#__codelineno-19-1388"></a>                            implies that the Selector is limited to selecting only
</span><span id="__span-19-1389"><a id="__codelineno-19-1389" name="__codelineno-19-1389" href="#__codelineno-19-1389"></a>                            workload endpoints in the same namespace as the NetworkPolicy.
</span><span id="__span-19-1390"><a id="__codelineno-19-1390" name="__codelineno-19-1390" href="#__codelineno-19-1390"></a>                            \n For NetworkPolicy, `global()` NamespaceSelector implies
</span><span id="__span-19-1391"><a id="__codelineno-19-1391" name="__codelineno-19-1391" href="#__codelineno-19-1391"></a>                            that the Selector is limited to selecting only GlobalNetworkSet
</span><span id="__span-19-1392"><a id="__codelineno-19-1392" name="__codelineno-19-1392" href="#__codelineno-19-1392"></a>                            or HostEndpoint. \n For GlobalNetworkPolicy, an empty
</span><span id="__span-19-1393"><a id="__codelineno-19-1393" name="__codelineno-19-1393" href="#__codelineno-19-1393"></a>                            NamespaceSelector implies the Selector applies to workload
</span><span id="__span-19-1394"><a id="__codelineno-19-1394" name="__codelineno-19-1394" href="#__codelineno-19-1394"></a>                            endpoints across all namespaces.&quot;
</span><span id="__span-19-1395"><a id="__codelineno-19-1395" name="__codelineno-19-1395" href="#__codelineno-19-1395"></a>                          type: string
</span><span id="__span-19-1396"><a id="__codelineno-19-1396" name="__codelineno-19-1396" href="#__codelineno-19-1396"></a>                        nets:
</span><span id="__span-19-1397"><a id="__codelineno-19-1397" name="__codelineno-19-1397" href="#__codelineno-19-1397"></a>                          description: Nets is an optional field that restricts the
</span><span id="__span-19-1398"><a id="__codelineno-19-1398" name="__codelineno-19-1398" href="#__codelineno-19-1398"></a>                            rule to only apply to traffic that originates from (or
</span><span id="__span-19-1399"><a id="__codelineno-19-1399" name="__codelineno-19-1399" href="#__codelineno-19-1399"></a>                            terminates at) IP addresses in any of the given subnets.
</span><span id="__span-19-1400"><a id="__codelineno-19-1400" name="__codelineno-19-1400" href="#__codelineno-19-1400"></a>                          items:
</span><span id="__span-19-1401"><a id="__codelineno-19-1401" name="__codelineno-19-1401" href="#__codelineno-19-1401"></a>                            type: string
</span><span id="__span-19-1402"><a id="__codelineno-19-1402" name="__codelineno-19-1402" href="#__codelineno-19-1402"></a>                          type: array
</span><span id="__span-19-1403"><a id="__codelineno-19-1403" name="__codelineno-19-1403" href="#__codelineno-19-1403"></a>                        notNets:
</span><span id="__span-19-1404"><a id="__codelineno-19-1404" name="__codelineno-19-1404" href="#__codelineno-19-1404"></a>                          description: NotNets is the negated version of the Nets
</span><span id="__span-19-1405"><a id="__codelineno-19-1405" name="__codelineno-19-1405" href="#__codelineno-19-1405"></a>                            field.
</span><span id="__span-19-1406"><a id="__codelineno-19-1406" name="__codelineno-19-1406" href="#__codelineno-19-1406"></a>                          items:
</span><span id="__span-19-1407"><a id="__codelineno-19-1407" name="__codelineno-19-1407" href="#__codelineno-19-1407"></a>                            type: string
</span><span id="__span-19-1408"><a id="__codelineno-19-1408" name="__codelineno-19-1408" href="#__codelineno-19-1408"></a>                          type: array
</span><span id="__span-19-1409"><a id="__codelineno-19-1409" name="__codelineno-19-1409" href="#__codelineno-19-1409"></a>                        notPorts:
</span><span id="__span-19-1410"><a id="__codelineno-19-1410" name="__codelineno-19-1410" href="#__codelineno-19-1410"></a>                          description: NotPorts is the negated version of the Ports
</span><span id="__span-19-1411"><a id="__codelineno-19-1411" name="__codelineno-19-1411" href="#__codelineno-19-1411"></a>                            field. Since only some protocols have ports, if any ports
</span><span id="__span-19-1412"><a id="__codelineno-19-1412" name="__codelineno-19-1412" href="#__codelineno-19-1412"></a>                            are specified it requires the Protocol match in the Rule
</span><span id="__span-19-1413"><a id="__codelineno-19-1413" name="__codelineno-19-1413" href="#__codelineno-19-1413"></a>                            to be set to &quot;TCP&quot; or &quot;UDP&quot;.
</span><span id="__span-19-1414"><a id="__codelineno-19-1414" name="__codelineno-19-1414" href="#__codelineno-19-1414"></a>                          items:
</span><span id="__span-19-1415"><a id="__codelineno-19-1415" name="__codelineno-19-1415" href="#__codelineno-19-1415"></a>                            anyOf:
</span><span id="__span-19-1416"><a id="__codelineno-19-1416" name="__codelineno-19-1416" href="#__codelineno-19-1416"></a>                            - type: integer
</span><span id="__span-19-1417"><a id="__codelineno-19-1417" name="__codelineno-19-1417" href="#__codelineno-19-1417"></a>                            - type: string
</span><span id="__span-19-1418"><a id="__codelineno-19-1418" name="__codelineno-19-1418" href="#__codelineno-19-1418"></a>                            pattern: ^.*
</span><span id="__span-19-1419"><a id="__codelineno-19-1419" name="__codelineno-19-1419" href="#__codelineno-19-1419"></a>                            x-kubernetes-int-or-string: true
</span><span id="__span-19-1420"><a id="__codelineno-19-1420" name="__codelineno-19-1420" href="#__codelineno-19-1420"></a>                          type: array
</span><span id="__span-19-1421"><a id="__codelineno-19-1421" name="__codelineno-19-1421" href="#__codelineno-19-1421"></a>                        notSelector:
</span><span id="__span-19-1422"><a id="__codelineno-19-1422" name="__codelineno-19-1422" href="#__codelineno-19-1422"></a>                          description: NotSelector is the negated version of the Selector
</span><span id="__span-19-1423"><a id="__codelineno-19-1423" name="__codelineno-19-1423" href="#__codelineno-19-1423"></a>                            field.  See Selector field for subtleties with negated
</span><span id="__span-19-1424"><a id="__codelineno-19-1424" name="__codelineno-19-1424" href="#__codelineno-19-1424"></a>                            selectors.
</span><span id="__span-19-1425"><a id="__codelineno-19-1425" name="__codelineno-19-1425" href="#__codelineno-19-1425"></a>                          type: string
</span><span id="__span-19-1426"><a id="__codelineno-19-1426" name="__codelineno-19-1426" href="#__codelineno-19-1426"></a>                        ports:
</span><span id="__span-19-1427"><a id="__codelineno-19-1427" name="__codelineno-19-1427" href="#__codelineno-19-1427"></a>                          description: &quot;Ports is an optional field that restricts
</span><span id="__span-19-1428"><a id="__codelineno-19-1428" name="__codelineno-19-1428" href="#__codelineno-19-1428"></a>                            the rule to only apply to traffic that has a source (destination)
</span><span id="__span-19-1429"><a id="__codelineno-19-1429" name="__codelineno-19-1429" href="#__codelineno-19-1429"></a>                            port that matches one of these ranges/values. This value
</span><span id="__span-19-1430"><a id="__codelineno-19-1430" name="__codelineno-19-1430" href="#__codelineno-19-1430"></a>                            is a list of integers or strings that represent ranges
</span><span id="__span-19-1431"><a id="__codelineno-19-1431" name="__codelineno-19-1431" href="#__codelineno-19-1431"></a>                            of ports. \n Since only some protocols have ports, if
</span><span id="__span-19-1432"><a id="__codelineno-19-1432" name="__codelineno-19-1432" href="#__codelineno-19-1432"></a>                            any ports are specified it requires the Protocol match
</span><span id="__span-19-1433"><a id="__codelineno-19-1433" name="__codelineno-19-1433" href="#__codelineno-19-1433"></a>                            in the Rule to be set to \&quot;TCP\&quot; or \&quot;UDP\&quot;.&quot;
</span><span id="__span-19-1434"><a id="__codelineno-19-1434" name="__codelineno-19-1434" href="#__codelineno-19-1434"></a>                          items:
</span><span id="__span-19-1435"><a id="__codelineno-19-1435" name="__codelineno-19-1435" href="#__codelineno-19-1435"></a>                            anyOf:
</span><span id="__span-19-1436"><a id="__codelineno-19-1436" name="__codelineno-19-1436" href="#__codelineno-19-1436"></a>                            - type: integer
</span><span id="__span-19-1437"><a id="__codelineno-19-1437" name="__codelineno-19-1437" href="#__codelineno-19-1437"></a>                            - type: string
</span><span id="__span-19-1438"><a id="__codelineno-19-1438" name="__codelineno-19-1438" href="#__codelineno-19-1438"></a>                            pattern: ^.*
</span><span id="__span-19-1439"><a id="__codelineno-19-1439" name="__codelineno-19-1439" href="#__codelineno-19-1439"></a>                            x-kubernetes-int-or-string: true
</span><span id="__span-19-1440"><a id="__codelineno-19-1440" name="__codelineno-19-1440" href="#__codelineno-19-1440"></a>                          type: array
</span><span id="__span-19-1441"><a id="__codelineno-19-1441" name="__codelineno-19-1441" href="#__codelineno-19-1441"></a>                        selector:
</span><span id="__span-19-1442"><a id="__codelineno-19-1442" name="__codelineno-19-1442" href="#__codelineno-19-1442"></a>                          description: &quot;Selector is an optional field that contains
</span><span id="__span-19-1443"><a id="__codelineno-19-1443" name="__codelineno-19-1443" href="#__codelineno-19-1443"></a>                            a selector expression (see Policy for sample syntax).
</span><span id="__span-19-1444"><a id="__codelineno-19-1444" name="__codelineno-19-1444" href="#__codelineno-19-1444"></a>                            \ Only traffic that originates from (terminates at) endpoints
</span><span id="__span-19-1445"><a id="__codelineno-19-1445" name="__codelineno-19-1445" href="#__codelineno-19-1445"></a>                            matching the selector will be matched. \n Note that: in
</span><span id="__span-19-1446"><a id="__codelineno-19-1446" name="__codelineno-19-1446" href="#__codelineno-19-1446"></a>                            addition to the negated version of the Selector (see NotSelector
</span><span id="__span-19-1447"><a id="__codelineno-19-1447" name="__codelineno-19-1447" href="#__codelineno-19-1447"></a>                            below), the selector expression syntax itself supports
</span><span id="__span-19-1448"><a id="__codelineno-19-1448" name="__codelineno-19-1448" href="#__codelineno-19-1448"></a>                            negation.  The two types of negation are subtly different.
</span><span id="__span-19-1449"><a id="__codelineno-19-1449" name="__codelineno-19-1449" href="#__codelineno-19-1449"></a>                            One negates the set of matched endpoints, the other negates
</span><span id="__span-19-1450"><a id="__codelineno-19-1450" name="__codelineno-19-1450" href="#__codelineno-19-1450"></a>                            the whole match: \n \tSelector = \&quot;!has(my_label)\&quot; matches
</span><span id="__span-19-1451"><a id="__codelineno-19-1451" name="__codelineno-19-1451" href="#__codelineno-19-1451"></a>                            packets that are from other Calico-controlled \tendpoints
</span><span id="__span-19-1452"><a id="__codelineno-19-1452" name="__codelineno-19-1452" href="#__codelineno-19-1452"></a>                            that do not have the label \&quot;my_label\&quot;. \n \tNotSelector
</span><span id="__span-19-1453"><a id="__codelineno-19-1453" name="__codelineno-19-1453" href="#__codelineno-19-1453"></a>                            = \&quot;has(my_label)\&quot; matches packets that are not from
</span><span id="__span-19-1454"><a id="__codelineno-19-1454" name="__codelineno-19-1454" href="#__codelineno-19-1454"></a>                            Calico-controlled \tendpoints that do have the label \&quot;my_label\&quot;.
</span><span id="__span-19-1455"><a id="__codelineno-19-1455" name="__codelineno-19-1455" href="#__codelineno-19-1455"></a>                            \n The effect is that the latter will accept packets from
</span><span id="__span-19-1456"><a id="__codelineno-19-1456" name="__codelineno-19-1456" href="#__codelineno-19-1456"></a>                            non-Calico sources whereas the former is limited to packets
</span><span id="__span-19-1457"><a id="__codelineno-19-1457" name="__codelineno-19-1457" href="#__codelineno-19-1457"></a>                            from Calico-controlled endpoints.&quot;
</span><span id="__span-19-1458"><a id="__codelineno-19-1458" name="__codelineno-19-1458" href="#__codelineno-19-1458"></a>                          type: string
</span><span id="__span-19-1459"><a id="__codelineno-19-1459" name="__codelineno-19-1459" href="#__codelineno-19-1459"></a>                        serviceAccounts:
</span><span id="__span-19-1460"><a id="__codelineno-19-1460" name="__codelineno-19-1460" href="#__codelineno-19-1460"></a>                          description: ServiceAccounts is an optional field that restricts
</span><span id="__span-19-1461"><a id="__codelineno-19-1461" name="__codelineno-19-1461" href="#__codelineno-19-1461"></a>                            the rule to only apply to traffic that originates from
</span><span id="__span-19-1462"><a id="__codelineno-19-1462" name="__codelineno-19-1462" href="#__codelineno-19-1462"></a>                            (or terminates at) a pod running as a matching service
</span><span id="__span-19-1463"><a id="__codelineno-19-1463" name="__codelineno-19-1463" href="#__codelineno-19-1463"></a>                            account.
</span><span id="__span-19-1464"><a id="__codelineno-19-1464" name="__codelineno-19-1464" href="#__codelineno-19-1464"></a>                          properties:
</span><span id="__span-19-1465"><a id="__codelineno-19-1465" name="__codelineno-19-1465" href="#__codelineno-19-1465"></a>                            names:
</span><span id="__span-19-1466"><a id="__codelineno-19-1466" name="__codelineno-19-1466" href="#__codelineno-19-1466"></a>                              description: Names is an optional field that restricts
</span><span id="__span-19-1467"><a id="__codelineno-19-1467" name="__codelineno-19-1467" href="#__codelineno-19-1467"></a>                                the rule to only apply to traffic that originates
</span><span id="__span-19-1468"><a id="__codelineno-19-1468" name="__codelineno-19-1468" href="#__codelineno-19-1468"></a>                                from (or terminates at) a pod running as a service
</span><span id="__span-19-1469"><a id="__codelineno-19-1469" name="__codelineno-19-1469" href="#__codelineno-19-1469"></a>                                account whose name is in the list.
</span><span id="__span-19-1470"><a id="__codelineno-19-1470" name="__codelineno-19-1470" href="#__codelineno-19-1470"></a>                              items:
</span><span id="__span-19-1471"><a id="__codelineno-19-1471" name="__codelineno-19-1471" href="#__codelineno-19-1471"></a>                                type: string
</span><span id="__span-19-1472"><a id="__codelineno-19-1472" name="__codelineno-19-1472" href="#__codelineno-19-1472"></a>                              type: array
</span><span id="__span-19-1473"><a id="__codelineno-19-1473" name="__codelineno-19-1473" href="#__codelineno-19-1473"></a>                            selector:
</span><span id="__span-19-1474"><a id="__codelineno-19-1474" name="__codelineno-19-1474" href="#__codelineno-19-1474"></a>                              description: Selector is an optional field that restricts
</span><span id="__span-19-1475"><a id="__codelineno-19-1475" name="__codelineno-19-1475" href="#__codelineno-19-1475"></a>                                the rule to only apply to traffic that originates
</span><span id="__span-19-1476"><a id="__codelineno-19-1476" name="__codelineno-19-1476" href="#__codelineno-19-1476"></a>                                from (or terminates at) a pod running as a service
</span><span id="__span-19-1477"><a id="__codelineno-19-1477" name="__codelineno-19-1477" href="#__codelineno-19-1477"></a>                                account that matches the given label selector. If
</span><span id="__span-19-1478"><a id="__codelineno-19-1478" name="__codelineno-19-1478" href="#__codelineno-19-1478"></a>                                both Names and Selector are specified then they are
</span><span id="__span-19-1479"><a id="__codelineno-19-1479" name="__codelineno-19-1479" href="#__codelineno-19-1479"></a>                                AND&#39;ed.
</span><span id="__span-19-1480"><a id="__codelineno-19-1480" name="__codelineno-19-1480" href="#__codelineno-19-1480"></a>                              type: string
</span><span id="__span-19-1481"><a id="__codelineno-19-1481" name="__codelineno-19-1481" href="#__codelineno-19-1481"></a>                          type: object
</span><span id="__span-19-1482"><a id="__codelineno-19-1482" name="__codelineno-19-1482" href="#__codelineno-19-1482"></a>                      type: object
</span><span id="__span-19-1483"><a id="__codelineno-19-1483" name="__codelineno-19-1483" href="#__codelineno-19-1483"></a>                    http:
</span><span id="__span-19-1484"><a id="__codelineno-19-1484" name="__codelineno-19-1484" href="#__codelineno-19-1484"></a>                      description: HTTP contains match criteria that apply to HTTP
</span><span id="__span-19-1485"><a id="__codelineno-19-1485" name="__codelineno-19-1485" href="#__codelineno-19-1485"></a>                        requests.
</span><span id="__span-19-1486"><a id="__codelineno-19-1486" name="__codelineno-19-1486" href="#__codelineno-19-1486"></a>                      properties:
</span><span id="__span-19-1487"><a id="__codelineno-19-1487" name="__codelineno-19-1487" href="#__codelineno-19-1487"></a>                        methods:
</span><span id="__span-19-1488"><a id="__codelineno-19-1488" name="__codelineno-19-1488" href="#__codelineno-19-1488"></a>                          description: Methods is an optional field that restricts
</span><span id="__span-19-1489"><a id="__codelineno-19-1489" name="__codelineno-19-1489" href="#__codelineno-19-1489"></a>                            the rule to apply only to HTTP requests that use one of
</span><span id="__span-19-1490"><a id="__codelineno-19-1490" name="__codelineno-19-1490" href="#__codelineno-19-1490"></a>                            the listed HTTP Methods (e.g. GET, PUT, etc.) Multiple
</span><span id="__span-19-1491"><a id="__codelineno-19-1491" name="__codelineno-19-1491" href="#__codelineno-19-1491"></a>                            methods are OR&#39;d together.
</span><span id="__span-19-1492"><a id="__codelineno-19-1492" name="__codelineno-19-1492" href="#__codelineno-19-1492"></a>                          items:
</span><span id="__span-19-1493"><a id="__codelineno-19-1493" name="__codelineno-19-1493" href="#__codelineno-19-1493"></a>                            type: string
</span><span id="__span-19-1494"><a id="__codelineno-19-1494" name="__codelineno-19-1494" href="#__codelineno-19-1494"></a>                          type: array
</span><span id="__span-19-1495"><a id="__codelineno-19-1495" name="__codelineno-19-1495" href="#__codelineno-19-1495"></a>                        paths:
</span><span id="__span-19-1496"><a id="__codelineno-19-1496" name="__codelineno-19-1496" href="#__codelineno-19-1496"></a>                          description: &#39;Paths is an optional field that restricts
</span><span id="__span-19-1497"><a id="__codelineno-19-1497" name="__codelineno-19-1497" href="#__codelineno-19-1497"></a>                            the rule to apply to HTTP requests that use one of the
</span><span id="__span-19-1498"><a id="__codelineno-19-1498" name="__codelineno-19-1498" href="#__codelineno-19-1498"></a>                            listed HTTP Paths. Multiple paths are OR&#39;&#39;d together.
</span><span id="__span-19-1499"><a id="__codelineno-19-1499" name="__codelineno-19-1499" href="#__codelineno-19-1499"></a>                            e.g: - exact: /foo - prefix: /bar NOTE: Each entry may
</span><span id="__span-19-1500"><a id="__codelineno-19-1500" name="__codelineno-19-1500" href="#__codelineno-19-1500"></a>                            ONLY specify either a `exact` or a `prefix` match. The
</span><span id="__span-19-1501"><a id="__codelineno-19-1501" name="__codelineno-19-1501" href="#__codelineno-19-1501"></a>                            validator will check for it.&#39;
</span><span id="__span-19-1502"><a id="__codelineno-19-1502" name="__codelineno-19-1502" href="#__codelineno-19-1502"></a>                          items:
</span><span id="__span-19-1503"><a id="__codelineno-19-1503" name="__codelineno-19-1503" href="#__codelineno-19-1503"></a>                            description: &#39;HTTPPath specifies an HTTP path to match.
</span><span id="__span-19-1504"><a id="__codelineno-19-1504" name="__codelineno-19-1504" href="#__codelineno-19-1504"></a>                              It may be either of the form: exact: &lt;path&gt;: which matches
</span><span id="__span-19-1505"><a id="__codelineno-19-1505" name="__codelineno-19-1505" href="#__codelineno-19-1505"></a>                              the path exactly or prefix: &lt;path-prefix&gt;: which matches
</span><span id="__span-19-1506"><a id="__codelineno-19-1506" name="__codelineno-19-1506" href="#__codelineno-19-1506"></a>                              the path prefix&#39;
</span><span id="__span-19-1507"><a id="__codelineno-19-1507" name="__codelineno-19-1507" href="#__codelineno-19-1507"></a>                            properties:
</span><span id="__span-19-1508"><a id="__codelineno-19-1508" name="__codelineno-19-1508" href="#__codelineno-19-1508"></a>                              exact:
</span><span id="__span-19-1509"><a id="__codelineno-19-1509" name="__codelineno-19-1509" href="#__codelineno-19-1509"></a>                                type: string
</span><span id="__span-19-1510"><a id="__codelineno-19-1510" name="__codelineno-19-1510" href="#__codelineno-19-1510"></a>                              prefix:
</span><span id="__span-19-1511"><a id="__codelineno-19-1511" name="__codelineno-19-1511" href="#__codelineno-19-1511"></a>                                type: string
</span><span id="__span-19-1512"><a id="__codelineno-19-1512" name="__codelineno-19-1512" href="#__codelineno-19-1512"></a>                            type: object
</span><span id="__span-19-1513"><a id="__codelineno-19-1513" name="__codelineno-19-1513" href="#__codelineno-19-1513"></a>                          type: array
</span><span id="__span-19-1514"><a id="__codelineno-19-1514" name="__codelineno-19-1514" href="#__codelineno-19-1514"></a>                      type: object
</span><span id="__span-19-1515"><a id="__codelineno-19-1515" name="__codelineno-19-1515" href="#__codelineno-19-1515"></a>                    icmp:
</span><span id="__span-19-1516"><a id="__codelineno-19-1516" name="__codelineno-19-1516" href="#__codelineno-19-1516"></a>                      description: ICMP is an optional field that restricts the rule
</span><span id="__span-19-1517"><a id="__codelineno-19-1517" name="__codelineno-19-1517" href="#__codelineno-19-1517"></a>                        to apply to a specific type and code of ICMP traffic.  This
</span><span id="__span-19-1518"><a id="__codelineno-19-1518" name="__codelineno-19-1518" href="#__codelineno-19-1518"></a>                        should only be specified if the Protocol field is set to &quot;ICMP&quot;
</span><span id="__span-19-1519"><a id="__codelineno-19-1519" name="__codelineno-19-1519" href="#__codelineno-19-1519"></a>                        or &quot;ICMPv6&quot;.
</span><span id="__span-19-1520"><a id="__codelineno-19-1520" name="__codelineno-19-1520" href="#__codelineno-19-1520"></a>                      properties:
</span><span id="__span-19-1521"><a id="__codelineno-19-1521" name="__codelineno-19-1521" href="#__codelineno-19-1521"></a>                        code:
</span><span id="__span-19-1522"><a id="__codelineno-19-1522" name="__codelineno-19-1522" href="#__codelineno-19-1522"></a>                          description: Match on a specific ICMP code.  If specified,
</span><span id="__span-19-1523"><a id="__codelineno-19-1523" name="__codelineno-19-1523" href="#__codelineno-19-1523"></a>                            the Type value must also be specified. This is a technical
</span><span id="__span-19-1524"><a id="__codelineno-19-1524" name="__codelineno-19-1524" href="#__codelineno-19-1524"></a>                            limitation imposed by the kernel&#39;s iptables firewall,
</span><span id="__span-19-1525"><a id="__codelineno-19-1525" name="__codelineno-19-1525" href="#__codelineno-19-1525"></a>                            which Calico uses to enforce the rule.
</span><span id="__span-19-1526"><a id="__codelineno-19-1526" name="__codelineno-19-1526" href="#__codelineno-19-1526"></a>                          type: integer
</span><span id="__span-19-1527"><a id="__codelineno-19-1527" name="__codelineno-19-1527" href="#__codelineno-19-1527"></a>                        type:
</span><span id="__span-19-1528"><a id="__codelineno-19-1528" name="__codelineno-19-1528" href="#__codelineno-19-1528"></a>                          description: Match on a specific ICMP type.  For example
</span><span id="__span-19-1529"><a id="__codelineno-19-1529" name="__codelineno-19-1529" href="#__codelineno-19-1529"></a>                            a value of 8 refers to ICMP Echo Request (i.e. pings).
</span><span id="__span-19-1530"><a id="__codelineno-19-1530" name="__codelineno-19-1530" href="#__codelineno-19-1530"></a>                          type: integer
</span><span id="__span-19-1531"><a id="__codelineno-19-1531" name="__codelineno-19-1531" href="#__codelineno-19-1531"></a>                      type: object
</span><span id="__span-19-1532"><a id="__codelineno-19-1532" name="__codelineno-19-1532" href="#__codelineno-19-1532"></a>                    ipVersion:
</span><span id="__span-19-1533"><a id="__codelineno-19-1533" name="__codelineno-19-1533" href="#__codelineno-19-1533"></a>                      description: IPVersion is an optional field that restricts the
</span><span id="__span-19-1534"><a id="__codelineno-19-1534" name="__codelineno-19-1534" href="#__codelineno-19-1534"></a>                        rule to only match a specific IP version.
</span><span id="__span-19-1535"><a id="__codelineno-19-1535" name="__codelineno-19-1535" href="#__codelineno-19-1535"></a>                      type: integer
</span><span id="__span-19-1536"><a id="__codelineno-19-1536" name="__codelineno-19-1536" href="#__codelineno-19-1536"></a>                    metadata:
</span><span id="__span-19-1537"><a id="__codelineno-19-1537" name="__codelineno-19-1537" href="#__codelineno-19-1537"></a>                      description: Metadata contains additional information for this
</span><span id="__span-19-1538"><a id="__codelineno-19-1538" name="__codelineno-19-1538" href="#__codelineno-19-1538"></a>                        rule
</span><span id="__span-19-1539"><a id="__codelineno-19-1539" name="__codelineno-19-1539" href="#__codelineno-19-1539"></a>                      properties:
</span><span id="__span-19-1540"><a id="__codelineno-19-1540" name="__codelineno-19-1540" href="#__codelineno-19-1540"></a>                        annotations:
</span><span id="__span-19-1541"><a id="__codelineno-19-1541" name="__codelineno-19-1541" href="#__codelineno-19-1541"></a>                          additionalProperties:
</span><span id="__span-19-1542"><a id="__codelineno-19-1542" name="__codelineno-19-1542" href="#__codelineno-19-1542"></a>                            type: string
</span><span id="__span-19-1543"><a id="__codelineno-19-1543" name="__codelineno-19-1543" href="#__codelineno-19-1543"></a>                          description: Annotations is a set of key value pairs that
</span><span id="__span-19-1544"><a id="__codelineno-19-1544" name="__codelineno-19-1544" href="#__codelineno-19-1544"></a>                            give extra information about the rule
</span><span id="__span-19-1545"><a id="__codelineno-19-1545" name="__codelineno-19-1545" href="#__codelineno-19-1545"></a>                          type: object
</span><span id="__span-19-1546"><a id="__codelineno-19-1546" name="__codelineno-19-1546" href="#__codelineno-19-1546"></a>                      type: object
</span><span id="__span-19-1547"><a id="__codelineno-19-1547" name="__codelineno-19-1547" href="#__codelineno-19-1547"></a>                    notICMP:
</span><span id="__span-19-1548"><a id="__codelineno-19-1548" name="__codelineno-19-1548" href="#__codelineno-19-1548"></a>                      description: NotICMP is the negated version of the ICMP field.
</span><span id="__span-19-1549"><a id="__codelineno-19-1549" name="__codelineno-19-1549" href="#__codelineno-19-1549"></a>                      properties:
</span><span id="__span-19-1550"><a id="__codelineno-19-1550" name="__codelineno-19-1550" href="#__codelineno-19-1550"></a>                        code:
</span><span id="__span-19-1551"><a id="__codelineno-19-1551" name="__codelineno-19-1551" href="#__codelineno-19-1551"></a>                          description: Match on a specific ICMP code.  If specified,
</span><span id="__span-19-1552"><a id="__codelineno-19-1552" name="__codelineno-19-1552" href="#__codelineno-19-1552"></a>                            the Type value must also be specified. This is a technical
</span><span id="__span-19-1553"><a id="__codelineno-19-1553" name="__codelineno-19-1553" href="#__codelineno-19-1553"></a>                            limitation imposed by the kernel&#39;s iptables firewall,
</span><span id="__span-19-1554"><a id="__codelineno-19-1554" name="__codelineno-19-1554" href="#__codelineno-19-1554"></a>                            which Calico uses to enforce the rule.
</span><span id="__span-19-1555"><a id="__codelineno-19-1555" name="__codelineno-19-1555" href="#__codelineno-19-1555"></a>                          type: integer
</span><span id="__span-19-1556"><a id="__codelineno-19-1556" name="__codelineno-19-1556" href="#__codelineno-19-1556"></a>                        type:
</span><span id="__span-19-1557"><a id="__codelineno-19-1557" name="__codelineno-19-1557" href="#__codelineno-19-1557"></a>                          description: Match on a specific ICMP type.  For example
</span><span id="__span-19-1558"><a id="__codelineno-19-1558" name="__codelineno-19-1558" href="#__codelineno-19-1558"></a>                            a value of 8 refers to ICMP Echo Request (i.e. pings).
</span><span id="__span-19-1559"><a id="__codelineno-19-1559" name="__codelineno-19-1559" href="#__codelineno-19-1559"></a>                          type: integer
</span><span id="__span-19-1560"><a id="__codelineno-19-1560" name="__codelineno-19-1560" href="#__codelineno-19-1560"></a>                      type: object
</span><span id="__span-19-1561"><a id="__codelineno-19-1561" name="__codelineno-19-1561" href="#__codelineno-19-1561"></a>                    notProtocol:
</span><span id="__span-19-1562"><a id="__codelineno-19-1562" name="__codelineno-19-1562" href="#__codelineno-19-1562"></a>                      anyOf:
</span><span id="__span-19-1563"><a id="__codelineno-19-1563" name="__codelineno-19-1563" href="#__codelineno-19-1563"></a>                      - type: integer
</span><span id="__span-19-1564"><a id="__codelineno-19-1564" name="__codelineno-19-1564" href="#__codelineno-19-1564"></a>                      - type: string
</span><span id="__span-19-1565"><a id="__codelineno-19-1565" name="__codelineno-19-1565" href="#__codelineno-19-1565"></a>                      description: NotProtocol is the negated version of the Protocol
</span><span id="__span-19-1566"><a id="__codelineno-19-1566" name="__codelineno-19-1566" href="#__codelineno-19-1566"></a>                        field.
</span><span id="__span-19-1567"><a id="__codelineno-19-1567" name="__codelineno-19-1567" href="#__codelineno-19-1567"></a>                      pattern: ^.*
</span><span id="__span-19-1568"><a id="__codelineno-19-1568" name="__codelineno-19-1568" href="#__codelineno-19-1568"></a>                      x-kubernetes-int-or-string: true
</span><span id="__span-19-1569"><a id="__codelineno-19-1569" name="__codelineno-19-1569" href="#__codelineno-19-1569"></a>                    protocol:
</span><span id="__span-19-1570"><a id="__codelineno-19-1570" name="__codelineno-19-1570" href="#__codelineno-19-1570"></a>                      anyOf:
</span><span id="__span-19-1571"><a id="__codelineno-19-1571" name="__codelineno-19-1571" href="#__codelineno-19-1571"></a>                      - type: integer
</span><span id="__span-19-1572"><a id="__codelineno-19-1572" name="__codelineno-19-1572" href="#__codelineno-19-1572"></a>                      - type: string
</span><span id="__span-19-1573"><a id="__codelineno-19-1573" name="__codelineno-19-1573" href="#__codelineno-19-1573"></a>                      description: &quot;Protocol is an optional field that restricts the
</span><span id="__span-19-1574"><a id="__codelineno-19-1574" name="__codelineno-19-1574" href="#__codelineno-19-1574"></a>                        rule to only apply to traffic of a specific IP protocol. Required
</span><span id="__span-19-1575"><a id="__codelineno-19-1575" name="__codelineno-19-1575" href="#__codelineno-19-1575"></a>                        if any of the EntityRules contain Ports (because ports only
</span><span id="__span-19-1576"><a id="__codelineno-19-1576" name="__codelineno-19-1576" href="#__codelineno-19-1576"></a>                        apply to certain protocols). \n Must be one of these string
</span><span id="__span-19-1577"><a id="__codelineno-19-1577" name="__codelineno-19-1577" href="#__codelineno-19-1577"></a>                        values: \&quot;TCP\&quot;, \&quot;UDP\&quot;, \&quot;ICMP\&quot;, \&quot;ICMPv6\&quot;, \&quot;SCTP\&quot;,
</span><span id="__span-19-1578"><a id="__codelineno-19-1578" name="__codelineno-19-1578" href="#__codelineno-19-1578"></a>                        \&quot;UDPLite\&quot; or an integer in the range 1-255.&quot;
</span><span id="__span-19-1579"><a id="__codelineno-19-1579" name="__codelineno-19-1579" href="#__codelineno-19-1579"></a>                      pattern: ^.*
</span><span id="__span-19-1580"><a id="__codelineno-19-1580" name="__codelineno-19-1580" href="#__codelineno-19-1580"></a>                      x-kubernetes-int-or-string: true
</span><span id="__span-19-1581"><a id="__codelineno-19-1581" name="__codelineno-19-1581" href="#__codelineno-19-1581"></a>                    source:
</span><span id="__span-19-1582"><a id="__codelineno-19-1582" name="__codelineno-19-1582" href="#__codelineno-19-1582"></a>                      description: Source contains the match criteria that apply to
</span><span id="__span-19-1583"><a id="__codelineno-19-1583" name="__codelineno-19-1583" href="#__codelineno-19-1583"></a>                        source entity.
</span><span id="__span-19-1584"><a id="__codelineno-19-1584" name="__codelineno-19-1584" href="#__codelineno-19-1584"></a>                      properties:
</span><span id="__span-19-1585"><a id="__codelineno-19-1585" name="__codelineno-19-1585" href="#__codelineno-19-1585"></a>                        namespaceSelector:
</span><span id="__span-19-1586"><a id="__codelineno-19-1586" name="__codelineno-19-1586" href="#__codelineno-19-1586"></a>                          description: &quot;NamespaceSelector is an optional field that
</span><span id="__span-19-1587"><a id="__codelineno-19-1587" name="__codelineno-19-1587" href="#__codelineno-19-1587"></a>                            contains a selector expression. Only traffic that originates
</span><span id="__span-19-1588"><a id="__codelineno-19-1588" name="__codelineno-19-1588" href="#__codelineno-19-1588"></a>                            from (or terminates at) endpoints within the selected
</span><span id="__span-19-1589"><a id="__codelineno-19-1589" name="__codelineno-19-1589" href="#__codelineno-19-1589"></a>                            namespaces will be matched. When both NamespaceSelector
</span><span id="__span-19-1590"><a id="__codelineno-19-1590" name="__codelineno-19-1590" href="#__codelineno-19-1590"></a>                            and Selector are defined on the same rule, then only workload
</span><span id="__span-19-1591"><a id="__codelineno-19-1591" name="__codelineno-19-1591" href="#__codelineno-19-1591"></a>                            endpoints that are matched by both selectors will be selected
</span><span id="__span-19-1592"><a id="__codelineno-19-1592" name="__codelineno-19-1592" href="#__codelineno-19-1592"></a>                            by the rule. \n For NetworkPolicy, an empty NamespaceSelector
</span><span id="__span-19-1593"><a id="__codelineno-19-1593" name="__codelineno-19-1593" href="#__codelineno-19-1593"></a>                            implies that the Selector is limited to selecting only
</span><span id="__span-19-1594"><a id="__codelineno-19-1594" name="__codelineno-19-1594" href="#__codelineno-19-1594"></a>                            workload endpoints in the same namespace as the NetworkPolicy.
</span><span id="__span-19-1595"><a id="__codelineno-19-1595" name="__codelineno-19-1595" href="#__codelineno-19-1595"></a>                            \n For NetworkPolicy, `global()` NamespaceSelector implies
</span><span id="__span-19-1596"><a id="__codelineno-19-1596" name="__codelineno-19-1596" href="#__codelineno-19-1596"></a>                            that the Selector is limited to selecting only GlobalNetworkSet
</span><span id="__span-19-1597"><a id="__codelineno-19-1597" name="__codelineno-19-1597" href="#__codelineno-19-1597"></a>                            or HostEndpoint. \n For GlobalNetworkPolicy, an empty
</span><span id="__span-19-1598"><a id="__codelineno-19-1598" name="__codelineno-19-1598" href="#__codelineno-19-1598"></a>                            NamespaceSelector implies the Selector applies to workload
</span><span id="__span-19-1599"><a id="__codelineno-19-1599" name="__codelineno-19-1599" href="#__codelineno-19-1599"></a>                            endpoints across all namespaces.&quot;
</span><span id="__span-19-1600"><a id="__codelineno-19-1600" name="__codelineno-19-1600" href="#__codelineno-19-1600"></a>                          type: string
</span><span id="__span-19-1601"><a id="__codelineno-19-1601" name="__codelineno-19-1601" href="#__codelineno-19-1601"></a>                        nets:
</span><span id="__span-19-1602"><a id="__codelineno-19-1602" name="__codelineno-19-1602" href="#__codelineno-19-1602"></a>                          description: Nets is an optional field that restricts the
</span><span id="__span-19-1603"><a id="__codelineno-19-1603" name="__codelineno-19-1603" href="#__codelineno-19-1603"></a>                            rule to only apply to traffic that originates from (or
</span><span id="__span-19-1604"><a id="__codelineno-19-1604" name="__codelineno-19-1604" href="#__codelineno-19-1604"></a>                            terminates at) IP addresses in any of the given subnets.
</span><span id="__span-19-1605"><a id="__codelineno-19-1605" name="__codelineno-19-1605" href="#__codelineno-19-1605"></a>                          items:
</span><span id="__span-19-1606"><a id="__codelineno-19-1606" name="__codelineno-19-1606" href="#__codelineno-19-1606"></a>                            type: string
</span><span id="__span-19-1607"><a id="__codelineno-19-1607" name="__codelineno-19-1607" href="#__codelineno-19-1607"></a>                          type: array
</span><span id="__span-19-1608"><a id="__codelineno-19-1608" name="__codelineno-19-1608" href="#__codelineno-19-1608"></a>                        notNets:
</span><span id="__span-19-1609"><a id="__codelineno-19-1609" name="__codelineno-19-1609" href="#__codelineno-19-1609"></a>                          description: NotNets is the negated version of the Nets
</span><span id="__span-19-1610"><a id="__codelineno-19-1610" name="__codelineno-19-1610" href="#__codelineno-19-1610"></a>                            field.
</span><span id="__span-19-1611"><a id="__codelineno-19-1611" name="__codelineno-19-1611" href="#__codelineno-19-1611"></a>                          items:
</span><span id="__span-19-1612"><a id="__codelineno-19-1612" name="__codelineno-19-1612" href="#__codelineno-19-1612"></a>                            type: string
</span><span id="__span-19-1613"><a id="__codelineno-19-1613" name="__codelineno-19-1613" href="#__codelineno-19-1613"></a>                          type: array
</span><span id="__span-19-1614"><a id="__codelineno-19-1614" name="__codelineno-19-1614" href="#__codelineno-19-1614"></a>                        notPorts:
</span><span id="__span-19-1615"><a id="__codelineno-19-1615" name="__codelineno-19-1615" href="#__codelineno-19-1615"></a>                          description: NotPorts is the negated version of the Ports
</span><span id="__span-19-1616"><a id="__codelineno-19-1616" name="__codelineno-19-1616" href="#__codelineno-19-1616"></a>                            field. Since only some protocols have ports, if any ports
</span><span id="__span-19-1617"><a id="__codelineno-19-1617" name="__codelineno-19-1617" href="#__codelineno-19-1617"></a>                            are specified it requires the Protocol match in the Rule
</span><span id="__span-19-1618"><a id="__codelineno-19-1618" name="__codelineno-19-1618" href="#__codelineno-19-1618"></a>                            to be set to &quot;TCP&quot; or &quot;UDP&quot;.
</span><span id="__span-19-1619"><a id="__codelineno-19-1619" name="__codelineno-19-1619" href="#__codelineno-19-1619"></a>                          items:
</span><span id="__span-19-1620"><a id="__codelineno-19-1620" name="__codelineno-19-1620" href="#__codelineno-19-1620"></a>                            anyOf:
</span><span id="__span-19-1621"><a id="__codelineno-19-1621" name="__codelineno-19-1621" href="#__codelineno-19-1621"></a>                            - type: integer
</span><span id="__span-19-1622"><a id="__codelineno-19-1622" name="__codelineno-19-1622" href="#__codelineno-19-1622"></a>                            - type: string
</span><span id="__span-19-1623"><a id="__codelineno-19-1623" name="__codelineno-19-1623" href="#__codelineno-19-1623"></a>                            pattern: ^.*
</span><span id="__span-19-1624"><a id="__codelineno-19-1624" name="__codelineno-19-1624" href="#__codelineno-19-1624"></a>                            x-kubernetes-int-or-string: true
</span><span id="__span-19-1625"><a id="__codelineno-19-1625" name="__codelineno-19-1625" href="#__codelineno-19-1625"></a>                          type: array
</span><span id="__span-19-1626"><a id="__codelineno-19-1626" name="__codelineno-19-1626" href="#__codelineno-19-1626"></a>                        notSelector:
</span><span id="__span-19-1627"><a id="__codelineno-19-1627" name="__codelineno-19-1627" href="#__codelineno-19-1627"></a>                          description: NotSelector is the negated version of the Selector
</span><span id="__span-19-1628"><a id="__codelineno-19-1628" name="__codelineno-19-1628" href="#__codelineno-19-1628"></a>                            field.  See Selector field for subtleties with negated
</span><span id="__span-19-1629"><a id="__codelineno-19-1629" name="__codelineno-19-1629" href="#__codelineno-19-1629"></a>                            selectors.
</span><span id="__span-19-1630"><a id="__codelineno-19-1630" name="__codelineno-19-1630" href="#__codelineno-19-1630"></a>                          type: string
</span><span id="__span-19-1631"><a id="__codelineno-19-1631" name="__codelineno-19-1631" href="#__codelineno-19-1631"></a>                        ports:
</span><span id="__span-19-1632"><a id="__codelineno-19-1632" name="__codelineno-19-1632" href="#__codelineno-19-1632"></a>                          description: &quot;Ports is an optional field that restricts
</span><span id="__span-19-1633"><a id="__codelineno-19-1633" name="__codelineno-19-1633" href="#__codelineno-19-1633"></a>                            the rule to only apply to traffic that has a source (destination)
</span><span id="__span-19-1634"><a id="__codelineno-19-1634" name="__codelineno-19-1634" href="#__codelineno-19-1634"></a>                            port that matches one of these ranges/values. This value
</span><span id="__span-19-1635"><a id="__codelineno-19-1635" name="__codelineno-19-1635" href="#__codelineno-19-1635"></a>                            is a list of integers or strings that represent ranges
</span><span id="__span-19-1636"><a id="__codelineno-19-1636" name="__codelineno-19-1636" href="#__codelineno-19-1636"></a>                            of ports. \n Since only some protocols have ports, if
</span><span id="__span-19-1637"><a id="__codelineno-19-1637" name="__codelineno-19-1637" href="#__codelineno-19-1637"></a>                            any ports are specified it requires the Protocol match
</span><span id="__span-19-1638"><a id="__codelineno-19-1638" name="__codelineno-19-1638" href="#__codelineno-19-1638"></a>                            in the Rule to be set to \&quot;TCP\&quot; or \&quot;UDP\&quot;.&quot;
</span><span id="__span-19-1639"><a id="__codelineno-19-1639" name="__codelineno-19-1639" href="#__codelineno-19-1639"></a>                          items:
</span><span id="__span-19-1640"><a id="__codelineno-19-1640" name="__codelineno-19-1640" href="#__codelineno-19-1640"></a>                            anyOf:
</span><span id="__span-19-1641"><a id="__codelineno-19-1641" name="__codelineno-19-1641" href="#__codelineno-19-1641"></a>                            - type: integer
</span><span id="__span-19-1642"><a id="__codelineno-19-1642" name="__codelineno-19-1642" href="#__codelineno-19-1642"></a>                            - type: string
</span><span id="__span-19-1643"><a id="__codelineno-19-1643" name="__codelineno-19-1643" href="#__codelineno-19-1643"></a>                            pattern: ^.*
</span><span id="__span-19-1644"><a id="__codelineno-19-1644" name="__codelineno-19-1644" href="#__codelineno-19-1644"></a>                            x-kubernetes-int-or-string: true
</span><span id="__span-19-1645"><a id="__codelineno-19-1645" name="__codelineno-19-1645" href="#__codelineno-19-1645"></a>                          type: array
</span><span id="__span-19-1646"><a id="__codelineno-19-1646" name="__codelineno-19-1646" href="#__codelineno-19-1646"></a>                        selector:
</span><span id="__span-19-1647"><a id="__codelineno-19-1647" name="__codelineno-19-1647" href="#__codelineno-19-1647"></a>                          description: &quot;Selector is an optional field that contains
</span><span id="__span-19-1648"><a id="__codelineno-19-1648" name="__codelineno-19-1648" href="#__codelineno-19-1648"></a>                            a selector expression (see Policy for sample syntax).
</span><span id="__span-19-1649"><a id="__codelineno-19-1649" name="__codelineno-19-1649" href="#__codelineno-19-1649"></a>                            \ Only traffic that originates from (terminates at) endpoints
</span><span id="__span-19-1650"><a id="__codelineno-19-1650" name="__codelineno-19-1650" href="#__codelineno-19-1650"></a>                            matching the selector will be matched. \n Note that: in
</span><span id="__span-19-1651"><a id="__codelineno-19-1651" name="__codelineno-19-1651" href="#__codelineno-19-1651"></a>                            addition to the negated version of the Selector (see NotSelector
</span><span id="__span-19-1652"><a id="__codelineno-19-1652" name="__codelineno-19-1652" href="#__codelineno-19-1652"></a>                            below), the selector expression syntax itself supports
</span><span id="__span-19-1653"><a id="__codelineno-19-1653" name="__codelineno-19-1653" href="#__codelineno-19-1653"></a>                            negation.  The two types of negation are subtly different.
</span><span id="__span-19-1654"><a id="__codelineno-19-1654" name="__codelineno-19-1654" href="#__codelineno-19-1654"></a>                            One negates the set of matched endpoints, the other negates
</span><span id="__span-19-1655"><a id="__codelineno-19-1655" name="__codelineno-19-1655" href="#__codelineno-19-1655"></a>                            the whole match: \n \tSelector = \&quot;!has(my_label)\&quot; matches
</span><span id="__span-19-1656"><a id="__codelineno-19-1656" name="__codelineno-19-1656" href="#__codelineno-19-1656"></a>                            packets that are from other Calico-controlled \tendpoints
</span><span id="__span-19-1657"><a id="__codelineno-19-1657" name="__codelineno-19-1657" href="#__codelineno-19-1657"></a>                            that do not have the label \&quot;my_label\&quot;. \n \tNotSelector
</span><span id="__span-19-1658"><a id="__codelineno-19-1658" name="__codelineno-19-1658" href="#__codelineno-19-1658"></a>                            = \&quot;has(my_label)\&quot; matches packets that are not from
</span><span id="__span-19-1659"><a id="__codelineno-19-1659" name="__codelineno-19-1659" href="#__codelineno-19-1659"></a>                            Calico-controlled \tendpoints that do have the label \&quot;my_label\&quot;.
</span><span id="__span-19-1660"><a id="__codelineno-19-1660" name="__codelineno-19-1660" href="#__codelineno-19-1660"></a>                            \n The effect is that the latter will accept packets from
</span><span id="__span-19-1661"><a id="__codelineno-19-1661" name="__codelineno-19-1661" href="#__codelineno-19-1661"></a>                            non-Calico sources whereas the former is limited to packets
</span><span id="__span-19-1662"><a id="__codelineno-19-1662" name="__codelineno-19-1662" href="#__codelineno-19-1662"></a>                            from Calico-controlled endpoints.&quot;
</span><span id="__span-19-1663"><a id="__codelineno-19-1663" name="__codelineno-19-1663" href="#__codelineno-19-1663"></a>                          type: string
</span><span id="__span-19-1664"><a id="__codelineno-19-1664" name="__codelineno-19-1664" href="#__codelineno-19-1664"></a>                        serviceAccounts:
</span><span id="__span-19-1665"><a id="__codelineno-19-1665" name="__codelineno-19-1665" href="#__codelineno-19-1665"></a>                          description: ServiceAccounts is an optional field that restricts
</span><span id="__span-19-1666"><a id="__codelineno-19-1666" name="__codelineno-19-1666" href="#__codelineno-19-1666"></a>                            the rule to only apply to traffic that originates from
</span><span id="__span-19-1667"><a id="__codelineno-19-1667" name="__codelineno-19-1667" href="#__codelineno-19-1667"></a>                            (or terminates at) a pod running as a matching service
</span><span id="__span-19-1668"><a id="__codelineno-19-1668" name="__codelineno-19-1668" href="#__codelineno-19-1668"></a>                            account.
</span><span id="__span-19-1669"><a id="__codelineno-19-1669" name="__codelineno-19-1669" href="#__codelineno-19-1669"></a>                          properties:
</span><span id="__span-19-1670"><a id="__codelineno-19-1670" name="__codelineno-19-1670" href="#__codelineno-19-1670"></a>                            names:
</span><span id="__span-19-1671"><a id="__codelineno-19-1671" name="__codelineno-19-1671" href="#__codelineno-19-1671"></a>                              description: Names is an optional field that restricts
</span><span id="__span-19-1672"><a id="__codelineno-19-1672" name="__codelineno-19-1672" href="#__codelineno-19-1672"></a>                                the rule to only apply to traffic that originates
</span><span id="__span-19-1673"><a id="__codelineno-19-1673" name="__codelineno-19-1673" href="#__codelineno-19-1673"></a>                                from (or terminates at) a pod running as a service
</span><span id="__span-19-1674"><a id="__codelineno-19-1674" name="__codelineno-19-1674" href="#__codelineno-19-1674"></a>                                account whose name is in the list.
</span><span id="__span-19-1675"><a id="__codelineno-19-1675" name="__codelineno-19-1675" href="#__codelineno-19-1675"></a>                              items:
</span><span id="__span-19-1676"><a id="__codelineno-19-1676" name="__codelineno-19-1676" href="#__codelineno-19-1676"></a>                                type: string
</span><span id="__span-19-1677"><a id="__codelineno-19-1677" name="__codelineno-19-1677" href="#__codelineno-19-1677"></a>                              type: array
</span><span id="__span-19-1678"><a id="__codelineno-19-1678" name="__codelineno-19-1678" href="#__codelineno-19-1678"></a>                            selector:
</span><span id="__span-19-1679"><a id="__codelineno-19-1679" name="__codelineno-19-1679" href="#__codelineno-19-1679"></a>                              description: Selector is an optional field that restricts
</span><span id="__span-19-1680"><a id="__codelineno-19-1680" name="__codelineno-19-1680" href="#__codelineno-19-1680"></a>                                the rule to only apply to traffic that originates
</span><span id="__span-19-1681"><a id="__codelineno-19-1681" name="__codelineno-19-1681" href="#__codelineno-19-1681"></a>                                from (or terminates at) a pod running as a service
</span><span id="__span-19-1682"><a id="__codelineno-19-1682" name="__codelineno-19-1682" href="#__codelineno-19-1682"></a>                                account that matches the given label selector. If
</span><span id="__span-19-1683"><a id="__codelineno-19-1683" name="__codelineno-19-1683" href="#__codelineno-19-1683"></a>                                both Names and Selector are specified then they are
</span><span id="__span-19-1684"><a id="__codelineno-19-1684" name="__codelineno-19-1684" href="#__codelineno-19-1684"></a>                                AND&#39;ed.
</span><span id="__span-19-1685"><a id="__codelineno-19-1685" name="__codelineno-19-1685" href="#__codelineno-19-1685"></a>                              type: string
</span><span id="__span-19-1686"><a id="__codelineno-19-1686" name="__codelineno-19-1686" href="#__codelineno-19-1686"></a>                          type: object
</span><span id="__span-19-1687"><a id="__codelineno-19-1687" name="__codelineno-19-1687" href="#__codelineno-19-1687"></a>                      type: object
</span><span id="__span-19-1688"><a id="__codelineno-19-1688" name="__codelineno-19-1688" href="#__codelineno-19-1688"></a>                  required:
</span><span id="__span-19-1689"><a id="__codelineno-19-1689" name="__codelineno-19-1689" href="#__codelineno-19-1689"></a>                  - action
</span><span id="__span-19-1690"><a id="__codelineno-19-1690" name="__codelineno-19-1690" href="#__codelineno-19-1690"></a>                  type: object
</span><span id="__span-19-1691"><a id="__codelineno-19-1691" name="__codelineno-19-1691" href="#__codelineno-19-1691"></a>                type: array
</span><span id="__span-19-1692"><a id="__codelineno-19-1692" name="__codelineno-19-1692" href="#__codelineno-19-1692"></a>              namespaceSelector:
</span><span id="__span-19-1693"><a id="__codelineno-19-1693" name="__codelineno-19-1693" href="#__codelineno-19-1693"></a>                description: NamespaceSelector is an optional field for an expression
</span><span id="__span-19-1694"><a id="__codelineno-19-1694" name="__codelineno-19-1694" href="#__codelineno-19-1694"></a>                  used to select a pod based on namespaces.
</span><span id="__span-19-1695"><a id="__codelineno-19-1695" name="__codelineno-19-1695" href="#__codelineno-19-1695"></a>                type: string
</span><span id="__span-19-1696"><a id="__codelineno-19-1696" name="__codelineno-19-1696" href="#__codelineno-19-1696"></a>              order:
</span><span id="__span-19-1697"><a id="__codelineno-19-1697" name="__codelineno-19-1697" href="#__codelineno-19-1697"></a>                description: Order is an optional field that specifies the order in
</span><span id="__span-19-1698"><a id="__codelineno-19-1698" name="__codelineno-19-1698" href="#__codelineno-19-1698"></a>                  which the policy is applied. Policies with higher &quot;order&quot; are applied
</span><span id="__span-19-1699"><a id="__codelineno-19-1699" name="__codelineno-19-1699" href="#__codelineno-19-1699"></a>                  after those with lower order.  If the order is omitted, it may be
</span><span id="__span-19-1700"><a id="__codelineno-19-1700" name="__codelineno-19-1700" href="#__codelineno-19-1700"></a>                  considered to be &quot;infinite&quot; - i.e. the policy will be applied last.  Policies
</span><span id="__span-19-1701"><a id="__codelineno-19-1701" name="__codelineno-19-1701" href="#__codelineno-19-1701"></a>                  with identical order will be applied in alphanumerical order based
</span><span id="__span-19-1702"><a id="__codelineno-19-1702" name="__codelineno-19-1702" href="#__codelineno-19-1702"></a>                  on the Policy &quot;Name&quot;.
</span><span id="__span-19-1703"><a id="__codelineno-19-1703" name="__codelineno-19-1703" href="#__codelineno-19-1703"></a>                type: number
</span><span id="__span-19-1704"><a id="__codelineno-19-1704" name="__codelineno-19-1704" href="#__codelineno-19-1704"></a>              preDNAT:
</span><span id="__span-19-1705"><a id="__codelineno-19-1705" name="__codelineno-19-1705" href="#__codelineno-19-1705"></a>                description: PreDNAT indicates to apply the rules in this policy before
</span><span id="__span-19-1706"><a id="__codelineno-19-1706" name="__codelineno-19-1706" href="#__codelineno-19-1706"></a>                  any DNAT.
</span><span id="__span-19-1707"><a id="__codelineno-19-1707" name="__codelineno-19-1707" href="#__codelineno-19-1707"></a>                type: boolean
</span><span id="__span-19-1708"><a id="__codelineno-19-1708" name="__codelineno-19-1708" href="#__codelineno-19-1708"></a>              selector:
</span><span id="__span-19-1709"><a id="__codelineno-19-1709" name="__codelineno-19-1709" href="#__codelineno-19-1709"></a>                description: &quot;The selector is an expression used to pick pick out
</span><span id="__span-19-1710"><a id="__codelineno-19-1710" name="__codelineno-19-1710" href="#__codelineno-19-1710"></a>                  the endpoints that the policy should be applied to. \n Selector
</span><span id="__span-19-1711"><a id="__codelineno-19-1711" name="__codelineno-19-1711" href="#__codelineno-19-1711"></a>                  expressions follow this syntax: \n \tlabel == \&quot;string_literal\&quot;
</span><span id="__span-19-1712"><a id="__codelineno-19-1712" name="__codelineno-19-1712" href="#__codelineno-19-1712"></a>                  \ -&gt;  comparison, e.g. my_label == \&quot;foo bar\&quot; \tlabel != \&quot;string_literal\&quot;
</span><span id="__span-19-1713"><a id="__codelineno-19-1713" name="__codelineno-19-1713" href="#__codelineno-19-1713"></a>                  \  -&gt;  not equal; also matches if label is not present \tlabel in
</span><span id="__span-19-1714"><a id="__codelineno-19-1714" name="__codelineno-19-1714" href="#__codelineno-19-1714"></a>                  { \&quot;a\&quot;, \&quot;b\&quot;, \&quot;c\&quot;, ... }  -&gt;  true if the value of label X is
</span><span id="__span-19-1715"><a id="__codelineno-19-1715" name="__codelineno-19-1715" href="#__codelineno-19-1715"></a>                  one of \&quot;a\&quot;, \&quot;b\&quot;, \&quot;c\&quot; \tlabel not in { \&quot;a\&quot;, \&quot;b\&quot;, \&quot;c\&quot;,
</span><span id="__span-19-1716"><a id="__codelineno-19-1716" name="__codelineno-19-1716" href="#__codelineno-19-1716"></a>                  ... }  -&gt;  true if the value of label X is not one of \&quot;a\&quot;, \&quot;b\&quot;,
</span><span id="__span-19-1717"><a id="__codelineno-19-1717" name="__codelineno-19-1717" href="#__codelineno-19-1717"></a>                  \&quot;c\&quot; \thas(label_name)  -&gt; True if that label is present \t! expr
</span><span id="__span-19-1718"><a id="__codelineno-19-1718" name="__codelineno-19-1718" href="#__codelineno-19-1718"></a>                  -&gt; negation of expr \texpr &amp;&amp; expr  -&gt; Short-circuit and \texpr
</span><span id="__span-19-1719"><a id="__codelineno-19-1719" name="__codelineno-19-1719" href="#__codelineno-19-1719"></a>                  || expr  -&gt; Short-circuit or \t( expr ) -&gt; parens for grouping \tall()
</span><span id="__span-19-1720"><a id="__codelineno-19-1720" name="__codelineno-19-1720" href="#__codelineno-19-1720"></a>                  or the empty selector -&gt; matches all endpoints. \n Label names are
</span><span id="__span-19-1721"><a id="__codelineno-19-1721" name="__codelineno-19-1721" href="#__codelineno-19-1721"></a>                  allowed to contain alphanumerics, -, _ and /. String literals are
</span><span id="__span-19-1722"><a id="__codelineno-19-1722" name="__codelineno-19-1722" href="#__codelineno-19-1722"></a>                  more permissive but they do not support escape characters. \n Examples
</span><span id="__span-19-1723"><a id="__codelineno-19-1723" name="__codelineno-19-1723" href="#__codelineno-19-1723"></a>                  (with made-up labels): \n \ttype == \&quot;webserver\&quot; &amp;&amp; deployment
</span><span id="__span-19-1724"><a id="__codelineno-19-1724" name="__codelineno-19-1724" href="#__codelineno-19-1724"></a>                  == \&quot;prod\&quot; \ttype in {\&quot;frontend\&quot;, \&quot;backend\&quot;} \tdeployment !=
</span><span id="__span-19-1725"><a id="__codelineno-19-1725" name="__codelineno-19-1725" href="#__codelineno-19-1725"></a>                  \&quot;dev\&quot; \t! has(label_name)&quot;
</span><span id="__span-19-1726"><a id="__codelineno-19-1726" name="__codelineno-19-1726" href="#__codelineno-19-1726"></a>                type: string
</span><span id="__span-19-1727"><a id="__codelineno-19-1727" name="__codelineno-19-1727" href="#__codelineno-19-1727"></a>              serviceAccountSelector:
</span><span id="__span-19-1728"><a id="__codelineno-19-1728" name="__codelineno-19-1728" href="#__codelineno-19-1728"></a>                description: ServiceAccountSelector is an optional field for an expression
</span><span id="__span-19-1729"><a id="__codelineno-19-1729" name="__codelineno-19-1729" href="#__codelineno-19-1729"></a>                  used to select a pod based on service accounts.
</span><span id="__span-19-1730"><a id="__codelineno-19-1730" name="__codelineno-19-1730" href="#__codelineno-19-1730"></a>                type: string
</span><span id="__span-19-1731"><a id="__codelineno-19-1731" name="__codelineno-19-1731" href="#__codelineno-19-1731"></a>              types:
</span><span id="__span-19-1732"><a id="__codelineno-19-1732" name="__codelineno-19-1732" href="#__codelineno-19-1732"></a>                description: &quot;Types indicates whether this policy applies to ingress,
</span><span id="__span-19-1733"><a id="__codelineno-19-1733" name="__codelineno-19-1733" href="#__codelineno-19-1733"></a>                  or to egress, or to both.  When not explicitly specified (and so
</span><span id="__span-19-1734"><a id="__codelineno-19-1734" name="__codelineno-19-1734" href="#__codelineno-19-1734"></a>                  the value on creation is empty or nil), Calico defaults Types according
</span><span id="__span-19-1735"><a id="__codelineno-19-1735" name="__codelineno-19-1735" href="#__codelineno-19-1735"></a>                  to what Ingress and Egress rules are present in the policy.  The
</span><span id="__span-19-1736"><a id="__codelineno-19-1736" name="__codelineno-19-1736" href="#__codelineno-19-1736"></a>                  default is: \n - [ PolicyTypeIngress ], if there are no Egress rules
</span><span id="__span-19-1737"><a id="__codelineno-19-1737" name="__codelineno-19-1737" href="#__codelineno-19-1737"></a>                  (including the case where there are   also no Ingress rules) \n
</span><span id="__span-19-1738"><a id="__codelineno-19-1738" name="__codelineno-19-1738" href="#__codelineno-19-1738"></a>                  - [ PolicyTypeEgress ], if there are Egress rules but no Ingress
</span><span id="__span-19-1739"><a id="__codelineno-19-1739" name="__codelineno-19-1739" href="#__codelineno-19-1739"></a>                  rules \n - [ PolicyTypeIngress, PolicyTypeEgress ], if there are
</span><span id="__span-19-1740"><a id="__codelineno-19-1740" name="__codelineno-19-1740" href="#__codelineno-19-1740"></a>                  both Ingress and Egress rules. \n When the policy is read back again,
</span><span id="__span-19-1741"><a id="__codelineno-19-1741" name="__codelineno-19-1741" href="#__codelineno-19-1741"></a>                  Types will always be one of these values, never empty or nil.&quot;
</span><span id="__span-19-1742"><a id="__codelineno-19-1742" name="__codelineno-19-1742" href="#__codelineno-19-1742"></a>                items:
</span><span id="__span-19-1743"><a id="__codelineno-19-1743" name="__codelineno-19-1743" href="#__codelineno-19-1743"></a>                  description: PolicyType enumerates the possible values of the PolicySpec
</span><span id="__span-19-1744"><a id="__codelineno-19-1744" name="__codelineno-19-1744" href="#__codelineno-19-1744"></a>                    Types field.
</span><span id="__span-19-1745"><a id="__codelineno-19-1745" name="__codelineno-19-1745" href="#__codelineno-19-1745"></a>                  type: string
</span><span id="__span-19-1746"><a id="__codelineno-19-1746" name="__codelineno-19-1746" href="#__codelineno-19-1746"></a>                type: array
</span><span id="__span-19-1747"><a id="__codelineno-19-1747" name="__codelineno-19-1747" href="#__codelineno-19-1747"></a>            type: object
</span><span id="__span-19-1748"><a id="__codelineno-19-1748" name="__codelineno-19-1748" href="#__codelineno-19-1748"></a>        type: object
</span><span id="__span-19-1749"><a id="__codelineno-19-1749" name="__codelineno-19-1749" href="#__codelineno-19-1749"></a>    served: true
</span><span id="__span-19-1750"><a id="__codelineno-19-1750" name="__codelineno-19-1750" href="#__codelineno-19-1750"></a>    storage: true
</span><span id="__span-19-1751"><a id="__codelineno-19-1751" name="__codelineno-19-1751" href="#__codelineno-19-1751"></a>status:
</span><span id="__span-19-1752"><a id="__codelineno-19-1752" name="__codelineno-19-1752" href="#__codelineno-19-1752"></a>  acceptedNames:
</span><span id="__span-19-1753"><a id="__codelineno-19-1753" name="__codelineno-19-1753" href="#__codelineno-19-1753"></a>    kind: &quot;&quot;
</span><span id="__span-19-1754"><a id="__codelineno-19-1754" name="__codelineno-19-1754" href="#__codelineno-19-1754"></a>    plural: &quot;&quot;
</span><span id="__span-19-1755"><a id="__codelineno-19-1755" name="__codelineno-19-1755" href="#__codelineno-19-1755"></a>  conditions: []
</span><span id="__span-19-1756"><a id="__codelineno-19-1756" name="__codelineno-19-1756" href="#__codelineno-19-1756"></a>  storedVersions: []
</span><span id="__span-19-1757"><a id="__codelineno-19-1757" name="__codelineno-19-1757" href="#__codelineno-19-1757"></a>
</span><span id="__span-19-1758"><a id="__codelineno-19-1758" name="__codelineno-19-1758" href="#__codelineno-19-1758"></a>---
</span><span id="__span-19-1759"><a id="__codelineno-19-1759" name="__codelineno-19-1759" href="#__codelineno-19-1759"></a>apiVersion: apiextensions.k8s.io/v1
</span><span id="__span-19-1760"><a id="__codelineno-19-1760" name="__codelineno-19-1760" href="#__codelineno-19-1760"></a>kind: CustomResourceDefinition
</span><span id="__span-19-1761"><a id="__codelineno-19-1761" name="__codelineno-19-1761" href="#__codelineno-19-1761"></a>metadata:
</span><span id="__span-19-1762"><a id="__codelineno-19-1762" name="__codelineno-19-1762" href="#__codelineno-19-1762"></a>  name: globalnetworksets.crd.projectcalico.org
</span><span id="__span-19-1763"><a id="__codelineno-19-1763" name="__codelineno-19-1763" href="#__codelineno-19-1763"></a>spec:
</span><span id="__span-19-1764"><a id="__codelineno-19-1764" name="__codelineno-19-1764" href="#__codelineno-19-1764"></a>  group: crd.projectcalico.org
</span><span id="__span-19-1765"><a id="__codelineno-19-1765" name="__codelineno-19-1765" href="#__codelineno-19-1765"></a>  names:
</span><span id="__span-19-1766"><a id="__codelineno-19-1766" name="__codelineno-19-1766" href="#__codelineno-19-1766"></a>    kind: GlobalNetworkSet
</span><span id="__span-19-1767"><a id="__codelineno-19-1767" name="__codelineno-19-1767" href="#__codelineno-19-1767"></a>    listKind: GlobalNetworkSetList
</span><span id="__span-19-1768"><a id="__codelineno-19-1768" name="__codelineno-19-1768" href="#__codelineno-19-1768"></a>    plural: globalnetworksets
</span><span id="__span-19-1769"><a id="__codelineno-19-1769" name="__codelineno-19-1769" href="#__codelineno-19-1769"></a>    singular: globalnetworkset
</span><span id="__span-19-1770"><a id="__codelineno-19-1770" name="__codelineno-19-1770" href="#__codelineno-19-1770"></a>  scope: Cluster
</span><span id="__span-19-1771"><a id="__codelineno-19-1771" name="__codelineno-19-1771" href="#__codelineno-19-1771"></a>  versions:
</span><span id="__span-19-1772"><a id="__codelineno-19-1772" name="__codelineno-19-1772" href="#__codelineno-19-1772"></a>  - name: v1
</span><span id="__span-19-1773"><a id="__codelineno-19-1773" name="__codelineno-19-1773" href="#__codelineno-19-1773"></a>    schema:
</span><span id="__span-19-1774"><a id="__codelineno-19-1774" name="__codelineno-19-1774" href="#__codelineno-19-1774"></a>      openAPIV3Schema:
</span><span id="__span-19-1775"><a id="__codelineno-19-1775" name="__codelineno-19-1775" href="#__codelineno-19-1775"></a>        description: GlobalNetworkSet contains a set of arbitrary IP sub-networks/CIDRs
</span><span id="__span-19-1776"><a id="__codelineno-19-1776" name="__codelineno-19-1776" href="#__codelineno-19-1776"></a>          that share labels to allow rules to refer to them via selectors.  The labels
</span><span id="__span-19-1777"><a id="__codelineno-19-1777" name="__codelineno-19-1777" href="#__codelineno-19-1777"></a>          of GlobalNetworkSet are not namespaced.
</span><span id="__span-19-1778"><a id="__codelineno-19-1778" name="__codelineno-19-1778" href="#__codelineno-19-1778"></a>        properties:
</span><span id="__span-19-1779"><a id="__codelineno-19-1779" name="__codelineno-19-1779" href="#__codelineno-19-1779"></a>          apiVersion:
</span><span id="__span-19-1780"><a id="__codelineno-19-1780" name="__codelineno-19-1780" href="#__codelineno-19-1780"></a>            description: &#39;APIVersion defines the versioned schema of this representation
</span><span id="__span-19-1781"><a id="__codelineno-19-1781" name="__codelineno-19-1781" href="#__codelineno-19-1781"></a>              of an object. Servers should convert recognized schemas to the latest
</span><span id="__span-19-1782"><a id="__codelineno-19-1782" name="__codelineno-19-1782" href="#__codelineno-19-1782"></a>              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#39;
</span><span id="__span-19-1783"><a id="__codelineno-19-1783" name="__codelineno-19-1783" href="#__codelineno-19-1783"></a>            type: string
</span><span id="__span-19-1784"><a id="__codelineno-19-1784" name="__codelineno-19-1784" href="#__codelineno-19-1784"></a>          kind:
</span><span id="__span-19-1785"><a id="__codelineno-19-1785" name="__codelineno-19-1785" href="#__codelineno-19-1785"></a>            description: &#39;Kind is a string value representing the REST resource this
</span><span id="__span-19-1786"><a id="__codelineno-19-1786" name="__codelineno-19-1786" href="#__codelineno-19-1786"></a>              object represents. Servers may infer this from the endpoint the client
</span><span id="__span-19-1787"><a id="__codelineno-19-1787" name="__codelineno-19-1787" href="#__codelineno-19-1787"></a>              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#39;
</span><span id="__span-19-1788"><a id="__codelineno-19-1788" name="__codelineno-19-1788" href="#__codelineno-19-1788"></a>            type: string
</span><span id="__span-19-1789"><a id="__codelineno-19-1789" name="__codelineno-19-1789" href="#__codelineno-19-1789"></a>          metadata:
</span><span id="__span-19-1790"><a id="__codelineno-19-1790" name="__codelineno-19-1790" href="#__codelineno-19-1790"></a>            type: object
</span><span id="__span-19-1791"><a id="__codelineno-19-1791" name="__codelineno-19-1791" href="#__codelineno-19-1791"></a>          spec:
</span><span id="__span-19-1792"><a id="__codelineno-19-1792" name="__codelineno-19-1792" href="#__codelineno-19-1792"></a>            description: GlobalNetworkSetSpec contains the specification for a NetworkSet
</span><span id="__span-19-1793"><a id="__codelineno-19-1793" name="__codelineno-19-1793" href="#__codelineno-19-1793"></a>              resource.
</span><span id="__span-19-1794"><a id="__codelineno-19-1794" name="__codelineno-19-1794" href="#__codelineno-19-1794"></a>            properties:
</span><span id="__span-19-1795"><a id="__codelineno-19-1795" name="__codelineno-19-1795" href="#__codelineno-19-1795"></a>              nets:
</span><span id="__span-19-1796"><a id="__codelineno-19-1796" name="__codelineno-19-1796" href="#__codelineno-19-1796"></a>                description: The list of IP networks that belong to this set.
</span><span id="__span-19-1797"><a id="__codelineno-19-1797" name="__codelineno-19-1797" href="#__codelineno-19-1797"></a>                items:
</span><span id="__span-19-1798"><a id="__codelineno-19-1798" name="__codelineno-19-1798" href="#__codelineno-19-1798"></a>                  type: string
</span><span id="__span-19-1799"><a id="__codelineno-19-1799" name="__codelineno-19-1799" href="#__codelineno-19-1799"></a>                type: array
</span><span id="__span-19-1800"><a id="__codelineno-19-1800" name="__codelineno-19-1800" href="#__codelineno-19-1800"></a>            type: object
</span><span id="__span-19-1801"><a id="__codelineno-19-1801" name="__codelineno-19-1801" href="#__codelineno-19-1801"></a>        type: object
</span><span id="__span-19-1802"><a id="__codelineno-19-1802" name="__codelineno-19-1802" href="#__codelineno-19-1802"></a>    served: true
</span><span id="__span-19-1803"><a id="__codelineno-19-1803" name="__codelineno-19-1803" href="#__codelineno-19-1803"></a>    storage: true
</span><span id="__span-19-1804"><a id="__codelineno-19-1804" name="__codelineno-19-1804" href="#__codelineno-19-1804"></a>status:
</span><span id="__span-19-1805"><a id="__codelineno-19-1805" name="__codelineno-19-1805" href="#__codelineno-19-1805"></a>  acceptedNames:
</span><span id="__span-19-1806"><a id="__codelineno-19-1806" name="__codelineno-19-1806" href="#__codelineno-19-1806"></a>    kind: &quot;&quot;
</span><span id="__span-19-1807"><a id="__codelineno-19-1807" name="__codelineno-19-1807" href="#__codelineno-19-1807"></a>    plural: &quot;&quot;
</span><span id="__span-19-1808"><a id="__codelineno-19-1808" name="__codelineno-19-1808" href="#__codelineno-19-1808"></a>  conditions: []
</span><span id="__span-19-1809"><a id="__codelineno-19-1809" name="__codelineno-19-1809" href="#__codelineno-19-1809"></a>  storedVersions: []
</span><span id="__span-19-1810"><a id="__codelineno-19-1810" name="__codelineno-19-1810" href="#__codelineno-19-1810"></a>
</span><span id="__span-19-1811"><a id="__codelineno-19-1811" name="__codelineno-19-1811" href="#__codelineno-19-1811"></a>---
</span><span id="__span-19-1812"><a id="__codelineno-19-1812" name="__codelineno-19-1812" href="#__codelineno-19-1812"></a>apiVersion: apiextensions.k8s.io/v1
</span><span id="__span-19-1813"><a id="__codelineno-19-1813" name="__codelineno-19-1813" href="#__codelineno-19-1813"></a>kind: CustomResourceDefinition
</span><span id="__span-19-1814"><a id="__codelineno-19-1814" name="__codelineno-19-1814" href="#__codelineno-19-1814"></a>metadata:
</span><span id="__span-19-1815"><a id="__codelineno-19-1815" name="__codelineno-19-1815" href="#__codelineno-19-1815"></a>  name: hostendpoints.crd.projectcalico.org
</span><span id="__span-19-1816"><a id="__codelineno-19-1816" name="__codelineno-19-1816" href="#__codelineno-19-1816"></a>spec:
</span><span id="__span-19-1817"><a id="__codelineno-19-1817" name="__codelineno-19-1817" href="#__codelineno-19-1817"></a>  group: crd.projectcalico.org
</span><span id="__span-19-1818"><a id="__codelineno-19-1818" name="__codelineno-19-1818" href="#__codelineno-19-1818"></a>  names:
</span><span id="__span-19-1819"><a id="__codelineno-19-1819" name="__codelineno-19-1819" href="#__codelineno-19-1819"></a>    kind: HostEndpoint
</span><span id="__span-19-1820"><a id="__codelineno-19-1820" name="__codelineno-19-1820" href="#__codelineno-19-1820"></a>    listKind: HostEndpointList
</span><span id="__span-19-1821"><a id="__codelineno-19-1821" name="__codelineno-19-1821" href="#__codelineno-19-1821"></a>    plural: hostendpoints
</span><span id="__span-19-1822"><a id="__codelineno-19-1822" name="__codelineno-19-1822" href="#__codelineno-19-1822"></a>    singular: hostendpoint
</span><span id="__span-19-1823"><a id="__codelineno-19-1823" name="__codelineno-19-1823" href="#__codelineno-19-1823"></a>  scope: Cluster
</span><span id="__span-19-1824"><a id="__codelineno-19-1824" name="__codelineno-19-1824" href="#__codelineno-19-1824"></a>  versions:
</span><span id="__span-19-1825"><a id="__codelineno-19-1825" name="__codelineno-19-1825" href="#__codelineno-19-1825"></a>  - name: v1
</span><span id="__span-19-1826"><a id="__codelineno-19-1826" name="__codelineno-19-1826" href="#__codelineno-19-1826"></a>    schema:
</span><span id="__span-19-1827"><a id="__codelineno-19-1827" name="__codelineno-19-1827" href="#__codelineno-19-1827"></a>      openAPIV3Schema:
</span><span id="__span-19-1828"><a id="__codelineno-19-1828" name="__codelineno-19-1828" href="#__codelineno-19-1828"></a>        properties:
</span><span id="__span-19-1829"><a id="__codelineno-19-1829" name="__codelineno-19-1829" href="#__codelineno-19-1829"></a>          apiVersion:
</span><span id="__span-19-1830"><a id="__codelineno-19-1830" name="__codelineno-19-1830" href="#__codelineno-19-1830"></a>            description: &#39;APIVersion defines the versioned schema of this representation
</span><span id="__span-19-1831"><a id="__codelineno-19-1831" name="__codelineno-19-1831" href="#__codelineno-19-1831"></a>              of an object. Servers should convert recognized schemas to the latest
</span><span id="__span-19-1832"><a id="__codelineno-19-1832" name="__codelineno-19-1832" href="#__codelineno-19-1832"></a>              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#39;
</span><span id="__span-19-1833"><a id="__codelineno-19-1833" name="__codelineno-19-1833" href="#__codelineno-19-1833"></a>            type: string
</span><span id="__span-19-1834"><a id="__codelineno-19-1834" name="__codelineno-19-1834" href="#__codelineno-19-1834"></a>          kind:
</span><span id="__span-19-1835"><a id="__codelineno-19-1835" name="__codelineno-19-1835" href="#__codelineno-19-1835"></a>            description: &#39;Kind is a string value representing the REST resource this
</span><span id="__span-19-1836"><a id="__codelineno-19-1836" name="__codelineno-19-1836" href="#__codelineno-19-1836"></a>              object represents. Servers may infer this from the endpoint the client
</span><span id="__span-19-1837"><a id="__codelineno-19-1837" name="__codelineno-19-1837" href="#__codelineno-19-1837"></a>              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#39;
</span><span id="__span-19-1838"><a id="__codelineno-19-1838" name="__codelineno-19-1838" href="#__codelineno-19-1838"></a>            type: string
</span><span id="__span-19-1839"><a id="__codelineno-19-1839" name="__codelineno-19-1839" href="#__codelineno-19-1839"></a>          metadata:
</span><span id="__span-19-1840"><a id="__codelineno-19-1840" name="__codelineno-19-1840" href="#__codelineno-19-1840"></a>            type: object
</span><span id="__span-19-1841"><a id="__codelineno-19-1841" name="__codelineno-19-1841" href="#__codelineno-19-1841"></a>          spec:
</span><span id="__span-19-1842"><a id="__codelineno-19-1842" name="__codelineno-19-1842" href="#__codelineno-19-1842"></a>            description: HostEndpointSpec contains the specification for a HostEndpoint
</span><span id="__span-19-1843"><a id="__codelineno-19-1843" name="__codelineno-19-1843" href="#__codelineno-19-1843"></a>              resource.
</span><span id="__span-19-1844"><a id="__codelineno-19-1844" name="__codelineno-19-1844" href="#__codelineno-19-1844"></a>            properties:
</span><span id="__span-19-1845"><a id="__codelineno-19-1845" name="__codelineno-19-1845" href="#__codelineno-19-1845"></a>              expectedIPs:
</span><span id="__span-19-1846"><a id="__codelineno-19-1846" name="__codelineno-19-1846" href="#__codelineno-19-1846"></a>                description: &quot;The expected IP addresses (IPv4 and IPv6) of the endpoint.
</span><span id="__span-19-1847"><a id="__codelineno-19-1847" name="__codelineno-19-1847" href="#__codelineno-19-1847"></a>                  If \&quot;InterfaceName\&quot; is not present, Calico will look for an interface
</span><span id="__span-19-1848"><a id="__codelineno-19-1848" name="__codelineno-19-1848" href="#__codelineno-19-1848"></a>                  matching any of the IPs in the list and apply policy to that. Note:
</span><span id="__span-19-1849"><a id="__codelineno-19-1849" name="__codelineno-19-1849" href="#__codelineno-19-1849"></a>                  \tWhen using the selector match criteria in an ingress or egress
</span><span id="__span-19-1850"><a id="__codelineno-19-1850" name="__codelineno-19-1850" href="#__codelineno-19-1850"></a>                  security Policy \tor Profile, Calico converts the selector into
</span><span id="__span-19-1851"><a id="__codelineno-19-1851" name="__codelineno-19-1851" href="#__codelineno-19-1851"></a>                  a set of IP addresses. For host \tendpoints, the ExpectedIPs field
</span><span id="__span-19-1852"><a id="__codelineno-19-1852" name="__codelineno-19-1852" href="#__codelineno-19-1852"></a>                  is used for that purpose. (If only the interface \tname is specified,
</span><span id="__span-19-1853"><a id="__codelineno-19-1853" name="__codelineno-19-1853" href="#__codelineno-19-1853"></a>                  Calico does not learn the IPs of the interface for use in match
</span><span id="__span-19-1854"><a id="__codelineno-19-1854" name="__codelineno-19-1854" href="#__codelineno-19-1854"></a>                  \tcriteria.)&quot;
</span><span id="__span-19-1855"><a id="__codelineno-19-1855" name="__codelineno-19-1855" href="#__codelineno-19-1855"></a>                items:
</span><span id="__span-19-1856"><a id="__codelineno-19-1856" name="__codelineno-19-1856" href="#__codelineno-19-1856"></a>                  type: string
</span><span id="__span-19-1857"><a id="__codelineno-19-1857" name="__codelineno-19-1857" href="#__codelineno-19-1857"></a>                type: array
</span><span id="__span-19-1858"><a id="__codelineno-19-1858" name="__codelineno-19-1858" href="#__codelineno-19-1858"></a>              interfaceName:
</span><span id="__span-19-1859"><a id="__codelineno-19-1859" name="__codelineno-19-1859" href="#__codelineno-19-1859"></a>                description: &quot;Either \&quot;*\&quot;, or the name of a specific Linux interface
</span><span id="__span-19-1860"><a id="__codelineno-19-1860" name="__codelineno-19-1860" href="#__codelineno-19-1860"></a>                  to apply policy to; or empty.  \&quot;*\&quot; indicates that this HostEndpoint
</span><span id="__span-19-1861"><a id="__codelineno-19-1861" name="__codelineno-19-1861" href="#__codelineno-19-1861"></a>                  governs all traffic to, from or through the default network namespace
</span><span id="__span-19-1862"><a id="__codelineno-19-1862" name="__codelineno-19-1862" href="#__codelineno-19-1862"></a>                  of the host named by the \&quot;Node\&quot; field; entering and leaving that
</span><span id="__span-19-1863"><a id="__codelineno-19-1863" name="__codelineno-19-1863" href="#__codelineno-19-1863"></a>                  namespace via any interface, including those from/to non-host-networked
</span><span id="__span-19-1864"><a id="__codelineno-19-1864" name="__codelineno-19-1864" href="#__codelineno-19-1864"></a>                  local workloads. \n If InterfaceName is not \&quot;*\&quot;, this HostEndpoint
</span><span id="__span-19-1865"><a id="__codelineno-19-1865" name="__codelineno-19-1865" href="#__codelineno-19-1865"></a>                  only governs traffic that enters or leaves the host through the
</span><span id="__span-19-1866"><a id="__codelineno-19-1866" name="__codelineno-19-1866" href="#__codelineno-19-1866"></a>                  specific interface named by InterfaceName, or - when InterfaceName
</span><span id="__span-19-1867"><a id="__codelineno-19-1867" name="__codelineno-19-1867" href="#__codelineno-19-1867"></a>                  is empty - through the specific interface that has one of the IPs
</span><span id="__span-19-1868"><a id="__codelineno-19-1868" name="__codelineno-19-1868" href="#__codelineno-19-1868"></a>                  in ExpectedIPs. Therefore, when InterfaceName is empty, at least
</span><span id="__span-19-1869"><a id="__codelineno-19-1869" name="__codelineno-19-1869" href="#__codelineno-19-1869"></a>                  one expected IP must be specified.  Only external interfaces (such
</span><span id="__span-19-1870"><a id="__codelineno-19-1870" name="__codelineno-19-1870" href="#__codelineno-19-1870"></a>                  as \&quot;eth0\&quot;) are supported here; it isn&#39;t possible for a HostEndpoint
</span><span id="__span-19-1871"><a id="__codelineno-19-1871" name="__codelineno-19-1871" href="#__codelineno-19-1871"></a>                  to protect traffic through a specific local workload interface.
</span><span id="__span-19-1872"><a id="__codelineno-19-1872" name="__codelineno-19-1872" href="#__codelineno-19-1872"></a>                  \n Note: Only some kinds of policy are implemented for \&quot;*\&quot; HostEndpoints;
</span><span id="__span-19-1873"><a id="__codelineno-19-1873" name="__codelineno-19-1873" href="#__codelineno-19-1873"></a>                  initially just pre-DNAT policy.  Please check Calico documentation
</span><span id="__span-19-1874"><a id="__codelineno-19-1874" name="__codelineno-19-1874" href="#__codelineno-19-1874"></a>                  for the latest position.&quot;
</span><span id="__span-19-1875"><a id="__codelineno-19-1875" name="__codelineno-19-1875" href="#__codelineno-19-1875"></a>                type: string
</span><span id="__span-19-1876"><a id="__codelineno-19-1876" name="__codelineno-19-1876" href="#__codelineno-19-1876"></a>              node:
</span><span id="__span-19-1877"><a id="__codelineno-19-1877" name="__codelineno-19-1877" href="#__codelineno-19-1877"></a>                description: The node name identifying the Calico node instance.
</span><span id="__span-19-1878"><a id="__codelineno-19-1878" name="__codelineno-19-1878" href="#__codelineno-19-1878"></a>                type: string
</span><span id="__span-19-1879"><a id="__codelineno-19-1879" name="__codelineno-19-1879" href="#__codelineno-19-1879"></a>              ports:
</span><span id="__span-19-1880"><a id="__codelineno-19-1880" name="__codelineno-19-1880" href="#__codelineno-19-1880"></a>                description: Ports contains the endpoint&#39;s named ports, which may
</span><span id="__span-19-1881"><a id="__codelineno-19-1881" name="__codelineno-19-1881" href="#__codelineno-19-1881"></a>                  be referenced in security policy rules.
</span><span id="__span-19-1882"><a id="__codelineno-19-1882" name="__codelineno-19-1882" href="#__codelineno-19-1882"></a>                items:
</span><span id="__span-19-1883"><a id="__codelineno-19-1883" name="__codelineno-19-1883" href="#__codelineno-19-1883"></a>                  properties:
</span><span id="__span-19-1884"><a id="__codelineno-19-1884" name="__codelineno-19-1884" href="#__codelineno-19-1884"></a>                    name:
</span><span id="__span-19-1885"><a id="__codelineno-19-1885" name="__codelineno-19-1885" href="#__codelineno-19-1885"></a>                      type: string
</span><span id="__span-19-1886"><a id="__codelineno-19-1886" name="__codelineno-19-1886" href="#__codelineno-19-1886"></a>                    port:
</span><span id="__span-19-1887"><a id="__codelineno-19-1887" name="__codelineno-19-1887" href="#__codelineno-19-1887"></a>                      type: integer
</span><span id="__span-19-1888"><a id="__codelineno-19-1888" name="__codelineno-19-1888" href="#__codelineno-19-1888"></a>                    protocol:
</span><span id="__span-19-1889"><a id="__codelineno-19-1889" name="__codelineno-19-1889" href="#__codelineno-19-1889"></a>                      anyOf:
</span><span id="__span-19-1890"><a id="__codelineno-19-1890" name="__codelineno-19-1890" href="#__codelineno-19-1890"></a>                      - type: integer
</span><span id="__span-19-1891"><a id="__codelineno-19-1891" name="__codelineno-19-1891" href="#__codelineno-19-1891"></a>                      - type: string
</span><span id="__span-19-1892"><a id="__codelineno-19-1892" name="__codelineno-19-1892" href="#__codelineno-19-1892"></a>                      pattern: ^.*
</span><span id="__span-19-1893"><a id="__codelineno-19-1893" name="__codelineno-19-1893" href="#__codelineno-19-1893"></a>                      x-kubernetes-int-or-string: true
</span><span id="__span-19-1894"><a id="__codelineno-19-1894" name="__codelineno-19-1894" href="#__codelineno-19-1894"></a>                  required:
</span><span id="__span-19-1895"><a id="__codelineno-19-1895" name="__codelineno-19-1895" href="#__codelineno-19-1895"></a>                  - name
</span><span id="__span-19-1896"><a id="__codelineno-19-1896" name="__codelineno-19-1896" href="#__codelineno-19-1896"></a>                  - port
</span><span id="__span-19-1897"><a id="__codelineno-19-1897" name="__codelineno-19-1897" href="#__codelineno-19-1897"></a>                  - protocol
</span><span id="__span-19-1898"><a id="__codelineno-19-1898" name="__codelineno-19-1898" href="#__codelineno-19-1898"></a>                  type: object
</span><span id="__span-19-1899"><a id="__codelineno-19-1899" name="__codelineno-19-1899" href="#__codelineno-19-1899"></a>                type: array
</span><span id="__span-19-1900"><a id="__codelineno-19-1900" name="__codelineno-19-1900" href="#__codelineno-19-1900"></a>              profiles:
</span><span id="__span-19-1901"><a id="__codelineno-19-1901" name="__codelineno-19-1901" href="#__codelineno-19-1901"></a>                description: A list of identifiers of security Profile objects that
</span><span id="__span-19-1902"><a id="__codelineno-19-1902" name="__codelineno-19-1902" href="#__codelineno-19-1902"></a>                  apply to this endpoint. Each profile is applied in the order that
</span><span id="__span-19-1903"><a id="__codelineno-19-1903" name="__codelineno-19-1903" href="#__codelineno-19-1903"></a>                  they appear in this list.  Profile rules are applied after the selector-based
</span><span id="__span-19-1904"><a id="__codelineno-19-1904" name="__codelineno-19-1904" href="#__codelineno-19-1904"></a>                  security policy.
</span><span id="__span-19-1905"><a id="__codelineno-19-1905" name="__codelineno-19-1905" href="#__codelineno-19-1905"></a>                items:
</span><span id="__span-19-1906"><a id="__codelineno-19-1906" name="__codelineno-19-1906" href="#__codelineno-19-1906"></a>                  type: string
</span><span id="__span-19-1907"><a id="__codelineno-19-1907" name="__codelineno-19-1907" href="#__codelineno-19-1907"></a>                type: array
</span><span id="__span-19-1908"><a id="__codelineno-19-1908" name="__codelineno-19-1908" href="#__codelineno-19-1908"></a>            type: object
</span><span id="__span-19-1909"><a id="__codelineno-19-1909" name="__codelineno-19-1909" href="#__codelineno-19-1909"></a>        type: object
</span><span id="__span-19-1910"><a id="__codelineno-19-1910" name="__codelineno-19-1910" href="#__codelineno-19-1910"></a>    served: true
</span><span id="__span-19-1911"><a id="__codelineno-19-1911" name="__codelineno-19-1911" href="#__codelineno-19-1911"></a>    storage: true
</span><span id="__span-19-1912"><a id="__codelineno-19-1912" name="__codelineno-19-1912" href="#__codelineno-19-1912"></a>status:
</span><span id="__span-19-1913"><a id="__codelineno-19-1913" name="__codelineno-19-1913" href="#__codelineno-19-1913"></a>  acceptedNames:
</span><span id="__span-19-1914"><a id="__codelineno-19-1914" name="__codelineno-19-1914" href="#__codelineno-19-1914"></a>    kind: &quot;&quot;
</span><span id="__span-19-1915"><a id="__codelineno-19-1915" name="__codelineno-19-1915" href="#__codelineno-19-1915"></a>    plural: &quot;&quot;
</span><span id="__span-19-1916"><a id="__codelineno-19-1916" name="__codelineno-19-1916" href="#__codelineno-19-1916"></a>  conditions: []
</span><span id="__span-19-1917"><a id="__codelineno-19-1917" name="__codelineno-19-1917" href="#__codelineno-19-1917"></a>  storedVersions: []
</span><span id="__span-19-1918"><a id="__codelineno-19-1918" name="__codelineno-19-1918" href="#__codelineno-19-1918"></a>
</span><span id="__span-19-1919"><a id="__codelineno-19-1919" name="__codelineno-19-1919" href="#__codelineno-19-1919"></a>---
</span><span id="__span-19-1920"><a id="__codelineno-19-1920" name="__codelineno-19-1920" href="#__codelineno-19-1920"></a>apiVersion: apiextensions.k8s.io/v1
</span><span id="__span-19-1921"><a id="__codelineno-19-1921" name="__codelineno-19-1921" href="#__codelineno-19-1921"></a>kind: CustomResourceDefinition
</span><span id="__span-19-1922"><a id="__codelineno-19-1922" name="__codelineno-19-1922" href="#__codelineno-19-1922"></a>metadata:
</span><span id="__span-19-1923"><a id="__codelineno-19-1923" name="__codelineno-19-1923" href="#__codelineno-19-1923"></a>  name: ipamblocks.crd.projectcalico.org
</span><span id="__span-19-1924"><a id="__codelineno-19-1924" name="__codelineno-19-1924" href="#__codelineno-19-1924"></a>spec:
</span><span id="__span-19-1925"><a id="__codelineno-19-1925" name="__codelineno-19-1925" href="#__codelineno-19-1925"></a>  group: crd.projectcalico.org
</span><span id="__span-19-1926"><a id="__codelineno-19-1926" name="__codelineno-19-1926" href="#__codelineno-19-1926"></a>  names:
</span><span id="__span-19-1927"><a id="__codelineno-19-1927" name="__codelineno-19-1927" href="#__codelineno-19-1927"></a>    kind: IPAMBlock
</span><span id="__span-19-1928"><a id="__codelineno-19-1928" name="__codelineno-19-1928" href="#__codelineno-19-1928"></a>    listKind: IPAMBlockList
</span><span id="__span-19-1929"><a id="__codelineno-19-1929" name="__codelineno-19-1929" href="#__codelineno-19-1929"></a>    plural: ipamblocks
</span><span id="__span-19-1930"><a id="__codelineno-19-1930" name="__codelineno-19-1930" href="#__codelineno-19-1930"></a>    singular: ipamblock
</span><span id="__span-19-1931"><a id="__codelineno-19-1931" name="__codelineno-19-1931" href="#__codelineno-19-1931"></a>  scope: Cluster
</span><span id="__span-19-1932"><a id="__codelineno-19-1932" name="__codelineno-19-1932" href="#__codelineno-19-1932"></a>  versions:
</span><span id="__span-19-1933"><a id="__codelineno-19-1933" name="__codelineno-19-1933" href="#__codelineno-19-1933"></a>  - name: v1
</span><span id="__span-19-1934"><a id="__codelineno-19-1934" name="__codelineno-19-1934" href="#__codelineno-19-1934"></a>    schema:
</span><span id="__span-19-1935"><a id="__codelineno-19-1935" name="__codelineno-19-1935" href="#__codelineno-19-1935"></a>      openAPIV3Schema:
</span><span id="__span-19-1936"><a id="__codelineno-19-1936" name="__codelineno-19-1936" href="#__codelineno-19-1936"></a>        properties:
</span><span id="__span-19-1937"><a id="__codelineno-19-1937" name="__codelineno-19-1937" href="#__codelineno-19-1937"></a>          apiVersion:
</span><span id="__span-19-1938"><a id="__codelineno-19-1938" name="__codelineno-19-1938" href="#__codelineno-19-1938"></a>            description: &#39;APIVersion defines the versioned schema of this representation
</span><span id="__span-19-1939"><a id="__codelineno-19-1939" name="__codelineno-19-1939" href="#__codelineno-19-1939"></a>              of an object. Servers should convert recognized schemas to the latest
</span><span id="__span-19-1940"><a id="__codelineno-19-1940" name="__codelineno-19-1940" href="#__codelineno-19-1940"></a>              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#39;
</span><span id="__span-19-1941"><a id="__codelineno-19-1941" name="__codelineno-19-1941" href="#__codelineno-19-1941"></a>            type: string
</span><span id="__span-19-1942"><a id="__codelineno-19-1942" name="__codelineno-19-1942" href="#__codelineno-19-1942"></a>          kind:
</span><span id="__span-19-1943"><a id="__codelineno-19-1943" name="__codelineno-19-1943" href="#__codelineno-19-1943"></a>            description: &#39;Kind is a string value representing the REST resource this
</span><span id="__span-19-1944"><a id="__codelineno-19-1944" name="__codelineno-19-1944" href="#__codelineno-19-1944"></a>              object represents. Servers may infer this from the endpoint the client
</span><span id="__span-19-1945"><a id="__codelineno-19-1945" name="__codelineno-19-1945" href="#__codelineno-19-1945"></a>              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#39;
</span><span id="__span-19-1946"><a id="__codelineno-19-1946" name="__codelineno-19-1946" href="#__codelineno-19-1946"></a>            type: string
</span><span id="__span-19-1947"><a id="__codelineno-19-1947" name="__codelineno-19-1947" href="#__codelineno-19-1947"></a>          metadata:
</span><span id="__span-19-1948"><a id="__codelineno-19-1948" name="__codelineno-19-1948" href="#__codelineno-19-1948"></a>            type: object
</span><span id="__span-19-1949"><a id="__codelineno-19-1949" name="__codelineno-19-1949" href="#__codelineno-19-1949"></a>          spec:
</span><span id="__span-19-1950"><a id="__codelineno-19-1950" name="__codelineno-19-1950" href="#__codelineno-19-1950"></a>            description: IPAMBlockSpec contains the specification for an IPAMBlock
</span><span id="__span-19-1951"><a id="__codelineno-19-1951" name="__codelineno-19-1951" href="#__codelineno-19-1951"></a>              resource.
</span><span id="__span-19-1952"><a id="__codelineno-19-1952" name="__codelineno-19-1952" href="#__codelineno-19-1952"></a>            properties:
</span><span id="__span-19-1953"><a id="__codelineno-19-1953" name="__codelineno-19-1953" href="#__codelineno-19-1953"></a>              affinity:
</span><span id="__span-19-1954"><a id="__codelineno-19-1954" name="__codelineno-19-1954" href="#__codelineno-19-1954"></a>                type: string
</span><span id="__span-19-1955"><a id="__codelineno-19-1955" name="__codelineno-19-1955" href="#__codelineno-19-1955"></a>              allocations:
</span><span id="__span-19-1956"><a id="__codelineno-19-1956" name="__codelineno-19-1956" href="#__codelineno-19-1956"></a>                items:
</span><span id="__span-19-1957"><a id="__codelineno-19-1957" name="__codelineno-19-1957" href="#__codelineno-19-1957"></a>                  type: integer
</span><span id="__span-19-1958"><a id="__codelineno-19-1958" name="__codelineno-19-1958" href="#__codelineno-19-1958"></a>                  # TODO: This nullable is manually added in. We should update controller-gen
</span><span id="__span-19-1959"><a id="__codelineno-19-1959" name="__codelineno-19-1959" href="#__codelineno-19-1959"></a>                  # to handle []*int properly itself.
</span><span id="__span-19-1960"><a id="__codelineno-19-1960" name="__codelineno-19-1960" href="#__codelineno-19-1960"></a>                  nullable: true
</span><span id="__span-19-1961"><a id="__codelineno-19-1961" name="__codelineno-19-1961" href="#__codelineno-19-1961"></a>                type: array
</span><span id="__span-19-1962"><a id="__codelineno-19-1962" name="__codelineno-19-1962" href="#__codelineno-19-1962"></a>              attributes:
</span><span id="__span-19-1963"><a id="__codelineno-19-1963" name="__codelineno-19-1963" href="#__codelineno-19-1963"></a>                items:
</span><span id="__span-19-1964"><a id="__codelineno-19-1964" name="__codelineno-19-1964" href="#__codelineno-19-1964"></a>                  properties:
</span><span id="__span-19-1965"><a id="__codelineno-19-1965" name="__codelineno-19-1965" href="#__codelineno-19-1965"></a>                    handle_id:
</span><span id="__span-19-1966"><a id="__codelineno-19-1966" name="__codelineno-19-1966" href="#__codelineno-19-1966"></a>                      type: string
</span><span id="__span-19-1967"><a id="__codelineno-19-1967" name="__codelineno-19-1967" href="#__codelineno-19-1967"></a>                    secondary:
</span><span id="__span-19-1968"><a id="__codelineno-19-1968" name="__codelineno-19-1968" href="#__codelineno-19-1968"></a>                      additionalProperties:
</span><span id="__span-19-1969"><a id="__codelineno-19-1969" name="__codelineno-19-1969" href="#__codelineno-19-1969"></a>                        type: string
</span><span id="__span-19-1970"><a id="__codelineno-19-1970" name="__codelineno-19-1970" href="#__codelineno-19-1970"></a>                      type: object
</span><span id="__span-19-1971"><a id="__codelineno-19-1971" name="__codelineno-19-1971" href="#__codelineno-19-1971"></a>                  type: object
</span><span id="__span-19-1972"><a id="__codelineno-19-1972" name="__codelineno-19-1972" href="#__codelineno-19-1972"></a>                type: array
</span><span id="__span-19-1973"><a id="__codelineno-19-1973" name="__codelineno-19-1973" href="#__codelineno-19-1973"></a>              cidr:
</span><span id="__span-19-1974"><a id="__codelineno-19-1974" name="__codelineno-19-1974" href="#__codelineno-19-1974"></a>                type: string
</span><span id="__span-19-1975"><a id="__codelineno-19-1975" name="__codelineno-19-1975" href="#__codelineno-19-1975"></a>              deleted:
</span><span id="__span-19-1976"><a id="__codelineno-19-1976" name="__codelineno-19-1976" href="#__codelineno-19-1976"></a>                type: boolean
</span><span id="__span-19-1977"><a id="__codelineno-19-1977" name="__codelineno-19-1977" href="#__codelineno-19-1977"></a>              strictAffinity:
</span><span id="__span-19-1978"><a id="__codelineno-19-1978" name="__codelineno-19-1978" href="#__codelineno-19-1978"></a>                type: boolean
</span><span id="__span-19-1979"><a id="__codelineno-19-1979" name="__codelineno-19-1979" href="#__codelineno-19-1979"></a>              unallocated:
</span><span id="__span-19-1980"><a id="__codelineno-19-1980" name="__codelineno-19-1980" href="#__codelineno-19-1980"></a>                items:
</span><span id="__span-19-1981"><a id="__codelineno-19-1981" name="__codelineno-19-1981" href="#__codelineno-19-1981"></a>                  type: integer
</span><span id="__span-19-1982"><a id="__codelineno-19-1982" name="__codelineno-19-1982" href="#__codelineno-19-1982"></a>                type: array
</span><span id="__span-19-1983"><a id="__codelineno-19-1983" name="__codelineno-19-1983" href="#__codelineno-19-1983"></a>            required:
</span><span id="__span-19-1984"><a id="__codelineno-19-1984" name="__codelineno-19-1984" href="#__codelineno-19-1984"></a>            - allocations
</span><span id="__span-19-1985"><a id="__codelineno-19-1985" name="__codelineno-19-1985" href="#__codelineno-19-1985"></a>            - attributes
</span><span id="__span-19-1986"><a id="__codelineno-19-1986" name="__codelineno-19-1986" href="#__codelineno-19-1986"></a>            - cidr
</span><span id="__span-19-1987"><a id="__codelineno-19-1987" name="__codelineno-19-1987" href="#__codelineno-19-1987"></a>            - strictAffinity
</span><span id="__span-19-1988"><a id="__codelineno-19-1988" name="__codelineno-19-1988" href="#__codelineno-19-1988"></a>            - unallocated
</span><span id="__span-19-1989"><a id="__codelineno-19-1989" name="__codelineno-19-1989" href="#__codelineno-19-1989"></a>            type: object
</span><span id="__span-19-1990"><a id="__codelineno-19-1990" name="__codelineno-19-1990" href="#__codelineno-19-1990"></a>        type: object
</span><span id="__span-19-1991"><a id="__codelineno-19-1991" name="__codelineno-19-1991" href="#__codelineno-19-1991"></a>    served: true
</span><span id="__span-19-1992"><a id="__codelineno-19-1992" name="__codelineno-19-1992" href="#__codelineno-19-1992"></a>    storage: true
</span><span id="__span-19-1993"><a id="__codelineno-19-1993" name="__codelineno-19-1993" href="#__codelineno-19-1993"></a>status:
</span><span id="__span-19-1994"><a id="__codelineno-19-1994" name="__codelineno-19-1994" href="#__codelineno-19-1994"></a>  acceptedNames:
</span><span id="__span-19-1995"><a id="__codelineno-19-1995" name="__codelineno-19-1995" href="#__codelineno-19-1995"></a>    kind: &quot;&quot;
</span><span id="__span-19-1996"><a id="__codelineno-19-1996" name="__codelineno-19-1996" href="#__codelineno-19-1996"></a>    plural: &quot;&quot;
</span><span id="__span-19-1997"><a id="__codelineno-19-1997" name="__codelineno-19-1997" href="#__codelineno-19-1997"></a>  conditions: []
</span><span id="__span-19-1998"><a id="__codelineno-19-1998" name="__codelineno-19-1998" href="#__codelineno-19-1998"></a>  storedVersions: []
</span><span id="__span-19-1999"><a id="__codelineno-19-1999" name="__codelineno-19-1999" href="#__codelineno-19-1999"></a>
</span><span id="__span-19-2000"><a id="__codelineno-19-2000" name="__codelineno-19-2000" href="#__codelineno-19-2000"></a>---
</span><span id="__span-19-2001"><a id="__codelineno-19-2001" name="__codelineno-19-2001" href="#__codelineno-19-2001"></a>apiVersion: apiextensions.k8s.io/v1
</span><span id="__span-19-2002"><a id="__codelineno-19-2002" name="__codelineno-19-2002" href="#__codelineno-19-2002"></a>kind: CustomResourceDefinition
</span><span id="__span-19-2003"><a id="__codelineno-19-2003" name="__codelineno-19-2003" href="#__codelineno-19-2003"></a>metadata:
</span><span id="__span-19-2004"><a id="__codelineno-19-2004" name="__codelineno-19-2004" href="#__codelineno-19-2004"></a>  name: ipamconfigs.crd.projectcalico.org
</span><span id="__span-19-2005"><a id="__codelineno-19-2005" name="__codelineno-19-2005" href="#__codelineno-19-2005"></a>spec:
</span><span id="__span-19-2006"><a id="__codelineno-19-2006" name="__codelineno-19-2006" href="#__codelineno-19-2006"></a>  group: crd.projectcalico.org
</span><span id="__span-19-2007"><a id="__codelineno-19-2007" name="__codelineno-19-2007" href="#__codelineno-19-2007"></a>  names:
</span><span id="__span-19-2008"><a id="__codelineno-19-2008" name="__codelineno-19-2008" href="#__codelineno-19-2008"></a>    kind: IPAMConfig
</span><span id="__span-19-2009"><a id="__codelineno-19-2009" name="__codelineno-19-2009" href="#__codelineno-19-2009"></a>    listKind: IPAMConfigList
</span><span id="__span-19-2010"><a id="__codelineno-19-2010" name="__codelineno-19-2010" href="#__codelineno-19-2010"></a>    plural: ipamconfigs
</span><span id="__span-19-2011"><a id="__codelineno-19-2011" name="__codelineno-19-2011" href="#__codelineno-19-2011"></a>    singular: ipamconfig
</span><span id="__span-19-2012"><a id="__codelineno-19-2012" name="__codelineno-19-2012" href="#__codelineno-19-2012"></a>  scope: Cluster
</span><span id="__span-19-2013"><a id="__codelineno-19-2013" name="__codelineno-19-2013" href="#__codelineno-19-2013"></a>  versions:
</span><span id="__span-19-2014"><a id="__codelineno-19-2014" name="__codelineno-19-2014" href="#__codelineno-19-2014"></a>  - name: v1
</span><span id="__span-19-2015"><a id="__codelineno-19-2015" name="__codelineno-19-2015" href="#__codelineno-19-2015"></a>    schema:
</span><span id="__span-19-2016"><a id="__codelineno-19-2016" name="__codelineno-19-2016" href="#__codelineno-19-2016"></a>      openAPIV3Schema:
</span><span id="__span-19-2017"><a id="__codelineno-19-2017" name="__codelineno-19-2017" href="#__codelineno-19-2017"></a>        properties:
</span><span id="__span-19-2018"><a id="__codelineno-19-2018" name="__codelineno-19-2018" href="#__codelineno-19-2018"></a>          apiVersion:
</span><span id="__span-19-2019"><a id="__codelineno-19-2019" name="__codelineno-19-2019" href="#__codelineno-19-2019"></a>            description: &#39;APIVersion defines the versioned schema of this representation
</span><span id="__span-19-2020"><a id="__codelineno-19-2020" name="__codelineno-19-2020" href="#__codelineno-19-2020"></a>              of an object. Servers should convert recognized schemas to the latest
</span><span id="__span-19-2021"><a id="__codelineno-19-2021" name="__codelineno-19-2021" href="#__codelineno-19-2021"></a>              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#39;
</span><span id="__span-19-2022"><a id="__codelineno-19-2022" name="__codelineno-19-2022" href="#__codelineno-19-2022"></a>            type: string
</span><span id="__span-19-2023"><a id="__codelineno-19-2023" name="__codelineno-19-2023" href="#__codelineno-19-2023"></a>          kind:
</span><span id="__span-19-2024"><a id="__codelineno-19-2024" name="__codelineno-19-2024" href="#__codelineno-19-2024"></a>            description: &#39;Kind is a string value representing the REST resource this
</span><span id="__span-19-2025"><a id="__codelineno-19-2025" name="__codelineno-19-2025" href="#__codelineno-19-2025"></a>              object represents. Servers may infer this from the endpoint the client
</span><span id="__span-19-2026"><a id="__codelineno-19-2026" name="__codelineno-19-2026" href="#__codelineno-19-2026"></a>              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#39;
</span><span id="__span-19-2027"><a id="__codelineno-19-2027" name="__codelineno-19-2027" href="#__codelineno-19-2027"></a>            type: string
</span><span id="__span-19-2028"><a id="__codelineno-19-2028" name="__codelineno-19-2028" href="#__codelineno-19-2028"></a>          metadata:
</span><span id="__span-19-2029"><a id="__codelineno-19-2029" name="__codelineno-19-2029" href="#__codelineno-19-2029"></a>            type: object
</span><span id="__span-19-2030"><a id="__codelineno-19-2030" name="__codelineno-19-2030" href="#__codelineno-19-2030"></a>          spec:
</span><span id="__span-19-2031"><a id="__codelineno-19-2031" name="__codelineno-19-2031" href="#__codelineno-19-2031"></a>            description: IPAMConfigSpec contains the specification for an IPAMConfig
</span><span id="__span-19-2032"><a id="__codelineno-19-2032" name="__codelineno-19-2032" href="#__codelineno-19-2032"></a>              resource.
</span><span id="__span-19-2033"><a id="__codelineno-19-2033" name="__codelineno-19-2033" href="#__codelineno-19-2033"></a>            properties:
</span><span id="__span-19-2034"><a id="__codelineno-19-2034" name="__codelineno-19-2034" href="#__codelineno-19-2034"></a>              autoAllocateBlocks:
</span><span id="__span-19-2035"><a id="__codelineno-19-2035" name="__codelineno-19-2035" href="#__codelineno-19-2035"></a>                type: boolean
</span><span id="__span-19-2036"><a id="__codelineno-19-2036" name="__codelineno-19-2036" href="#__codelineno-19-2036"></a>              maxBlocksPerHost:
</span><span id="__span-19-2037"><a id="__codelineno-19-2037" name="__codelineno-19-2037" href="#__codelineno-19-2037"></a>                description: MaxBlocksPerHost, if non-zero, is the max number of blocks
</span><span id="__span-19-2038"><a id="__codelineno-19-2038" name="__codelineno-19-2038" href="#__codelineno-19-2038"></a>                  that can be affine to each host.
</span><span id="__span-19-2039"><a id="__codelineno-19-2039" name="__codelineno-19-2039" href="#__codelineno-19-2039"></a>                type: integer
</span><span id="__span-19-2040"><a id="__codelineno-19-2040" name="__codelineno-19-2040" href="#__codelineno-19-2040"></a>              strictAffinity:
</span><span id="__span-19-2041"><a id="__codelineno-19-2041" name="__codelineno-19-2041" href="#__codelineno-19-2041"></a>                type: boolean
</span><span id="__span-19-2042"><a id="__codelineno-19-2042" name="__codelineno-19-2042" href="#__codelineno-19-2042"></a>            required:
</span><span id="__span-19-2043"><a id="__codelineno-19-2043" name="__codelineno-19-2043" href="#__codelineno-19-2043"></a>            - autoAllocateBlocks
</span><span id="__span-19-2044"><a id="__codelineno-19-2044" name="__codelineno-19-2044" href="#__codelineno-19-2044"></a>            - strictAffinity
</span><span id="__span-19-2045"><a id="__codelineno-19-2045" name="__codelineno-19-2045" href="#__codelineno-19-2045"></a>            type: object
</span><span id="__span-19-2046"><a id="__codelineno-19-2046" name="__codelineno-19-2046" href="#__codelineno-19-2046"></a>        type: object
</span><span id="__span-19-2047"><a id="__codelineno-19-2047" name="__codelineno-19-2047" href="#__codelineno-19-2047"></a>    served: true
</span><span id="__span-19-2048"><a id="__codelineno-19-2048" name="__codelineno-19-2048" href="#__codelineno-19-2048"></a>    storage: true
</span><span id="__span-19-2049"><a id="__codelineno-19-2049" name="__codelineno-19-2049" href="#__codelineno-19-2049"></a>status:
</span><span id="__span-19-2050"><a id="__codelineno-19-2050" name="__codelineno-19-2050" href="#__codelineno-19-2050"></a>  acceptedNames:
</span><span id="__span-19-2051"><a id="__codelineno-19-2051" name="__codelineno-19-2051" href="#__codelineno-19-2051"></a>    kind: &quot;&quot;
</span><span id="__span-19-2052"><a id="__codelineno-19-2052" name="__codelineno-19-2052" href="#__codelineno-19-2052"></a>    plural: &quot;&quot;
</span><span id="__span-19-2053"><a id="__codelineno-19-2053" name="__codelineno-19-2053" href="#__codelineno-19-2053"></a>  conditions: []
</span><span id="__span-19-2054"><a id="__codelineno-19-2054" name="__codelineno-19-2054" href="#__codelineno-19-2054"></a>  storedVersions: []
</span><span id="__span-19-2055"><a id="__codelineno-19-2055" name="__codelineno-19-2055" href="#__codelineno-19-2055"></a>
</span><span id="__span-19-2056"><a id="__codelineno-19-2056" name="__codelineno-19-2056" href="#__codelineno-19-2056"></a>---
</span><span id="__span-19-2057"><a id="__codelineno-19-2057" name="__codelineno-19-2057" href="#__codelineno-19-2057"></a>apiVersion: apiextensions.k8s.io/v1
</span><span id="__span-19-2058"><a id="__codelineno-19-2058" name="__codelineno-19-2058" href="#__codelineno-19-2058"></a>kind: CustomResourceDefinition
</span><span id="__span-19-2059"><a id="__codelineno-19-2059" name="__codelineno-19-2059" href="#__codelineno-19-2059"></a>metadata:
</span><span id="__span-19-2060"><a id="__codelineno-19-2060" name="__codelineno-19-2060" href="#__codelineno-19-2060"></a>  name: ipamhandles.crd.projectcalico.org
</span><span id="__span-19-2061"><a id="__codelineno-19-2061" name="__codelineno-19-2061" href="#__codelineno-19-2061"></a>spec:
</span><span id="__span-19-2062"><a id="__codelineno-19-2062" name="__codelineno-19-2062" href="#__codelineno-19-2062"></a>  group: crd.projectcalico.org
</span><span id="__span-19-2063"><a id="__codelineno-19-2063" name="__codelineno-19-2063" href="#__codelineno-19-2063"></a>  names:
</span><span id="__span-19-2064"><a id="__codelineno-19-2064" name="__codelineno-19-2064" href="#__codelineno-19-2064"></a>    kind: IPAMHandle
</span><span id="__span-19-2065"><a id="__codelineno-19-2065" name="__codelineno-19-2065" href="#__codelineno-19-2065"></a>    listKind: IPAMHandleList
</span><span id="__span-19-2066"><a id="__codelineno-19-2066" name="__codelineno-19-2066" href="#__codelineno-19-2066"></a>    plural: ipamhandles
</span><span id="__span-19-2067"><a id="__codelineno-19-2067" name="__codelineno-19-2067" href="#__codelineno-19-2067"></a>    singular: ipamhandle
</span><span id="__span-19-2068"><a id="__codelineno-19-2068" name="__codelineno-19-2068" href="#__codelineno-19-2068"></a>  scope: Cluster
</span><span id="__span-19-2069"><a id="__codelineno-19-2069" name="__codelineno-19-2069" href="#__codelineno-19-2069"></a>  versions:
</span><span id="__span-19-2070"><a id="__codelineno-19-2070" name="__codelineno-19-2070" href="#__codelineno-19-2070"></a>  - name: v1
</span><span id="__span-19-2071"><a id="__codelineno-19-2071" name="__codelineno-19-2071" href="#__codelineno-19-2071"></a>    schema:
</span><span id="__span-19-2072"><a id="__codelineno-19-2072" name="__codelineno-19-2072" href="#__codelineno-19-2072"></a>      openAPIV3Schema:
</span><span id="__span-19-2073"><a id="__codelineno-19-2073" name="__codelineno-19-2073" href="#__codelineno-19-2073"></a>        properties:
</span><span id="__span-19-2074"><a id="__codelineno-19-2074" name="__codelineno-19-2074" href="#__codelineno-19-2074"></a>          apiVersion:
</span><span id="__span-19-2075"><a id="__codelineno-19-2075" name="__codelineno-19-2075" href="#__codelineno-19-2075"></a>            description: &#39;APIVersion defines the versioned schema of this representation
</span><span id="__span-19-2076"><a id="__codelineno-19-2076" name="__codelineno-19-2076" href="#__codelineno-19-2076"></a>              of an object. Servers should convert recognized schemas to the latest
</span><span id="__span-19-2077"><a id="__codelineno-19-2077" name="__codelineno-19-2077" href="#__codelineno-19-2077"></a>              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#39;
</span><span id="__span-19-2078"><a id="__codelineno-19-2078" name="__codelineno-19-2078" href="#__codelineno-19-2078"></a>            type: string
</span><span id="__span-19-2079"><a id="__codelineno-19-2079" name="__codelineno-19-2079" href="#__codelineno-19-2079"></a>          kind:
</span><span id="__span-19-2080"><a id="__codelineno-19-2080" name="__codelineno-19-2080" href="#__codelineno-19-2080"></a>            description: &#39;Kind is a string value representing the REST resource this
</span><span id="__span-19-2081"><a id="__codelineno-19-2081" name="__codelineno-19-2081" href="#__codelineno-19-2081"></a>              object represents. Servers may infer this from the endpoint the client
</span><span id="__span-19-2082"><a id="__codelineno-19-2082" name="__codelineno-19-2082" href="#__codelineno-19-2082"></a>              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#39;
</span><span id="__span-19-2083"><a id="__codelineno-19-2083" name="__codelineno-19-2083" href="#__codelineno-19-2083"></a>            type: string
</span><span id="__span-19-2084"><a id="__codelineno-19-2084" name="__codelineno-19-2084" href="#__codelineno-19-2084"></a>          metadata:
</span><span id="__span-19-2085"><a id="__codelineno-19-2085" name="__codelineno-19-2085" href="#__codelineno-19-2085"></a>            type: object
</span><span id="__span-19-2086"><a id="__codelineno-19-2086" name="__codelineno-19-2086" href="#__codelineno-19-2086"></a>          spec:
</span><span id="__span-19-2087"><a id="__codelineno-19-2087" name="__codelineno-19-2087" href="#__codelineno-19-2087"></a>            description: IPAMHandleSpec contains the specification for an IPAMHandle
</span><span id="__span-19-2088"><a id="__codelineno-19-2088" name="__codelineno-19-2088" href="#__codelineno-19-2088"></a>              resource.
</span><span id="__span-19-2089"><a id="__codelineno-19-2089" name="__codelineno-19-2089" href="#__codelineno-19-2089"></a>            properties:
</span><span id="__span-19-2090"><a id="__codelineno-19-2090" name="__codelineno-19-2090" href="#__codelineno-19-2090"></a>              block:
</span><span id="__span-19-2091"><a id="__codelineno-19-2091" name="__codelineno-19-2091" href="#__codelineno-19-2091"></a>                additionalProperties:
</span><span id="__span-19-2092"><a id="__codelineno-19-2092" name="__codelineno-19-2092" href="#__codelineno-19-2092"></a>                  type: integer
</span><span id="__span-19-2093"><a id="__codelineno-19-2093" name="__codelineno-19-2093" href="#__codelineno-19-2093"></a>                type: object
</span><span id="__span-19-2094"><a id="__codelineno-19-2094" name="__codelineno-19-2094" href="#__codelineno-19-2094"></a>              deleted:
</span><span id="__span-19-2095"><a id="__codelineno-19-2095" name="__codelineno-19-2095" href="#__codelineno-19-2095"></a>                type: boolean
</span><span id="__span-19-2096"><a id="__codelineno-19-2096" name="__codelineno-19-2096" href="#__codelineno-19-2096"></a>              handleID:
</span><span id="__span-19-2097"><a id="__codelineno-19-2097" name="__codelineno-19-2097" href="#__codelineno-19-2097"></a>                type: string
</span><span id="__span-19-2098"><a id="__codelineno-19-2098" name="__codelineno-19-2098" href="#__codelineno-19-2098"></a>            required:
</span><span id="__span-19-2099"><a id="__codelineno-19-2099" name="__codelineno-19-2099" href="#__codelineno-19-2099"></a>            - block
</span><span id="__span-19-2100"><a id="__codelineno-19-2100" name="__codelineno-19-2100" href="#__codelineno-19-2100"></a>            - handleID
</span><span id="__span-19-2101"><a id="__codelineno-19-2101" name="__codelineno-19-2101" href="#__codelineno-19-2101"></a>            type: object
</span><span id="__span-19-2102"><a id="__codelineno-19-2102" name="__codelineno-19-2102" href="#__codelineno-19-2102"></a>        type: object
</span><span id="__span-19-2103"><a id="__codelineno-19-2103" name="__codelineno-19-2103" href="#__codelineno-19-2103"></a>    served: true
</span><span id="__span-19-2104"><a id="__codelineno-19-2104" name="__codelineno-19-2104" href="#__codelineno-19-2104"></a>    storage: true
</span><span id="__span-19-2105"><a id="__codelineno-19-2105" name="__codelineno-19-2105" href="#__codelineno-19-2105"></a>status:
</span><span id="__span-19-2106"><a id="__codelineno-19-2106" name="__codelineno-19-2106" href="#__codelineno-19-2106"></a>  acceptedNames:
</span><span id="__span-19-2107"><a id="__codelineno-19-2107" name="__codelineno-19-2107" href="#__codelineno-19-2107"></a>    kind: &quot;&quot;
</span><span id="__span-19-2108"><a id="__codelineno-19-2108" name="__codelineno-19-2108" href="#__codelineno-19-2108"></a>    plural: &quot;&quot;
</span><span id="__span-19-2109"><a id="__codelineno-19-2109" name="__codelineno-19-2109" href="#__codelineno-19-2109"></a>  conditions: []
</span><span id="__span-19-2110"><a id="__codelineno-19-2110" name="__codelineno-19-2110" href="#__codelineno-19-2110"></a>  storedVersions: []
</span><span id="__span-19-2111"><a id="__codelineno-19-2111" name="__codelineno-19-2111" href="#__codelineno-19-2111"></a>
</span><span id="__span-19-2112"><a id="__codelineno-19-2112" name="__codelineno-19-2112" href="#__codelineno-19-2112"></a>---
</span><span id="__span-19-2113"><a id="__codelineno-19-2113" name="__codelineno-19-2113" href="#__codelineno-19-2113"></a>apiVersion: apiextensions.k8s.io/v1
</span><span id="__span-19-2114"><a id="__codelineno-19-2114" name="__codelineno-19-2114" href="#__codelineno-19-2114"></a>kind: CustomResourceDefinition
</span><span id="__span-19-2115"><a id="__codelineno-19-2115" name="__codelineno-19-2115" href="#__codelineno-19-2115"></a>metadata:
</span><span id="__span-19-2116"><a id="__codelineno-19-2116" name="__codelineno-19-2116" href="#__codelineno-19-2116"></a>  name: ippools.crd.projectcalico.org
</span><span id="__span-19-2117"><a id="__codelineno-19-2117" name="__codelineno-19-2117" href="#__codelineno-19-2117"></a>spec:
</span><span id="__span-19-2118"><a id="__codelineno-19-2118" name="__codelineno-19-2118" href="#__codelineno-19-2118"></a>  group: crd.projectcalico.org
</span><span id="__span-19-2119"><a id="__codelineno-19-2119" name="__codelineno-19-2119" href="#__codelineno-19-2119"></a>  names:
</span><span id="__span-19-2120"><a id="__codelineno-19-2120" name="__codelineno-19-2120" href="#__codelineno-19-2120"></a>    kind: IPPool
</span><span id="__span-19-2121"><a id="__codelineno-19-2121" name="__codelineno-19-2121" href="#__codelineno-19-2121"></a>    listKind: IPPoolList
</span><span id="__span-19-2122"><a id="__codelineno-19-2122" name="__codelineno-19-2122" href="#__codelineno-19-2122"></a>    plural: ippools
</span><span id="__span-19-2123"><a id="__codelineno-19-2123" name="__codelineno-19-2123" href="#__codelineno-19-2123"></a>    singular: ippool
</span><span id="__span-19-2124"><a id="__codelineno-19-2124" name="__codelineno-19-2124" href="#__codelineno-19-2124"></a>  scope: Cluster
</span><span id="__span-19-2125"><a id="__codelineno-19-2125" name="__codelineno-19-2125" href="#__codelineno-19-2125"></a>  versions:
</span><span id="__span-19-2126"><a id="__codelineno-19-2126" name="__codelineno-19-2126" href="#__codelineno-19-2126"></a>  - name: v1
</span><span id="__span-19-2127"><a id="__codelineno-19-2127" name="__codelineno-19-2127" href="#__codelineno-19-2127"></a>    schema:
</span><span id="__span-19-2128"><a id="__codelineno-19-2128" name="__codelineno-19-2128" href="#__codelineno-19-2128"></a>      openAPIV3Schema:
</span><span id="__span-19-2129"><a id="__codelineno-19-2129" name="__codelineno-19-2129" href="#__codelineno-19-2129"></a>        properties:
</span><span id="__span-19-2130"><a id="__codelineno-19-2130" name="__codelineno-19-2130" href="#__codelineno-19-2130"></a>          apiVersion:
</span><span id="__span-19-2131"><a id="__codelineno-19-2131" name="__codelineno-19-2131" href="#__codelineno-19-2131"></a>            description: &#39;APIVersion defines the versioned schema of this representation
</span><span id="__span-19-2132"><a id="__codelineno-19-2132" name="__codelineno-19-2132" href="#__codelineno-19-2132"></a>              of an object. Servers should convert recognized schemas to the latest
</span><span id="__span-19-2133"><a id="__codelineno-19-2133" name="__codelineno-19-2133" href="#__codelineno-19-2133"></a>              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#39;
</span><span id="__span-19-2134"><a id="__codelineno-19-2134" name="__codelineno-19-2134" href="#__codelineno-19-2134"></a>            type: string
</span><span id="__span-19-2135"><a id="__codelineno-19-2135" name="__codelineno-19-2135" href="#__codelineno-19-2135"></a>          kind:
</span><span id="__span-19-2136"><a id="__codelineno-19-2136" name="__codelineno-19-2136" href="#__codelineno-19-2136"></a>            description: &#39;Kind is a string value representing the REST resource this
</span><span id="__span-19-2137"><a id="__codelineno-19-2137" name="__codelineno-19-2137" href="#__codelineno-19-2137"></a>              object represents. Servers may infer this from the endpoint the client
</span><span id="__span-19-2138"><a id="__codelineno-19-2138" name="__codelineno-19-2138" href="#__codelineno-19-2138"></a>              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#39;
</span><span id="__span-19-2139"><a id="__codelineno-19-2139" name="__codelineno-19-2139" href="#__codelineno-19-2139"></a>            type: string
</span><span id="__span-19-2140"><a id="__codelineno-19-2140" name="__codelineno-19-2140" href="#__codelineno-19-2140"></a>          metadata:
</span><span id="__span-19-2141"><a id="__codelineno-19-2141" name="__codelineno-19-2141" href="#__codelineno-19-2141"></a>            type: object
</span><span id="__span-19-2142"><a id="__codelineno-19-2142" name="__codelineno-19-2142" href="#__codelineno-19-2142"></a>          spec:
</span><span id="__span-19-2143"><a id="__codelineno-19-2143" name="__codelineno-19-2143" href="#__codelineno-19-2143"></a>            description: IPPoolSpec contains the specification for an IPPool resource.
</span><span id="__span-19-2144"><a id="__codelineno-19-2144" name="__codelineno-19-2144" href="#__codelineno-19-2144"></a>            properties:
</span><span id="__span-19-2145"><a id="__codelineno-19-2145" name="__codelineno-19-2145" href="#__codelineno-19-2145"></a>              blockSize:
</span><span id="__span-19-2146"><a id="__codelineno-19-2146" name="__codelineno-19-2146" href="#__codelineno-19-2146"></a>                description: The block size to use for IP address assignments from
</span><span id="__span-19-2147"><a id="__codelineno-19-2147" name="__codelineno-19-2147" href="#__codelineno-19-2147"></a>                  this pool. Defaults to 26 for IPv4 and 112 for IPv6.
</span><span id="__span-19-2148"><a id="__codelineno-19-2148" name="__codelineno-19-2148" href="#__codelineno-19-2148"></a>                type: integer
</span><span id="__span-19-2149"><a id="__codelineno-19-2149" name="__codelineno-19-2149" href="#__codelineno-19-2149"></a>              cidr:
</span><span id="__span-19-2150"><a id="__codelineno-19-2150" name="__codelineno-19-2150" href="#__codelineno-19-2150"></a>                description: The pool CIDR.
</span><span id="__span-19-2151"><a id="__codelineno-19-2151" name="__codelineno-19-2151" href="#__codelineno-19-2151"></a>                type: string
</span><span id="__span-19-2152"><a id="__codelineno-19-2152" name="__codelineno-19-2152" href="#__codelineno-19-2152"></a>              disabled:
</span><span id="__span-19-2153"><a id="__codelineno-19-2153" name="__codelineno-19-2153" href="#__codelineno-19-2153"></a>                description: When disabled is true, Calico IPAM will not assign addresses
</span><span id="__span-19-2154"><a id="__codelineno-19-2154" name="__codelineno-19-2154" href="#__codelineno-19-2154"></a>                  from this pool.
</span><span id="__span-19-2155"><a id="__codelineno-19-2155" name="__codelineno-19-2155" href="#__codelineno-19-2155"></a>                type: boolean
</span><span id="__span-19-2156"><a id="__codelineno-19-2156" name="__codelineno-19-2156" href="#__codelineno-19-2156"></a>              ipip:
</span><span id="__span-19-2157"><a id="__codelineno-19-2157" name="__codelineno-19-2157" href="#__codelineno-19-2157"></a>                description: &#39;Deprecated: this field is only used for APIv1 backwards
</span><span id="__span-19-2158"><a id="__codelineno-19-2158" name="__codelineno-19-2158" href="#__codelineno-19-2158"></a>                  compatibility. Setting this field is not allowed, this field is
</span><span id="__span-19-2159"><a id="__codelineno-19-2159" name="__codelineno-19-2159" href="#__codelineno-19-2159"></a>                  for internal use only.&#39;
</span><span id="__span-19-2160"><a id="__codelineno-19-2160" name="__codelineno-19-2160" href="#__codelineno-19-2160"></a>                properties:
</span><span id="__span-19-2161"><a id="__codelineno-19-2161" name="__codelineno-19-2161" href="#__codelineno-19-2161"></a>                  enabled:
</span><span id="__span-19-2162"><a id="__codelineno-19-2162" name="__codelineno-19-2162" href="#__codelineno-19-2162"></a>                    description: When enabled is true, ipip tunneling will be used
</span><span id="__span-19-2163"><a id="__codelineno-19-2163" name="__codelineno-19-2163" href="#__codelineno-19-2163"></a>                      to deliver packets to destinations within this pool.
</span><span id="__span-19-2164"><a id="__codelineno-19-2164" name="__codelineno-19-2164" href="#__codelineno-19-2164"></a>                    type: boolean
</span><span id="__span-19-2165"><a id="__codelineno-19-2165" name="__codelineno-19-2165" href="#__codelineno-19-2165"></a>                  mode:
</span><span id="__span-19-2166"><a id="__codelineno-19-2166" name="__codelineno-19-2166" href="#__codelineno-19-2166"></a>                    description: The IPIP mode.  This can be one of &quot;always&quot; or &quot;cross-subnet&quot;.  A
</span><span id="__span-19-2167"><a id="__codelineno-19-2167" name="__codelineno-19-2167" href="#__codelineno-19-2167"></a>                      mode of &quot;always&quot; will also use IPIP tunneling for routing to
</span><span id="__span-19-2168"><a id="__codelineno-19-2168" name="__codelineno-19-2168" href="#__codelineno-19-2168"></a>                      destination IP addresses within this pool.  A mode of &quot;cross-subnet&quot;
</span><span id="__span-19-2169"><a id="__codelineno-19-2169" name="__codelineno-19-2169" href="#__codelineno-19-2169"></a>                      will only use IPIP tunneling when the destination node is on
</span><span id="__span-19-2170"><a id="__codelineno-19-2170" name="__codelineno-19-2170" href="#__codelineno-19-2170"></a>                      a different subnet to the originating node.  The default value
</span><span id="__span-19-2171"><a id="__codelineno-19-2171" name="__codelineno-19-2171" href="#__codelineno-19-2171"></a>                      (if not specified) is &quot;always&quot;.
</span><span id="__span-19-2172"><a id="__codelineno-19-2172" name="__codelineno-19-2172" href="#__codelineno-19-2172"></a>                    type: string
</span><span id="__span-19-2173"><a id="__codelineno-19-2173" name="__codelineno-19-2173" href="#__codelineno-19-2173"></a>                type: object
</span><span id="__span-19-2174"><a id="__codelineno-19-2174" name="__codelineno-19-2174" href="#__codelineno-19-2174"></a>              ipipMode:
</span><span id="__span-19-2175"><a id="__codelineno-19-2175" name="__codelineno-19-2175" href="#__codelineno-19-2175"></a>                description: Contains configuration for IPIP tunneling for this pool.
</span><span id="__span-19-2176"><a id="__codelineno-19-2176" name="__codelineno-19-2176" href="#__codelineno-19-2176"></a>                  If not specified, then this is defaulted to &quot;Never&quot; (i.e. IPIP tunneling
</span><span id="__span-19-2177"><a id="__codelineno-19-2177" name="__codelineno-19-2177" href="#__codelineno-19-2177"></a>                  is disabled).
</span><span id="__span-19-2178"><a id="__codelineno-19-2178" name="__codelineno-19-2178" href="#__codelineno-19-2178"></a>                type: string
</span><span id="__span-19-2179"><a id="__codelineno-19-2179" name="__codelineno-19-2179" href="#__codelineno-19-2179"></a>              nat-outgoing:
</span><span id="__span-19-2180"><a id="__codelineno-19-2180" name="__codelineno-19-2180" href="#__codelineno-19-2180"></a>                description: &#39;Deprecated: this field is only used for APIv1 backwards
</span><span id="__span-19-2181"><a id="__codelineno-19-2181" name="__codelineno-19-2181" href="#__codelineno-19-2181"></a>                  compatibility. Setting this field is not allowed, this field is
</span><span id="__span-19-2182"><a id="__codelineno-19-2182" name="__codelineno-19-2182" href="#__codelineno-19-2182"></a>                  for internal use only.&#39;
</span><span id="__span-19-2183"><a id="__codelineno-19-2183" name="__codelineno-19-2183" href="#__codelineno-19-2183"></a>                type: boolean
</span><span id="__span-19-2184"><a id="__codelineno-19-2184" name="__codelineno-19-2184" href="#__codelineno-19-2184"></a>              natOutgoing:
</span><span id="__span-19-2185"><a id="__codelineno-19-2185" name="__codelineno-19-2185" href="#__codelineno-19-2185"></a>                description: When nat-outgoing is true, packets sent from Calico networked
</span><span id="__span-19-2186"><a id="__codelineno-19-2186" name="__codelineno-19-2186" href="#__codelineno-19-2186"></a>                  containers in this pool to destinations outside of this pool will
</span><span id="__span-19-2187"><a id="__codelineno-19-2187" name="__codelineno-19-2187" href="#__codelineno-19-2187"></a>                  be masqueraded.
</span><span id="__span-19-2188"><a id="__codelineno-19-2188" name="__codelineno-19-2188" href="#__codelineno-19-2188"></a>                type: boolean
</span><span id="__span-19-2189"><a id="__codelineno-19-2189" name="__codelineno-19-2189" href="#__codelineno-19-2189"></a>              nodeSelector:
</span><span id="__span-19-2190"><a id="__codelineno-19-2190" name="__codelineno-19-2190" href="#__codelineno-19-2190"></a>                description: Allows IPPool to allocate for a specific node by label
</span><span id="__span-19-2191"><a id="__codelineno-19-2191" name="__codelineno-19-2191" href="#__codelineno-19-2191"></a>                  selector.
</span><span id="__span-19-2192"><a id="__codelineno-19-2192" name="__codelineno-19-2192" href="#__codelineno-19-2192"></a>                type: string
</span><span id="__span-19-2193"><a id="__codelineno-19-2193" name="__codelineno-19-2193" href="#__codelineno-19-2193"></a>              vxlanMode:
</span><span id="__span-19-2194"><a id="__codelineno-19-2194" name="__codelineno-19-2194" href="#__codelineno-19-2194"></a>                description: Contains configuration for VXLAN tunneling for this pool.
</span><span id="__span-19-2195"><a id="__codelineno-19-2195" name="__codelineno-19-2195" href="#__codelineno-19-2195"></a>                  If not specified, then this is defaulted to &quot;Never&quot; (i.e. VXLAN
</span><span id="__span-19-2196"><a id="__codelineno-19-2196" name="__codelineno-19-2196" href="#__codelineno-19-2196"></a>                  tunneling is disabled).
</span><span id="__span-19-2197"><a id="__codelineno-19-2197" name="__codelineno-19-2197" href="#__codelineno-19-2197"></a>                type: string
</span><span id="__span-19-2198"><a id="__codelineno-19-2198" name="__codelineno-19-2198" href="#__codelineno-19-2198"></a>            required:
</span><span id="__span-19-2199"><a id="__codelineno-19-2199" name="__codelineno-19-2199" href="#__codelineno-19-2199"></a>            - cidr
</span><span id="__span-19-2200"><a id="__codelineno-19-2200" name="__codelineno-19-2200" href="#__codelineno-19-2200"></a>            type: object
</span><span id="__span-19-2201"><a id="__codelineno-19-2201" name="__codelineno-19-2201" href="#__codelineno-19-2201"></a>        type: object
</span><span id="__span-19-2202"><a id="__codelineno-19-2202" name="__codelineno-19-2202" href="#__codelineno-19-2202"></a>    served: true
</span><span id="__span-19-2203"><a id="__codelineno-19-2203" name="__codelineno-19-2203" href="#__codelineno-19-2203"></a>    storage: true
</span><span id="__span-19-2204"><a id="__codelineno-19-2204" name="__codelineno-19-2204" href="#__codelineno-19-2204"></a>status:
</span><span id="__span-19-2205"><a id="__codelineno-19-2205" name="__codelineno-19-2205" href="#__codelineno-19-2205"></a>  acceptedNames:
</span><span id="__span-19-2206"><a id="__codelineno-19-2206" name="__codelineno-19-2206" href="#__codelineno-19-2206"></a>    kind: &quot;&quot;
</span><span id="__span-19-2207"><a id="__codelineno-19-2207" name="__codelineno-19-2207" href="#__codelineno-19-2207"></a>    plural: &quot;&quot;
</span><span id="__span-19-2208"><a id="__codelineno-19-2208" name="__codelineno-19-2208" href="#__codelineno-19-2208"></a>  conditions: []
</span><span id="__span-19-2209"><a id="__codelineno-19-2209" name="__codelineno-19-2209" href="#__codelineno-19-2209"></a>  storedVersions: []
</span><span id="__span-19-2210"><a id="__codelineno-19-2210" name="__codelineno-19-2210" href="#__codelineno-19-2210"></a>
</span><span id="__span-19-2211"><a id="__codelineno-19-2211" name="__codelineno-19-2211" href="#__codelineno-19-2211"></a>---
</span><span id="__span-19-2212"><a id="__codelineno-19-2212" name="__codelineno-19-2212" href="#__codelineno-19-2212"></a>apiVersion: apiextensions.k8s.io/v1
</span><span id="__span-19-2213"><a id="__codelineno-19-2213" name="__codelineno-19-2213" href="#__codelineno-19-2213"></a>kind: CustomResourceDefinition
</span><span id="__span-19-2214"><a id="__codelineno-19-2214" name="__codelineno-19-2214" href="#__codelineno-19-2214"></a>metadata:
</span><span id="__span-19-2215"><a id="__codelineno-19-2215" name="__codelineno-19-2215" href="#__codelineno-19-2215"></a>  name: kubecontrollersconfigurations.crd.projectcalico.org
</span><span id="__span-19-2216"><a id="__codelineno-19-2216" name="__codelineno-19-2216" href="#__codelineno-19-2216"></a>spec:
</span><span id="__span-19-2217"><a id="__codelineno-19-2217" name="__codelineno-19-2217" href="#__codelineno-19-2217"></a>  group: crd.projectcalico.org
</span><span id="__span-19-2218"><a id="__codelineno-19-2218" name="__codelineno-19-2218" href="#__codelineno-19-2218"></a>  names:
</span><span id="__span-19-2219"><a id="__codelineno-19-2219" name="__codelineno-19-2219" href="#__codelineno-19-2219"></a>    kind: KubeControllersConfiguration
</span><span id="__span-19-2220"><a id="__codelineno-19-2220" name="__codelineno-19-2220" href="#__codelineno-19-2220"></a>    listKind: KubeControllersConfigurationList
</span><span id="__span-19-2221"><a id="__codelineno-19-2221" name="__codelineno-19-2221" href="#__codelineno-19-2221"></a>    plural: kubecontrollersconfigurations
</span><span id="__span-19-2222"><a id="__codelineno-19-2222" name="__codelineno-19-2222" href="#__codelineno-19-2222"></a>    singular: kubecontrollersconfiguration
</span><span id="__span-19-2223"><a id="__codelineno-19-2223" name="__codelineno-19-2223" href="#__codelineno-19-2223"></a>  scope: Cluster
</span><span id="__span-19-2224"><a id="__codelineno-19-2224" name="__codelineno-19-2224" href="#__codelineno-19-2224"></a>  versions:
</span><span id="__span-19-2225"><a id="__codelineno-19-2225" name="__codelineno-19-2225" href="#__codelineno-19-2225"></a>  - name: v1
</span><span id="__span-19-2226"><a id="__codelineno-19-2226" name="__codelineno-19-2226" href="#__codelineno-19-2226"></a>    schema:
</span><span id="__span-19-2227"><a id="__codelineno-19-2227" name="__codelineno-19-2227" href="#__codelineno-19-2227"></a>      openAPIV3Schema:
</span><span id="__span-19-2228"><a id="__codelineno-19-2228" name="__codelineno-19-2228" href="#__codelineno-19-2228"></a>        properties:
</span><span id="__span-19-2229"><a id="__codelineno-19-2229" name="__codelineno-19-2229" href="#__codelineno-19-2229"></a>          apiVersion:
</span><span id="__span-19-2230"><a id="__codelineno-19-2230" name="__codelineno-19-2230" href="#__codelineno-19-2230"></a>            description: &#39;APIVersion defines the versioned schema of this representation
</span><span id="__span-19-2231"><a id="__codelineno-19-2231" name="__codelineno-19-2231" href="#__codelineno-19-2231"></a>              of an object. Servers should convert recognized schemas to the latest
</span><span id="__span-19-2232"><a id="__codelineno-19-2232" name="__codelineno-19-2232" href="#__codelineno-19-2232"></a>              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#39;
</span><span id="__span-19-2233"><a id="__codelineno-19-2233" name="__codelineno-19-2233" href="#__codelineno-19-2233"></a>            type: string
</span><span id="__span-19-2234"><a id="__codelineno-19-2234" name="__codelineno-19-2234" href="#__codelineno-19-2234"></a>          kind:
</span><span id="__span-19-2235"><a id="__codelineno-19-2235" name="__codelineno-19-2235" href="#__codelineno-19-2235"></a>            description: &#39;Kind is a string value representing the REST resource this
</span><span id="__span-19-2236"><a id="__codelineno-19-2236" name="__codelineno-19-2236" href="#__codelineno-19-2236"></a>              object represents. Servers may infer this from the endpoint the client
</span><span id="__span-19-2237"><a id="__codelineno-19-2237" name="__codelineno-19-2237" href="#__codelineno-19-2237"></a>              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#39;
</span><span id="__span-19-2238"><a id="__codelineno-19-2238" name="__codelineno-19-2238" href="#__codelineno-19-2238"></a>            type: string
</span><span id="__span-19-2239"><a id="__codelineno-19-2239" name="__codelineno-19-2239" href="#__codelineno-19-2239"></a>          metadata:
</span><span id="__span-19-2240"><a id="__codelineno-19-2240" name="__codelineno-19-2240" href="#__codelineno-19-2240"></a>            type: object
</span><span id="__span-19-2241"><a id="__codelineno-19-2241" name="__codelineno-19-2241" href="#__codelineno-19-2241"></a>          spec:
</span><span id="__span-19-2242"><a id="__codelineno-19-2242" name="__codelineno-19-2242" href="#__codelineno-19-2242"></a>            description: KubeControllersConfigurationSpec contains the values of the
</span><span id="__span-19-2243"><a id="__codelineno-19-2243" name="__codelineno-19-2243" href="#__codelineno-19-2243"></a>              Kubernetes controllers configuration.
</span><span id="__span-19-2244"><a id="__codelineno-19-2244" name="__codelineno-19-2244" href="#__codelineno-19-2244"></a>            properties:
</span><span id="__span-19-2245"><a id="__codelineno-19-2245" name="__codelineno-19-2245" href="#__codelineno-19-2245"></a>              controllers:
</span><span id="__span-19-2246"><a id="__codelineno-19-2246" name="__codelineno-19-2246" href="#__codelineno-19-2246"></a>                description: Controllers enables and configures individual Kubernetes
</span><span id="__span-19-2247"><a id="__codelineno-19-2247" name="__codelineno-19-2247" href="#__codelineno-19-2247"></a>                  controllers
</span><span id="__span-19-2248"><a id="__codelineno-19-2248" name="__codelineno-19-2248" href="#__codelineno-19-2248"></a>                properties:
</span><span id="__span-19-2249"><a id="__codelineno-19-2249" name="__codelineno-19-2249" href="#__codelineno-19-2249"></a>                  namespace:
</span><span id="__span-19-2250"><a id="__codelineno-19-2250" name="__codelineno-19-2250" href="#__codelineno-19-2250"></a>                    description: Namespace enables and configures the namespace controller.
</span><span id="__span-19-2251"><a id="__codelineno-19-2251" name="__codelineno-19-2251" href="#__codelineno-19-2251"></a>                      Enabled by default, set to nil to disable.
</span><span id="__span-19-2252"><a id="__codelineno-19-2252" name="__codelineno-19-2252" href="#__codelineno-19-2252"></a>                    properties:
</span><span id="__span-19-2253"><a id="__codelineno-19-2253" name="__codelineno-19-2253" href="#__codelineno-19-2253"></a>                      reconcilerPeriod:
</span><span id="__span-19-2254"><a id="__codelineno-19-2254" name="__codelineno-19-2254" href="#__codelineno-19-2254"></a>                        description: &#39;ReconcilerPeriod is the period to perform reconciliation
</span><span id="__span-19-2255"><a id="__codelineno-19-2255" name="__codelineno-19-2255" href="#__codelineno-19-2255"></a>                          with the Calico datastore. [Default: 5m]&#39;
</span><span id="__span-19-2256"><a id="__codelineno-19-2256" name="__codelineno-19-2256" href="#__codelineno-19-2256"></a>                        type: string
</span><span id="__span-19-2257"><a id="__codelineno-19-2257" name="__codelineno-19-2257" href="#__codelineno-19-2257"></a>                    type: object
</span><span id="__span-19-2258"><a id="__codelineno-19-2258" name="__codelineno-19-2258" href="#__codelineno-19-2258"></a>                  node:
</span><span id="__span-19-2259"><a id="__codelineno-19-2259" name="__codelineno-19-2259" href="#__codelineno-19-2259"></a>                    description: Node enables and configures the node controller.
</span><span id="__span-19-2260"><a id="__codelineno-19-2260" name="__codelineno-19-2260" href="#__codelineno-19-2260"></a>                      Enabled by default, set to nil to disable.
</span><span id="__span-19-2261"><a id="__codelineno-19-2261" name="__codelineno-19-2261" href="#__codelineno-19-2261"></a>                    properties:
</span><span id="__span-19-2262"><a id="__codelineno-19-2262" name="__codelineno-19-2262" href="#__codelineno-19-2262"></a>                      hostEndpoint:
</span><span id="__span-19-2263"><a id="__codelineno-19-2263" name="__codelineno-19-2263" href="#__codelineno-19-2263"></a>                        description: HostEndpoint controls syncing nodes to host endpoints.
</span><span id="__span-19-2264"><a id="__codelineno-19-2264" name="__codelineno-19-2264" href="#__codelineno-19-2264"></a>                          Disabled by default, set to nil to disable.
</span><span id="__span-19-2265"><a id="__codelineno-19-2265" name="__codelineno-19-2265" href="#__codelineno-19-2265"></a>                        properties:
</span><span id="__span-19-2266"><a id="__codelineno-19-2266" name="__codelineno-19-2266" href="#__codelineno-19-2266"></a>                          autoCreate:
</span><span id="__span-19-2267"><a id="__codelineno-19-2267" name="__codelineno-19-2267" href="#__codelineno-19-2267"></a>                            description: &#39;AutoCreate enables automatic creation of
</span><span id="__span-19-2268"><a id="__codelineno-19-2268" name="__codelineno-19-2268" href="#__codelineno-19-2268"></a>                              host endpoints for every node. [Default: Disabled]&#39;
</span><span id="__span-19-2269"><a id="__codelineno-19-2269" name="__codelineno-19-2269" href="#__codelineno-19-2269"></a>                            type: string
</span><span id="__span-19-2270"><a id="__codelineno-19-2270" name="__codelineno-19-2270" href="#__codelineno-19-2270"></a>                        type: object
</span><span id="__span-19-2271"><a id="__codelineno-19-2271" name="__codelineno-19-2271" href="#__codelineno-19-2271"></a>                      reconcilerPeriod:
</span><span id="__span-19-2272"><a id="__codelineno-19-2272" name="__codelineno-19-2272" href="#__codelineno-19-2272"></a>                        description: &#39;ReconcilerPeriod is the period to perform reconciliation
</span><span id="__span-19-2273"><a id="__codelineno-19-2273" name="__codelineno-19-2273" href="#__codelineno-19-2273"></a>                          with the Calico datastore. [Default: 5m]&#39;
</span><span id="__span-19-2274"><a id="__codelineno-19-2274" name="__codelineno-19-2274" href="#__codelineno-19-2274"></a>                        type: string
</span><span id="__span-19-2275"><a id="__codelineno-19-2275" name="__codelineno-19-2275" href="#__codelineno-19-2275"></a>                      syncLabels:
</span><span id="__span-19-2276"><a id="__codelineno-19-2276" name="__codelineno-19-2276" href="#__codelineno-19-2276"></a>                        description: &#39;SyncLabels controls whether to copy Kubernetes
</span><span id="__span-19-2277"><a id="__codelineno-19-2277" name="__codelineno-19-2277" href="#__codelineno-19-2277"></a>                          node labels to Calico nodes. [Default: Enabled]&#39;
</span><span id="__span-19-2278"><a id="__codelineno-19-2278" name="__codelineno-19-2278" href="#__codelineno-19-2278"></a>                        type: string
</span><span id="__span-19-2279"><a id="__codelineno-19-2279" name="__codelineno-19-2279" href="#__codelineno-19-2279"></a>                    type: object
</span><span id="__span-19-2280"><a id="__codelineno-19-2280" name="__codelineno-19-2280" href="#__codelineno-19-2280"></a>                  policy:
</span><span id="__span-19-2281"><a id="__codelineno-19-2281" name="__codelineno-19-2281" href="#__codelineno-19-2281"></a>                    description: Policy enables and configures the policy controller.
</span><span id="__span-19-2282"><a id="__codelineno-19-2282" name="__codelineno-19-2282" href="#__codelineno-19-2282"></a>                      Enabled by default, set to nil to disable.
</span><span id="__span-19-2283"><a id="__codelineno-19-2283" name="__codelineno-19-2283" href="#__codelineno-19-2283"></a>                    properties:
</span><span id="__span-19-2284"><a id="__codelineno-19-2284" name="__codelineno-19-2284" href="#__codelineno-19-2284"></a>                      reconcilerPeriod:
</span><span id="__span-19-2285"><a id="__codelineno-19-2285" name="__codelineno-19-2285" href="#__codelineno-19-2285"></a>                        description: &#39;ReconcilerPeriod is the period to perform reconciliation
</span><span id="__span-19-2286"><a id="__codelineno-19-2286" name="__codelineno-19-2286" href="#__codelineno-19-2286"></a>                          with the Calico datastore. [Default: 5m]&#39;
</span><span id="__span-19-2287"><a id="__codelineno-19-2287" name="__codelineno-19-2287" href="#__codelineno-19-2287"></a>                        type: string
</span><span id="__span-19-2288"><a id="__codelineno-19-2288" name="__codelineno-19-2288" href="#__codelineno-19-2288"></a>                    type: object
</span><span id="__span-19-2289"><a id="__codelineno-19-2289" name="__codelineno-19-2289" href="#__codelineno-19-2289"></a>                  serviceAccount:
</span><span id="__span-19-2290"><a id="__codelineno-19-2290" name="__codelineno-19-2290" href="#__codelineno-19-2290"></a>                    description: ServiceAccount enables and configures the service
</span><span id="__span-19-2291"><a id="__codelineno-19-2291" name="__codelineno-19-2291" href="#__codelineno-19-2291"></a>                      account controller. Enabled by default, set to nil to disable.
</span><span id="__span-19-2292"><a id="__codelineno-19-2292" name="__codelineno-19-2292" href="#__codelineno-19-2292"></a>                    properties:
</span><span id="__span-19-2293"><a id="__codelineno-19-2293" name="__codelineno-19-2293" href="#__codelineno-19-2293"></a>                      reconcilerPeriod:
</span><span id="__span-19-2294"><a id="__codelineno-19-2294" name="__codelineno-19-2294" href="#__codelineno-19-2294"></a>                        description: &#39;ReconcilerPeriod is the period to perform reconciliation
</span><span id="__span-19-2295"><a id="__codelineno-19-2295" name="__codelineno-19-2295" href="#__codelineno-19-2295"></a>                          with the Calico datastore. [Default: 5m]&#39;
</span><span id="__span-19-2296"><a id="__codelineno-19-2296" name="__codelineno-19-2296" href="#__codelineno-19-2296"></a>                        type: string
</span><span id="__span-19-2297"><a id="__codelineno-19-2297" name="__codelineno-19-2297" href="#__codelineno-19-2297"></a>                    type: object
</span><span id="__span-19-2298"><a id="__codelineno-19-2298" name="__codelineno-19-2298" href="#__codelineno-19-2298"></a>                  workloadEndpoint:
</span><span id="__span-19-2299"><a id="__codelineno-19-2299" name="__codelineno-19-2299" href="#__codelineno-19-2299"></a>                    description: WorkloadEndpoint enables and configures the workload
</span><span id="__span-19-2300"><a id="__codelineno-19-2300" name="__codelineno-19-2300" href="#__codelineno-19-2300"></a>                      endpoint controller. Enabled by default, set to nil to disable.
</span><span id="__span-19-2301"><a id="__codelineno-19-2301" name="__codelineno-19-2301" href="#__codelineno-19-2301"></a>                    properties:
</span><span id="__span-19-2302"><a id="__codelineno-19-2302" name="__codelineno-19-2302" href="#__codelineno-19-2302"></a>                      reconcilerPeriod:
</span><span id="__span-19-2303"><a id="__codelineno-19-2303" name="__codelineno-19-2303" href="#__codelineno-19-2303"></a>                        description: &#39;ReconcilerPeriod is the period to perform reconciliation
</span><span id="__span-19-2304"><a id="__codelineno-19-2304" name="__codelineno-19-2304" href="#__codelineno-19-2304"></a>                          with the Calico datastore. [Default: 5m]&#39;
</span><span id="__span-19-2305"><a id="__codelineno-19-2305" name="__codelineno-19-2305" href="#__codelineno-19-2305"></a>                        type: string
</span><span id="__span-19-2306"><a id="__codelineno-19-2306" name="__codelineno-19-2306" href="#__codelineno-19-2306"></a>                    type: object
</span><span id="__span-19-2307"><a id="__codelineno-19-2307" name="__codelineno-19-2307" href="#__codelineno-19-2307"></a>                type: object
</span><span id="__span-19-2308"><a id="__codelineno-19-2308" name="__codelineno-19-2308" href="#__codelineno-19-2308"></a>              etcdV3CompactionPeriod:
</span><span id="__span-19-2309"><a id="__codelineno-19-2309" name="__codelineno-19-2309" href="#__codelineno-19-2309"></a>                description: &#39;EtcdV3CompactionPeriod is the period between etcdv3
</span><span id="__span-19-2310"><a id="__codelineno-19-2310" name="__codelineno-19-2310" href="#__codelineno-19-2310"></a>                  compaction requests. Set to 0 to disable. [Default: 10m]&#39;
</span><span id="__span-19-2311"><a id="__codelineno-19-2311" name="__codelineno-19-2311" href="#__codelineno-19-2311"></a>                type: string
</span><span id="__span-19-2312"><a id="__codelineno-19-2312" name="__codelineno-19-2312" href="#__codelineno-19-2312"></a>              healthChecks:
</span><span id="__span-19-2313"><a id="__codelineno-19-2313" name="__codelineno-19-2313" href="#__codelineno-19-2313"></a>                description: &#39;HealthChecks enables or disables support for health
</span><span id="__span-19-2314"><a id="__codelineno-19-2314" name="__codelineno-19-2314" href="#__codelineno-19-2314"></a>                  checks [Default: Enabled]&#39;
</span><span id="__span-19-2315"><a id="__codelineno-19-2315" name="__codelineno-19-2315" href="#__codelineno-19-2315"></a>                type: string
</span><span id="__span-19-2316"><a id="__codelineno-19-2316" name="__codelineno-19-2316" href="#__codelineno-19-2316"></a>              logSeverityScreen:
</span><span id="__span-19-2317"><a id="__codelineno-19-2317" name="__codelineno-19-2317" href="#__codelineno-19-2317"></a>                description: &#39;LogSeverityScreen is the log severity above which logs
</span><span id="__span-19-2318"><a id="__codelineno-19-2318" name="__codelineno-19-2318" href="#__codelineno-19-2318"></a>                  are sent to the stdout. [Default: Info]&#39;
</span><span id="__span-19-2319"><a id="__codelineno-19-2319" name="__codelineno-19-2319" href="#__codelineno-19-2319"></a>                type: string
</span><span id="__span-19-2320"><a id="__codelineno-19-2320" name="__codelineno-19-2320" href="#__codelineno-19-2320"></a>              prometheusMetricsPort:
</span><span id="__span-19-2321"><a id="__codelineno-19-2321" name="__codelineno-19-2321" href="#__codelineno-19-2321"></a>                description: &#39;PrometheusMetricsPort is the TCP port that the Prometheus
</span><span id="__span-19-2322"><a id="__codelineno-19-2322" name="__codelineno-19-2322" href="#__codelineno-19-2322"></a>                  metrics server should bind to. Set to 0 to disable. [Default: 9094]&#39;
</span><span id="__span-19-2323"><a id="__codelineno-19-2323" name="__codelineno-19-2323" href="#__codelineno-19-2323"></a>                type: integer
</span><span id="__span-19-2324"><a id="__codelineno-19-2324" name="__codelineno-19-2324" href="#__codelineno-19-2324"></a>            required:
</span><span id="__span-19-2325"><a id="__codelineno-19-2325" name="__codelineno-19-2325" href="#__codelineno-19-2325"></a>            - controllers
</span><span id="__span-19-2326"><a id="__codelineno-19-2326" name="__codelineno-19-2326" href="#__codelineno-19-2326"></a>            type: object
</span><span id="__span-19-2327"><a id="__codelineno-19-2327" name="__codelineno-19-2327" href="#__codelineno-19-2327"></a>          status:
</span><span id="__span-19-2328"><a id="__codelineno-19-2328" name="__codelineno-19-2328" href="#__codelineno-19-2328"></a>            description: KubeControllersConfigurationStatus represents the status
</span><span id="__span-19-2329"><a id="__codelineno-19-2329" name="__codelineno-19-2329" href="#__codelineno-19-2329"></a>              of the configuration. It&#39;s useful for admins to be able to see the actual
</span><span id="__span-19-2330"><a id="__codelineno-19-2330" name="__codelineno-19-2330" href="#__codelineno-19-2330"></a>              config that was applied, which can be modified by environment variables
</span><span id="__span-19-2331"><a id="__codelineno-19-2331" name="__codelineno-19-2331" href="#__codelineno-19-2331"></a>              on the kube-controllers process.
</span><span id="__span-19-2332"><a id="__codelineno-19-2332" name="__codelineno-19-2332" href="#__codelineno-19-2332"></a>            properties:
</span><span id="__span-19-2333"><a id="__codelineno-19-2333" name="__codelineno-19-2333" href="#__codelineno-19-2333"></a>              environmentVars:
</span><span id="__span-19-2334"><a id="__codelineno-19-2334" name="__codelineno-19-2334" href="#__codelineno-19-2334"></a>                additionalProperties:
</span><span id="__span-19-2335"><a id="__codelineno-19-2335" name="__codelineno-19-2335" href="#__codelineno-19-2335"></a>                  type: string
</span><span id="__span-19-2336"><a id="__codelineno-19-2336" name="__codelineno-19-2336" href="#__codelineno-19-2336"></a>                description: EnvironmentVars contains the environment variables on
</span><span id="__span-19-2337"><a id="__codelineno-19-2337" name="__codelineno-19-2337" href="#__codelineno-19-2337"></a>                  the kube-controllers that influenced the RunningConfig.
</span><span id="__span-19-2338"><a id="__codelineno-19-2338" name="__codelineno-19-2338" href="#__codelineno-19-2338"></a>                type: object
</span><span id="__span-19-2339"><a id="__codelineno-19-2339" name="__codelineno-19-2339" href="#__codelineno-19-2339"></a>              runningConfig:
</span><span id="__span-19-2340"><a id="__codelineno-19-2340" name="__codelineno-19-2340" href="#__codelineno-19-2340"></a>                description: RunningConfig contains the effective config that is running
</span><span id="__span-19-2341"><a id="__codelineno-19-2341" name="__codelineno-19-2341" href="#__codelineno-19-2341"></a>                  in the kube-controllers pod, after merging the API resource with
</span><span id="__span-19-2342"><a id="__codelineno-19-2342" name="__codelineno-19-2342" href="#__codelineno-19-2342"></a>                  any environment variables.
</span><span id="__span-19-2343"><a id="__codelineno-19-2343" name="__codelineno-19-2343" href="#__codelineno-19-2343"></a>                properties:
</span><span id="__span-19-2344"><a id="__codelineno-19-2344" name="__codelineno-19-2344" href="#__codelineno-19-2344"></a>                  controllers:
</span><span id="__span-19-2345"><a id="__codelineno-19-2345" name="__codelineno-19-2345" href="#__codelineno-19-2345"></a>                    description: Controllers enables and configures individual Kubernetes
</span><span id="__span-19-2346"><a id="__codelineno-19-2346" name="__codelineno-19-2346" href="#__codelineno-19-2346"></a>                      controllers
</span><span id="__span-19-2347"><a id="__codelineno-19-2347" name="__codelineno-19-2347" href="#__codelineno-19-2347"></a>                    properties:
</span><span id="__span-19-2348"><a id="__codelineno-19-2348" name="__codelineno-19-2348" href="#__codelineno-19-2348"></a>                      namespace:
</span><span id="__span-19-2349"><a id="__codelineno-19-2349" name="__codelineno-19-2349" href="#__codelineno-19-2349"></a>                        description: Namespace enables and configures the namespace
</span><span id="__span-19-2350"><a id="__codelineno-19-2350" name="__codelineno-19-2350" href="#__codelineno-19-2350"></a>                          controller. Enabled by default, set to nil to disable.
</span><span id="__span-19-2351"><a id="__codelineno-19-2351" name="__codelineno-19-2351" href="#__codelineno-19-2351"></a>                        properties:
</span><span id="__span-19-2352"><a id="__codelineno-19-2352" name="__codelineno-19-2352" href="#__codelineno-19-2352"></a>                          reconcilerPeriod:
</span><span id="__span-19-2353"><a id="__codelineno-19-2353" name="__codelineno-19-2353" href="#__codelineno-19-2353"></a>                            description: &#39;ReconcilerPeriod is the period to perform
</span><span id="__span-19-2354"><a id="__codelineno-19-2354" name="__codelineno-19-2354" href="#__codelineno-19-2354"></a>                              reconciliation with the Calico datastore. [Default:
</span><span id="__span-19-2355"><a id="__codelineno-19-2355" name="__codelineno-19-2355" href="#__codelineno-19-2355"></a>                              5m]&#39;
</span><span id="__span-19-2356"><a id="__codelineno-19-2356" name="__codelineno-19-2356" href="#__codelineno-19-2356"></a>                            type: string
</span><span id="__span-19-2357"><a id="__codelineno-19-2357" name="__codelineno-19-2357" href="#__codelineno-19-2357"></a>                        type: object
</span><span id="__span-19-2358"><a id="__codelineno-19-2358" name="__codelineno-19-2358" href="#__codelineno-19-2358"></a>                      node:
</span><span id="__span-19-2359"><a id="__codelineno-19-2359" name="__codelineno-19-2359" href="#__codelineno-19-2359"></a>                        description: Node enables and configures the node controller.
</span><span id="__span-19-2360"><a id="__codelineno-19-2360" name="__codelineno-19-2360" href="#__codelineno-19-2360"></a>                          Enabled by default, set to nil to disable.
</span><span id="__span-19-2361"><a id="__codelineno-19-2361" name="__codelineno-19-2361" href="#__codelineno-19-2361"></a>                        properties:
</span><span id="__span-19-2362"><a id="__codelineno-19-2362" name="__codelineno-19-2362" href="#__codelineno-19-2362"></a>                          hostEndpoint:
</span><span id="__span-19-2363"><a id="__codelineno-19-2363" name="__codelineno-19-2363" href="#__codelineno-19-2363"></a>                            description: HostEndpoint controls syncing nodes to host
</span><span id="__span-19-2364"><a id="__codelineno-19-2364" name="__codelineno-19-2364" href="#__codelineno-19-2364"></a>                              endpoints. Disabled by default, set to nil to disable.
</span><span id="__span-19-2365"><a id="__codelineno-19-2365" name="__codelineno-19-2365" href="#__codelineno-19-2365"></a>                            properties:
</span><span id="__span-19-2366"><a id="__codelineno-19-2366" name="__codelineno-19-2366" href="#__codelineno-19-2366"></a>                              autoCreate:
</span><span id="__span-19-2367"><a id="__codelineno-19-2367" name="__codelineno-19-2367" href="#__codelineno-19-2367"></a>                                description: &#39;AutoCreate enables automatic creation
</span><span id="__span-19-2368"><a id="__codelineno-19-2368" name="__codelineno-19-2368" href="#__codelineno-19-2368"></a>                                  of host endpoints for every node. [Default: Disabled]&#39;
</span><span id="__span-19-2369"><a id="__codelineno-19-2369" name="__codelineno-19-2369" href="#__codelineno-19-2369"></a>                                type: string
</span><span id="__span-19-2370"><a id="__codelineno-19-2370" name="__codelineno-19-2370" href="#__codelineno-19-2370"></a>                            type: object
</span><span id="__span-19-2371"><a id="__codelineno-19-2371" name="__codelineno-19-2371" href="#__codelineno-19-2371"></a>                          reconcilerPeriod:
</span><span id="__span-19-2372"><a id="__codelineno-19-2372" name="__codelineno-19-2372" href="#__codelineno-19-2372"></a>                            description: &#39;ReconcilerPeriod is the period to perform
</span><span id="__span-19-2373"><a id="__codelineno-19-2373" name="__codelineno-19-2373" href="#__codelineno-19-2373"></a>                              reconciliation with the Calico datastore. [Default:
</span><span id="__span-19-2374"><a id="__codelineno-19-2374" name="__codelineno-19-2374" href="#__codelineno-19-2374"></a>                              5m]&#39;
</span><span id="__span-19-2375"><a id="__codelineno-19-2375" name="__codelineno-19-2375" href="#__codelineno-19-2375"></a>                            type: string
</span><span id="__span-19-2376"><a id="__codelineno-19-2376" name="__codelineno-19-2376" href="#__codelineno-19-2376"></a>                          syncLabels:
</span><span id="__span-19-2377"><a id="__codelineno-19-2377" name="__codelineno-19-2377" href="#__codelineno-19-2377"></a>                            description: &#39;SyncLabels controls whether to copy Kubernetes
</span><span id="__span-19-2378"><a id="__codelineno-19-2378" name="__codelineno-19-2378" href="#__codelineno-19-2378"></a>                              node labels to Calico nodes. [Default: Enabled]&#39;
</span><span id="__span-19-2379"><a id="__codelineno-19-2379" name="__codelineno-19-2379" href="#__codelineno-19-2379"></a>                            type: string
</span><span id="__span-19-2380"><a id="__codelineno-19-2380" name="__codelineno-19-2380" href="#__codelineno-19-2380"></a>                        type: object
</span><span id="__span-19-2381"><a id="__codelineno-19-2381" name="__codelineno-19-2381" href="#__codelineno-19-2381"></a>                      policy:
</span><span id="__span-19-2382"><a id="__codelineno-19-2382" name="__codelineno-19-2382" href="#__codelineno-19-2382"></a>                        description: Policy enables and configures the policy controller.
</span><span id="__span-19-2383"><a id="__codelineno-19-2383" name="__codelineno-19-2383" href="#__codelineno-19-2383"></a>                          Enabled by default, set to nil to disable.
</span><span id="__span-19-2384"><a id="__codelineno-19-2384" name="__codelineno-19-2384" href="#__codelineno-19-2384"></a>                        properties:
</span><span id="__span-19-2385"><a id="__codelineno-19-2385" name="__codelineno-19-2385" href="#__codelineno-19-2385"></a>                          reconcilerPeriod:
</span><span id="__span-19-2386"><a id="__codelineno-19-2386" name="__codelineno-19-2386" href="#__codelineno-19-2386"></a>                            description: &#39;ReconcilerPeriod is the period to perform
</span><span id="__span-19-2387"><a id="__codelineno-19-2387" name="__codelineno-19-2387" href="#__codelineno-19-2387"></a>                              reconciliation with the Calico datastore. [Default:
</span><span id="__span-19-2388"><a id="__codelineno-19-2388" name="__codelineno-19-2388" href="#__codelineno-19-2388"></a>                              5m]&#39;
</span><span id="__span-19-2389"><a id="__codelineno-19-2389" name="__codelineno-19-2389" href="#__codelineno-19-2389"></a>                            type: string
</span><span id="__span-19-2390"><a id="__codelineno-19-2390" name="__codelineno-19-2390" href="#__codelineno-19-2390"></a>                        type: object
</span><span id="__span-19-2391"><a id="__codelineno-19-2391" name="__codelineno-19-2391" href="#__codelineno-19-2391"></a>                      serviceAccount:
</span><span id="__span-19-2392"><a id="__codelineno-19-2392" name="__codelineno-19-2392" href="#__codelineno-19-2392"></a>                        description: ServiceAccount enables and configures the service
</span><span id="__span-19-2393"><a id="__codelineno-19-2393" name="__codelineno-19-2393" href="#__codelineno-19-2393"></a>                          account controller. Enabled by default, set to nil to disable.
</span><span id="__span-19-2394"><a id="__codelineno-19-2394" name="__codelineno-19-2394" href="#__codelineno-19-2394"></a>                        properties:
</span><span id="__span-19-2395"><a id="__codelineno-19-2395" name="__codelineno-19-2395" href="#__codelineno-19-2395"></a>                          reconcilerPeriod:
</span><span id="__span-19-2396"><a id="__codelineno-19-2396" name="__codelineno-19-2396" href="#__codelineno-19-2396"></a>                            description: &#39;ReconcilerPeriod is the period to perform
</span><span id="__span-19-2397"><a id="__codelineno-19-2397" name="__codelineno-19-2397" href="#__codelineno-19-2397"></a>                              reconciliation with the Calico datastore. [Default:
</span><span id="__span-19-2398"><a id="__codelineno-19-2398" name="__codelineno-19-2398" href="#__codelineno-19-2398"></a>                              5m]&#39;
</span><span id="__span-19-2399"><a id="__codelineno-19-2399" name="__codelineno-19-2399" href="#__codelineno-19-2399"></a>                            type: string
</span><span id="__span-19-2400"><a id="__codelineno-19-2400" name="__codelineno-19-2400" href="#__codelineno-19-2400"></a>                        type: object
</span><span id="__span-19-2401"><a id="__codelineno-19-2401" name="__codelineno-19-2401" href="#__codelineno-19-2401"></a>                      workloadEndpoint:
</span><span id="__span-19-2402"><a id="__codelineno-19-2402" name="__codelineno-19-2402" href="#__codelineno-19-2402"></a>                        description: WorkloadEndpoint enables and configures the workload
</span><span id="__span-19-2403"><a id="__codelineno-19-2403" name="__codelineno-19-2403" href="#__codelineno-19-2403"></a>                          endpoint controller. Enabled by default, set to nil to disable.
</span><span id="__span-19-2404"><a id="__codelineno-19-2404" name="__codelineno-19-2404" href="#__codelineno-19-2404"></a>                        properties:
</span><span id="__span-19-2405"><a id="__codelineno-19-2405" name="__codelineno-19-2405" href="#__codelineno-19-2405"></a>                          reconcilerPeriod:
</span><span id="__span-19-2406"><a id="__codelineno-19-2406" name="__codelineno-19-2406" href="#__codelineno-19-2406"></a>                            description: &#39;ReconcilerPeriod is the period to perform
</span><span id="__span-19-2407"><a id="__codelineno-19-2407" name="__codelineno-19-2407" href="#__codelineno-19-2407"></a>                              reconciliation with the Calico datastore. [Default:
</span><span id="__span-19-2408"><a id="__codelineno-19-2408" name="__codelineno-19-2408" href="#__codelineno-19-2408"></a>                              5m]&#39;
</span><span id="__span-19-2409"><a id="__codelineno-19-2409" name="__codelineno-19-2409" href="#__codelineno-19-2409"></a>                            type: string
</span><span id="__span-19-2410"><a id="__codelineno-19-2410" name="__codelineno-19-2410" href="#__codelineno-19-2410"></a>                        type: object
</span><span id="__span-19-2411"><a id="__codelineno-19-2411" name="__codelineno-19-2411" href="#__codelineno-19-2411"></a>                    type: object
</span><span id="__span-19-2412"><a id="__codelineno-19-2412" name="__codelineno-19-2412" href="#__codelineno-19-2412"></a>                  etcdV3CompactionPeriod:
</span><span id="__span-19-2413"><a id="__codelineno-19-2413" name="__codelineno-19-2413" href="#__codelineno-19-2413"></a>                    description: &#39;EtcdV3CompactionPeriod is the period between etcdv3
</span><span id="__span-19-2414"><a id="__codelineno-19-2414" name="__codelineno-19-2414" href="#__codelineno-19-2414"></a>                      compaction requests. Set to 0 to disable. [Default: 10m]&#39;
</span><span id="__span-19-2415"><a id="__codelineno-19-2415" name="__codelineno-19-2415" href="#__codelineno-19-2415"></a>                    type: string
</span><span id="__span-19-2416"><a id="__codelineno-19-2416" name="__codelineno-19-2416" href="#__codelineno-19-2416"></a>                  healthChecks:
</span><span id="__span-19-2417"><a id="__codelineno-19-2417" name="__codelineno-19-2417" href="#__codelineno-19-2417"></a>                    description: &#39;HealthChecks enables or disables support for health
</span><span id="__span-19-2418"><a id="__codelineno-19-2418" name="__codelineno-19-2418" href="#__codelineno-19-2418"></a>                      checks [Default: Enabled]&#39;
</span><span id="__span-19-2419"><a id="__codelineno-19-2419" name="__codelineno-19-2419" href="#__codelineno-19-2419"></a>                    type: string
</span><span id="__span-19-2420"><a id="__codelineno-19-2420" name="__codelineno-19-2420" href="#__codelineno-19-2420"></a>                  logSeverityScreen:
</span><span id="__span-19-2421"><a id="__codelineno-19-2421" name="__codelineno-19-2421" href="#__codelineno-19-2421"></a>                    description: &#39;LogSeverityScreen is the log severity above which
</span><span id="__span-19-2422"><a id="__codelineno-19-2422" name="__codelineno-19-2422" href="#__codelineno-19-2422"></a>                      logs are sent to the stdout. [Default: Info]&#39;
</span><span id="__span-19-2423"><a id="__codelineno-19-2423" name="__codelineno-19-2423" href="#__codelineno-19-2423"></a>                    type: string
</span><span id="__span-19-2424"><a id="__codelineno-19-2424" name="__codelineno-19-2424" href="#__codelineno-19-2424"></a>                  prometheusMetricsPort:
</span><span id="__span-19-2425"><a id="__codelineno-19-2425" name="__codelineno-19-2425" href="#__codelineno-19-2425"></a>                    description: &#39;PrometheusMetricsPort is the TCP port that the Prometheus
</span><span id="__span-19-2426"><a id="__codelineno-19-2426" name="__codelineno-19-2426" href="#__codelineno-19-2426"></a>                      metrics server should bind to. Set to 0 to disable. [Default:
</span><span id="__span-19-2427"><a id="__codelineno-19-2427" name="__codelineno-19-2427" href="#__codelineno-19-2427"></a>                      9094]&#39;
</span><span id="__span-19-2428"><a id="__codelineno-19-2428" name="__codelineno-19-2428" href="#__codelineno-19-2428"></a>                    type: integer
</span><span id="__span-19-2429"><a id="__codelineno-19-2429" name="__codelineno-19-2429" href="#__codelineno-19-2429"></a>                required:
</span><span id="__span-19-2430"><a id="__codelineno-19-2430" name="__codelineno-19-2430" href="#__codelineno-19-2430"></a>                - controllers
</span><span id="__span-19-2431"><a id="__codelineno-19-2431" name="__codelineno-19-2431" href="#__codelineno-19-2431"></a>                type: object
</span><span id="__span-19-2432"><a id="__codelineno-19-2432" name="__codelineno-19-2432" href="#__codelineno-19-2432"></a>            type: object
</span><span id="__span-19-2433"><a id="__codelineno-19-2433" name="__codelineno-19-2433" href="#__codelineno-19-2433"></a>        type: object
</span><span id="__span-19-2434"><a id="__codelineno-19-2434" name="__codelineno-19-2434" href="#__codelineno-19-2434"></a>    served: true
</span><span id="__span-19-2435"><a id="__codelineno-19-2435" name="__codelineno-19-2435" href="#__codelineno-19-2435"></a>    storage: true
</span><span id="__span-19-2436"><a id="__codelineno-19-2436" name="__codelineno-19-2436" href="#__codelineno-19-2436"></a>status:
</span><span id="__span-19-2437"><a id="__codelineno-19-2437" name="__codelineno-19-2437" href="#__codelineno-19-2437"></a>  acceptedNames:
</span><span id="__span-19-2438"><a id="__codelineno-19-2438" name="__codelineno-19-2438" href="#__codelineno-19-2438"></a>    kind: &quot;&quot;
</span><span id="__span-19-2439"><a id="__codelineno-19-2439" name="__codelineno-19-2439" href="#__codelineno-19-2439"></a>    plural: &quot;&quot;
</span><span id="__span-19-2440"><a id="__codelineno-19-2440" name="__codelineno-19-2440" href="#__codelineno-19-2440"></a>  conditions: []
</span><span id="__span-19-2441"><a id="__codelineno-19-2441" name="__codelineno-19-2441" href="#__codelineno-19-2441"></a>  storedVersions: []
</span><span id="__span-19-2442"><a id="__codelineno-19-2442" name="__codelineno-19-2442" href="#__codelineno-19-2442"></a>
</span><span id="__span-19-2443"><a id="__codelineno-19-2443" name="__codelineno-19-2443" href="#__codelineno-19-2443"></a>---
</span><span id="__span-19-2444"><a id="__codelineno-19-2444" name="__codelineno-19-2444" href="#__codelineno-19-2444"></a>apiVersion: apiextensions.k8s.io/v1
</span><span id="__span-19-2445"><a id="__codelineno-19-2445" name="__codelineno-19-2445" href="#__codelineno-19-2445"></a>kind: CustomResourceDefinition
</span><span id="__span-19-2446"><a id="__codelineno-19-2446" name="__codelineno-19-2446" href="#__codelineno-19-2446"></a>metadata:
</span><span id="__span-19-2447"><a id="__codelineno-19-2447" name="__codelineno-19-2447" href="#__codelineno-19-2447"></a>  name: networkpolicies.crd.projectcalico.org
</span><span id="__span-19-2448"><a id="__codelineno-19-2448" name="__codelineno-19-2448" href="#__codelineno-19-2448"></a>spec:
</span><span id="__span-19-2449"><a id="__codelineno-19-2449" name="__codelineno-19-2449" href="#__codelineno-19-2449"></a>  group: crd.projectcalico.org
</span><span id="__span-19-2450"><a id="__codelineno-19-2450" name="__codelineno-19-2450" href="#__codelineno-19-2450"></a>  names:
</span><span id="__span-19-2451"><a id="__codelineno-19-2451" name="__codelineno-19-2451" href="#__codelineno-19-2451"></a>    kind: NetworkPolicy
</span><span id="__span-19-2452"><a id="__codelineno-19-2452" name="__codelineno-19-2452" href="#__codelineno-19-2452"></a>    listKind: NetworkPolicyList
</span><span id="__span-19-2453"><a id="__codelineno-19-2453" name="__codelineno-19-2453" href="#__codelineno-19-2453"></a>    plural: networkpolicies
</span><span id="__span-19-2454"><a id="__codelineno-19-2454" name="__codelineno-19-2454" href="#__codelineno-19-2454"></a>    singular: networkpolicy
</span><span id="__span-19-2455"><a id="__codelineno-19-2455" name="__codelineno-19-2455" href="#__codelineno-19-2455"></a>  scope: Namespaced
</span><span id="__span-19-2456"><a id="__codelineno-19-2456" name="__codelineno-19-2456" href="#__codelineno-19-2456"></a>  versions:
</span><span id="__span-19-2457"><a id="__codelineno-19-2457" name="__codelineno-19-2457" href="#__codelineno-19-2457"></a>  - name: v1
</span><span id="__span-19-2458"><a id="__codelineno-19-2458" name="__codelineno-19-2458" href="#__codelineno-19-2458"></a>    schema:
</span><span id="__span-19-2459"><a id="__codelineno-19-2459" name="__codelineno-19-2459" href="#__codelineno-19-2459"></a>      openAPIV3Schema:
</span><span id="__span-19-2460"><a id="__codelineno-19-2460" name="__codelineno-19-2460" href="#__codelineno-19-2460"></a>        properties:
</span><span id="__span-19-2461"><a id="__codelineno-19-2461" name="__codelineno-19-2461" href="#__codelineno-19-2461"></a>          apiVersion:
</span><span id="__span-19-2462"><a id="__codelineno-19-2462" name="__codelineno-19-2462" href="#__codelineno-19-2462"></a>            description: &#39;APIVersion defines the versioned schema of this representation
</span><span id="__span-19-2463"><a id="__codelineno-19-2463" name="__codelineno-19-2463" href="#__codelineno-19-2463"></a>              of an object. Servers should convert recognized schemas to the latest
</span><span id="__span-19-2464"><a id="__codelineno-19-2464" name="__codelineno-19-2464" href="#__codelineno-19-2464"></a>              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#39;
</span><span id="__span-19-2465"><a id="__codelineno-19-2465" name="__codelineno-19-2465" href="#__codelineno-19-2465"></a>            type: string
</span><span id="__span-19-2466"><a id="__codelineno-19-2466" name="__codelineno-19-2466" href="#__codelineno-19-2466"></a>          kind:
</span><span id="__span-19-2467"><a id="__codelineno-19-2467" name="__codelineno-19-2467" href="#__codelineno-19-2467"></a>            description: &#39;Kind is a string value representing the REST resource this
</span><span id="__span-19-2468"><a id="__codelineno-19-2468" name="__codelineno-19-2468" href="#__codelineno-19-2468"></a>              object represents. Servers may infer this from the endpoint the client
</span><span id="__span-19-2469"><a id="__codelineno-19-2469" name="__codelineno-19-2469" href="#__codelineno-19-2469"></a>              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#39;
</span><span id="__span-19-2470"><a id="__codelineno-19-2470" name="__codelineno-19-2470" href="#__codelineno-19-2470"></a>            type: string
</span><span id="__span-19-2471"><a id="__codelineno-19-2471" name="__codelineno-19-2471" href="#__codelineno-19-2471"></a>          metadata:
</span><span id="__span-19-2472"><a id="__codelineno-19-2472" name="__codelineno-19-2472" href="#__codelineno-19-2472"></a>            type: object
</span><span id="__span-19-2473"><a id="__codelineno-19-2473" name="__codelineno-19-2473" href="#__codelineno-19-2473"></a>          spec:
</span><span id="__span-19-2474"><a id="__codelineno-19-2474" name="__codelineno-19-2474" href="#__codelineno-19-2474"></a>            properties:
</span><span id="__span-19-2475"><a id="__codelineno-19-2475" name="__codelineno-19-2475" href="#__codelineno-19-2475"></a>              egress:
</span><span id="__span-19-2476"><a id="__codelineno-19-2476" name="__codelineno-19-2476" href="#__codelineno-19-2476"></a>                description: The ordered set of egress rules.  Each rule contains
</span><span id="__span-19-2477"><a id="__codelineno-19-2477" name="__codelineno-19-2477" href="#__codelineno-19-2477"></a>                  a set of packet match criteria and a corresponding action to apply.
</span><span id="__span-19-2478"><a id="__codelineno-19-2478" name="__codelineno-19-2478" href="#__codelineno-19-2478"></a>                items:
</span><span id="__span-19-2479"><a id="__codelineno-19-2479" name="__codelineno-19-2479" href="#__codelineno-19-2479"></a>                  description: &quot;A Rule encapsulates a set of match criteria and an
</span><span id="__span-19-2480"><a id="__codelineno-19-2480" name="__codelineno-19-2480" href="#__codelineno-19-2480"></a>                    action.  Both selector-based security Policy and security Profiles
</span><span id="__span-19-2481"><a id="__codelineno-19-2481" name="__codelineno-19-2481" href="#__codelineno-19-2481"></a>                    reference rules - separated out as a list of rules for both ingress
</span><span id="__span-19-2482"><a id="__codelineno-19-2482" name="__codelineno-19-2482" href="#__codelineno-19-2482"></a>                    and egress packet matching. \n Each positive match criteria has
</span><span id="__span-19-2483"><a id="__codelineno-19-2483" name="__codelineno-19-2483" href="#__codelineno-19-2483"></a>                    a negated version, prefixed with \&quot;Not\&quot;. All the match criteria
</span><span id="__span-19-2484"><a id="__codelineno-19-2484" name="__codelineno-19-2484" href="#__codelineno-19-2484"></a>                    within a rule must be satisfied for a packet to match. A single
</span><span id="__span-19-2485"><a id="__codelineno-19-2485" name="__codelineno-19-2485" href="#__codelineno-19-2485"></a>                    rule can contain the positive and negative version of a match
</span><span id="__span-19-2486"><a id="__codelineno-19-2486" name="__codelineno-19-2486" href="#__codelineno-19-2486"></a>                    and both must be satisfied for the rule to match.&quot;
</span><span id="__span-19-2487"><a id="__codelineno-19-2487" name="__codelineno-19-2487" href="#__codelineno-19-2487"></a>                  properties:
</span><span id="__span-19-2488"><a id="__codelineno-19-2488" name="__codelineno-19-2488" href="#__codelineno-19-2488"></a>                    action:
</span><span id="__span-19-2489"><a id="__codelineno-19-2489" name="__codelineno-19-2489" href="#__codelineno-19-2489"></a>                      type: string
</span><span id="__span-19-2490"><a id="__codelineno-19-2490" name="__codelineno-19-2490" href="#__codelineno-19-2490"></a>                    destination:
</span><span id="__span-19-2491"><a id="__codelineno-19-2491" name="__codelineno-19-2491" href="#__codelineno-19-2491"></a>                      description: Destination contains the match criteria that apply
</span><span id="__span-19-2492"><a id="__codelineno-19-2492" name="__codelineno-19-2492" href="#__codelineno-19-2492"></a>                        to destination entity.
</span><span id="__span-19-2493"><a id="__codelineno-19-2493" name="__codelineno-19-2493" href="#__codelineno-19-2493"></a>                      properties:
</span><span id="__span-19-2494"><a id="__codelineno-19-2494" name="__codelineno-19-2494" href="#__codelineno-19-2494"></a>                        namespaceSelector:
</span><span id="__span-19-2495"><a id="__codelineno-19-2495" name="__codelineno-19-2495" href="#__codelineno-19-2495"></a>                          description: &quot;NamespaceSelector is an optional field that
</span><span id="__span-19-2496"><a id="__codelineno-19-2496" name="__codelineno-19-2496" href="#__codelineno-19-2496"></a>                            contains a selector expression. Only traffic that originates
</span><span id="__span-19-2497"><a id="__codelineno-19-2497" name="__codelineno-19-2497" href="#__codelineno-19-2497"></a>                            from (or terminates at) endpoints within the selected
</span><span id="__span-19-2498"><a id="__codelineno-19-2498" name="__codelineno-19-2498" href="#__codelineno-19-2498"></a>                            namespaces will be matched. When both NamespaceSelector
</span><span id="__span-19-2499"><a id="__codelineno-19-2499" name="__codelineno-19-2499" href="#__codelineno-19-2499"></a>                            and Selector are defined on the same rule, then only workload
</span><span id="__span-19-2500"><a id="__codelineno-19-2500" name="__codelineno-19-2500" href="#__codelineno-19-2500"></a>                            endpoints that are matched by both selectors will be selected
</span><span id="__span-19-2501"><a id="__codelineno-19-2501" name="__codelineno-19-2501" href="#__codelineno-19-2501"></a>                            by the rule. \n For NetworkPolicy, an empty NamespaceSelector
</span><span id="__span-19-2502"><a id="__codelineno-19-2502" name="__codelineno-19-2502" href="#__codelineno-19-2502"></a>                            implies that the Selector is limited to selecting only
</span><span id="__span-19-2503"><a id="__codelineno-19-2503" name="__codelineno-19-2503" href="#__codelineno-19-2503"></a>                            workload endpoints in the same namespace as the NetworkPolicy.
</span><span id="__span-19-2504"><a id="__codelineno-19-2504" name="__codelineno-19-2504" href="#__codelineno-19-2504"></a>                            \n For NetworkPolicy, `global()` NamespaceSelector implies
</span><span id="__span-19-2505"><a id="__codelineno-19-2505" name="__codelineno-19-2505" href="#__codelineno-19-2505"></a>                            that the Selector is limited to selecting only GlobalNetworkSet
</span><span id="__span-19-2506"><a id="__codelineno-19-2506" name="__codelineno-19-2506" href="#__codelineno-19-2506"></a>                            or HostEndpoint. \n For GlobalNetworkPolicy, an empty
</span><span id="__span-19-2507"><a id="__codelineno-19-2507" name="__codelineno-19-2507" href="#__codelineno-19-2507"></a>                            NamespaceSelector implies the Selector applies to workload
</span><span id="__span-19-2508"><a id="__codelineno-19-2508" name="__codelineno-19-2508" href="#__codelineno-19-2508"></a>                            endpoints across all namespaces.&quot;
</span><span id="__span-19-2509"><a id="__codelineno-19-2509" name="__codelineno-19-2509" href="#__codelineno-19-2509"></a>                          type: string
</span><span id="__span-19-2510"><a id="__codelineno-19-2510" name="__codelineno-19-2510" href="#__codelineno-19-2510"></a>                        nets:
</span><span id="__span-19-2511"><a id="__codelineno-19-2511" name="__codelineno-19-2511" href="#__codelineno-19-2511"></a>                          description: Nets is an optional field that restricts the
</span><span id="__span-19-2512"><a id="__codelineno-19-2512" name="__codelineno-19-2512" href="#__codelineno-19-2512"></a>                            rule to only apply to traffic that originates from (or
</span><span id="__span-19-2513"><a id="__codelineno-19-2513" name="__codelineno-19-2513" href="#__codelineno-19-2513"></a>                            terminates at) IP addresses in any of the given subnets.
</span><span id="__span-19-2514"><a id="__codelineno-19-2514" name="__codelineno-19-2514" href="#__codelineno-19-2514"></a>                          items:
</span><span id="__span-19-2515"><a id="__codelineno-19-2515" name="__codelineno-19-2515" href="#__codelineno-19-2515"></a>                            type: string
</span><span id="__span-19-2516"><a id="__codelineno-19-2516" name="__codelineno-19-2516" href="#__codelineno-19-2516"></a>                          type: array
</span><span id="__span-19-2517"><a id="__codelineno-19-2517" name="__codelineno-19-2517" href="#__codelineno-19-2517"></a>                        notNets:
</span><span id="__span-19-2518"><a id="__codelineno-19-2518" name="__codelineno-19-2518" href="#__codelineno-19-2518"></a>                          description: NotNets is the negated version of the Nets
</span><span id="__span-19-2519"><a id="__codelineno-19-2519" name="__codelineno-19-2519" href="#__codelineno-19-2519"></a>                            field.
</span><span id="__span-19-2520"><a id="__codelineno-19-2520" name="__codelineno-19-2520" href="#__codelineno-19-2520"></a>                          items:
</span><span id="__span-19-2521"><a id="__codelineno-19-2521" name="__codelineno-19-2521" href="#__codelineno-19-2521"></a>                            type: string
</span><span id="__span-19-2522"><a id="__codelineno-19-2522" name="__codelineno-19-2522" href="#__codelineno-19-2522"></a>                          type: array
</span><span id="__span-19-2523"><a id="__codelineno-19-2523" name="__codelineno-19-2523" href="#__codelineno-19-2523"></a>                        notPorts:
</span><span id="__span-19-2524"><a id="__codelineno-19-2524" name="__codelineno-19-2524" href="#__codelineno-19-2524"></a>                          description: NotPorts is the negated version of the Ports
</span><span id="__span-19-2525"><a id="__codelineno-19-2525" name="__codelineno-19-2525" href="#__codelineno-19-2525"></a>                            field. Since only some protocols have ports, if any ports
</span><span id="__span-19-2526"><a id="__codelineno-19-2526" name="__codelineno-19-2526" href="#__codelineno-19-2526"></a>                            are specified it requires the Protocol match in the Rule
</span><span id="__span-19-2527"><a id="__codelineno-19-2527" name="__codelineno-19-2527" href="#__codelineno-19-2527"></a>                            to be set to &quot;TCP&quot; or &quot;UDP&quot;.
</span><span id="__span-19-2528"><a id="__codelineno-19-2528" name="__codelineno-19-2528" href="#__codelineno-19-2528"></a>                          items:
</span><span id="__span-19-2529"><a id="__codelineno-19-2529" name="__codelineno-19-2529" href="#__codelineno-19-2529"></a>                            anyOf:
</span><span id="__span-19-2530"><a id="__codelineno-19-2530" name="__codelineno-19-2530" href="#__codelineno-19-2530"></a>                            - type: integer
</span><span id="__span-19-2531"><a id="__codelineno-19-2531" name="__codelineno-19-2531" href="#__codelineno-19-2531"></a>                            - type: string
</span><span id="__span-19-2532"><a id="__codelineno-19-2532" name="__codelineno-19-2532" href="#__codelineno-19-2532"></a>                            pattern: ^.*
</span><span id="__span-19-2533"><a id="__codelineno-19-2533" name="__codelineno-19-2533" href="#__codelineno-19-2533"></a>                            x-kubernetes-int-or-string: true
</span><span id="__span-19-2534"><a id="__codelineno-19-2534" name="__codelineno-19-2534" href="#__codelineno-19-2534"></a>                          type: array
</span><span id="__span-19-2535"><a id="__codelineno-19-2535" name="__codelineno-19-2535" href="#__codelineno-19-2535"></a>                        notSelector:
</span><span id="__span-19-2536"><a id="__codelineno-19-2536" name="__codelineno-19-2536" href="#__codelineno-19-2536"></a>                          description: NotSelector is the negated version of the Selector
</span><span id="__span-19-2537"><a id="__codelineno-19-2537" name="__codelineno-19-2537" href="#__codelineno-19-2537"></a>                            field.  See Selector field for subtleties with negated
</span><span id="__span-19-2538"><a id="__codelineno-19-2538" name="__codelineno-19-2538" href="#__codelineno-19-2538"></a>                            selectors.
</span><span id="__span-19-2539"><a id="__codelineno-19-2539" name="__codelineno-19-2539" href="#__codelineno-19-2539"></a>                          type: string
</span><span id="__span-19-2540"><a id="__codelineno-19-2540" name="__codelineno-19-2540" href="#__codelineno-19-2540"></a>                        ports:
</span><span id="__span-19-2541"><a id="__codelineno-19-2541" name="__codelineno-19-2541" href="#__codelineno-19-2541"></a>                          description: &quot;Ports is an optional field that restricts
</span><span id="__span-19-2542"><a id="__codelineno-19-2542" name="__codelineno-19-2542" href="#__codelineno-19-2542"></a>                            the rule to only apply to traffic that has a source (destination)
</span><span id="__span-19-2543"><a id="__codelineno-19-2543" name="__codelineno-19-2543" href="#__codelineno-19-2543"></a>                            port that matches one of these ranges/values. This value
</span><span id="__span-19-2544"><a id="__codelineno-19-2544" name="__codelineno-19-2544" href="#__codelineno-19-2544"></a>                            is a list of integers or strings that represent ranges
</span><span id="__span-19-2545"><a id="__codelineno-19-2545" name="__codelineno-19-2545" href="#__codelineno-19-2545"></a>                            of ports. \n Since only some protocols have ports, if
</span><span id="__span-19-2546"><a id="__codelineno-19-2546" name="__codelineno-19-2546" href="#__codelineno-19-2546"></a>                            any ports are specified it requires the Protocol match
</span><span id="__span-19-2547"><a id="__codelineno-19-2547" name="__codelineno-19-2547" href="#__codelineno-19-2547"></a>                            in the Rule to be set to \&quot;TCP\&quot; or \&quot;UDP\&quot;.&quot;
</span><span id="__span-19-2548"><a id="__codelineno-19-2548" name="__codelineno-19-2548" href="#__codelineno-19-2548"></a>                          items:
</span><span id="__span-19-2549"><a id="__codelineno-19-2549" name="__codelineno-19-2549" href="#__codelineno-19-2549"></a>                            anyOf:
</span><span id="__span-19-2550"><a id="__codelineno-19-2550" name="__codelineno-19-2550" href="#__codelineno-19-2550"></a>                            - type: integer
</span><span id="__span-19-2551"><a id="__codelineno-19-2551" name="__codelineno-19-2551" href="#__codelineno-19-2551"></a>                            - type: string
</span><span id="__span-19-2552"><a id="__codelineno-19-2552" name="__codelineno-19-2552" href="#__codelineno-19-2552"></a>                            pattern: ^.*
</span><span id="__span-19-2553"><a id="__codelineno-19-2553" name="__codelineno-19-2553" href="#__codelineno-19-2553"></a>                            x-kubernetes-int-or-string: true
</span><span id="__span-19-2554"><a id="__codelineno-19-2554" name="__codelineno-19-2554" href="#__codelineno-19-2554"></a>                          type: array
</span><span id="__span-19-2555"><a id="__codelineno-19-2555" name="__codelineno-19-2555" href="#__codelineno-19-2555"></a>                        selector:
</span><span id="__span-19-2556"><a id="__codelineno-19-2556" name="__codelineno-19-2556" href="#__codelineno-19-2556"></a>                          description: &quot;Selector is an optional field that contains
</span><span id="__span-19-2557"><a id="__codelineno-19-2557" name="__codelineno-19-2557" href="#__codelineno-19-2557"></a>                            a selector expression (see Policy for sample syntax).
</span><span id="__span-19-2558"><a id="__codelineno-19-2558" name="__codelineno-19-2558" href="#__codelineno-19-2558"></a>                            \ Only traffic that originates from (terminates at) endpoints
</span><span id="__span-19-2559"><a id="__codelineno-19-2559" name="__codelineno-19-2559" href="#__codelineno-19-2559"></a>                            matching the selector will be matched. \n Note that: in
</span><span id="__span-19-2560"><a id="__codelineno-19-2560" name="__codelineno-19-2560" href="#__codelineno-19-2560"></a>                            addition to the negated version of the Selector (see NotSelector
</span><span id="__span-19-2561"><a id="__codelineno-19-2561" name="__codelineno-19-2561" href="#__codelineno-19-2561"></a>                            below), the selector expression syntax itself supports
</span><span id="__span-19-2562"><a id="__codelineno-19-2562" name="__codelineno-19-2562" href="#__codelineno-19-2562"></a>                            negation.  The two types of negation are subtly different.
</span><span id="__span-19-2563"><a id="__codelineno-19-2563" name="__codelineno-19-2563" href="#__codelineno-19-2563"></a>                            One negates the set of matched endpoints, the other negates
</span><span id="__span-19-2564"><a id="__codelineno-19-2564" name="__codelineno-19-2564" href="#__codelineno-19-2564"></a>                            the whole match: \n \tSelector = \&quot;!has(my_label)\&quot; matches
</span><span id="__span-19-2565"><a id="__codelineno-19-2565" name="__codelineno-19-2565" href="#__codelineno-19-2565"></a>                            packets that are from other Calico-controlled \tendpoints
</span><span id="__span-19-2566"><a id="__codelineno-19-2566" name="__codelineno-19-2566" href="#__codelineno-19-2566"></a>                            that do not have the label \&quot;my_label\&quot;. \n \tNotSelector
</span><span id="__span-19-2567"><a id="__codelineno-19-2567" name="__codelineno-19-2567" href="#__codelineno-19-2567"></a>                            = \&quot;has(my_label)\&quot; matches packets that are not from
</span><span id="__span-19-2568"><a id="__codelineno-19-2568" name="__codelineno-19-2568" href="#__codelineno-19-2568"></a>                            Calico-controlled \tendpoints that do have the label \&quot;my_label\&quot;.
</span><span id="__span-19-2569"><a id="__codelineno-19-2569" name="__codelineno-19-2569" href="#__codelineno-19-2569"></a>                            \n The effect is that the latter will accept packets from
</span><span id="__span-19-2570"><a id="__codelineno-19-2570" name="__codelineno-19-2570" href="#__codelineno-19-2570"></a>                            non-Calico sources whereas the former is limited to packets
</span><span id="__span-19-2571"><a id="__codelineno-19-2571" name="__codelineno-19-2571" href="#__codelineno-19-2571"></a>                            from Calico-controlled endpoints.&quot;
</span><span id="__span-19-2572"><a id="__codelineno-19-2572" name="__codelineno-19-2572" href="#__codelineno-19-2572"></a>                          type: string
</span><span id="__span-19-2573"><a id="__codelineno-19-2573" name="__codelineno-19-2573" href="#__codelineno-19-2573"></a>                        serviceAccounts:
</span><span id="__span-19-2574"><a id="__codelineno-19-2574" name="__codelineno-19-2574" href="#__codelineno-19-2574"></a>                          description: ServiceAccounts is an optional field that restricts
</span><span id="__span-19-2575"><a id="__codelineno-19-2575" name="__codelineno-19-2575" href="#__codelineno-19-2575"></a>                            the rule to only apply to traffic that originates from
</span><span id="__span-19-2576"><a id="__codelineno-19-2576" name="__codelineno-19-2576" href="#__codelineno-19-2576"></a>                            (or terminates at) a pod running as a matching service
</span><span id="__span-19-2577"><a id="__codelineno-19-2577" name="__codelineno-19-2577" href="#__codelineno-19-2577"></a>                            account.
</span><span id="__span-19-2578"><a id="__codelineno-19-2578" name="__codelineno-19-2578" href="#__codelineno-19-2578"></a>                          properties:
</span><span id="__span-19-2579"><a id="__codelineno-19-2579" name="__codelineno-19-2579" href="#__codelineno-19-2579"></a>                            names:
</span><span id="__span-19-2580"><a id="__codelineno-19-2580" name="__codelineno-19-2580" href="#__codelineno-19-2580"></a>                              description: Names is an optional field that restricts
</span><span id="__span-19-2581"><a id="__codelineno-19-2581" name="__codelineno-19-2581" href="#__codelineno-19-2581"></a>                                the rule to only apply to traffic that originates
</span><span id="__span-19-2582"><a id="__codelineno-19-2582" name="__codelineno-19-2582" href="#__codelineno-19-2582"></a>                                from (or terminates at) a pod running as a service
</span><span id="__span-19-2583"><a id="__codelineno-19-2583" name="__codelineno-19-2583" href="#__codelineno-19-2583"></a>                                account whose name is in the list.
</span><span id="__span-19-2584"><a id="__codelineno-19-2584" name="__codelineno-19-2584" href="#__codelineno-19-2584"></a>                              items:
</span><span id="__span-19-2585"><a id="__codelineno-19-2585" name="__codelineno-19-2585" href="#__codelineno-19-2585"></a>                                type: string
</span><span id="__span-19-2586"><a id="__codelineno-19-2586" name="__codelineno-19-2586" href="#__codelineno-19-2586"></a>                              type: array
</span><span id="__span-19-2587"><a id="__codelineno-19-2587" name="__codelineno-19-2587" href="#__codelineno-19-2587"></a>                            selector:
</span><span id="__span-19-2588"><a id="__codelineno-19-2588" name="__codelineno-19-2588" href="#__codelineno-19-2588"></a>                              description: Selector is an optional field that restricts
</span><span id="__span-19-2589"><a id="__codelineno-19-2589" name="__codelineno-19-2589" href="#__codelineno-19-2589"></a>                                the rule to only apply to traffic that originates
</span><span id="__span-19-2590"><a id="__codelineno-19-2590" name="__codelineno-19-2590" href="#__codelineno-19-2590"></a>                                from (or terminates at) a pod running as a service
</span><span id="__span-19-2591"><a id="__codelineno-19-2591" name="__codelineno-19-2591" href="#__codelineno-19-2591"></a>                                account that matches the given label selector. If
</span><span id="__span-19-2592"><a id="__codelineno-19-2592" name="__codelineno-19-2592" href="#__codelineno-19-2592"></a>                                both Names and Selector are specified then they are
</span><span id="__span-19-2593"><a id="__codelineno-19-2593" name="__codelineno-19-2593" href="#__codelineno-19-2593"></a>                                AND&#39;ed.
</span><span id="__span-19-2594"><a id="__codelineno-19-2594" name="__codelineno-19-2594" href="#__codelineno-19-2594"></a>                              type: string
</span><span id="__span-19-2595"><a id="__codelineno-19-2595" name="__codelineno-19-2595" href="#__codelineno-19-2595"></a>                          type: object
</span><span id="__span-19-2596"><a id="__codelineno-19-2596" name="__codelineno-19-2596" href="#__codelineno-19-2596"></a>                      type: object
</span><span id="__span-19-2597"><a id="__codelineno-19-2597" name="__codelineno-19-2597" href="#__codelineno-19-2597"></a>                    http:
</span><span id="__span-19-2598"><a id="__codelineno-19-2598" name="__codelineno-19-2598" href="#__codelineno-19-2598"></a>                      description: HTTP contains match criteria that apply to HTTP
</span><span id="__span-19-2599"><a id="__codelineno-19-2599" name="__codelineno-19-2599" href="#__codelineno-19-2599"></a>                        requests.
</span><span id="__span-19-2600"><a id="__codelineno-19-2600" name="__codelineno-19-2600" href="#__codelineno-19-2600"></a>                      properties:
</span><span id="__span-19-2601"><a id="__codelineno-19-2601" name="__codelineno-19-2601" href="#__codelineno-19-2601"></a>                        methods:
</span><span id="__span-19-2602"><a id="__codelineno-19-2602" name="__codelineno-19-2602" href="#__codelineno-19-2602"></a>                          description: Methods is an optional field that restricts
</span><span id="__span-19-2603"><a id="__codelineno-19-2603" name="__codelineno-19-2603" href="#__codelineno-19-2603"></a>                            the rule to apply only to HTTP requests that use one of
</span><span id="__span-19-2604"><a id="__codelineno-19-2604" name="__codelineno-19-2604" href="#__codelineno-19-2604"></a>                            the listed HTTP Methods (e.g. GET, PUT, etc.) Multiple
</span><span id="__span-19-2605"><a id="__codelineno-19-2605" name="__codelineno-19-2605" href="#__codelineno-19-2605"></a>                            methods are OR&#39;d together.
</span><span id="__span-19-2606"><a id="__codelineno-19-2606" name="__codelineno-19-2606" href="#__codelineno-19-2606"></a>                          items:
</span><span id="__span-19-2607"><a id="__codelineno-19-2607" name="__codelineno-19-2607" href="#__codelineno-19-2607"></a>                            type: string
</span><span id="__span-19-2608"><a id="__codelineno-19-2608" name="__codelineno-19-2608" href="#__codelineno-19-2608"></a>                          type: array
</span><span id="__span-19-2609"><a id="__codelineno-19-2609" name="__codelineno-19-2609" href="#__codelineno-19-2609"></a>                        paths:
</span><span id="__span-19-2610"><a id="__codelineno-19-2610" name="__codelineno-19-2610" href="#__codelineno-19-2610"></a>                          description: &#39;Paths is an optional field that restricts
</span><span id="__span-19-2611"><a id="__codelineno-19-2611" name="__codelineno-19-2611" href="#__codelineno-19-2611"></a>                            the rule to apply to HTTP requests that use one of the
</span><span id="__span-19-2612"><a id="__codelineno-19-2612" name="__codelineno-19-2612" href="#__codelineno-19-2612"></a>                            listed HTTP Paths. Multiple paths are OR&#39;&#39;d together.
</span><span id="__span-19-2613"><a id="__codelineno-19-2613" name="__codelineno-19-2613" href="#__codelineno-19-2613"></a>                            e.g: - exact: /foo - prefix: /bar NOTE: Each entry may
</span><span id="__span-19-2614"><a id="__codelineno-19-2614" name="__codelineno-19-2614" href="#__codelineno-19-2614"></a>                            ONLY specify either a `exact` or a `prefix` match. The
</span><span id="__span-19-2615"><a id="__codelineno-19-2615" name="__codelineno-19-2615" href="#__codelineno-19-2615"></a>                            validator will check for it.&#39;
</span><span id="__span-19-2616"><a id="__codelineno-19-2616" name="__codelineno-19-2616" href="#__codelineno-19-2616"></a>                          items:
</span><span id="__span-19-2617"><a id="__codelineno-19-2617" name="__codelineno-19-2617" href="#__codelineno-19-2617"></a>                            description: &#39;HTTPPath specifies an HTTP path to match.
</span><span id="__span-19-2618"><a id="__codelineno-19-2618" name="__codelineno-19-2618" href="#__codelineno-19-2618"></a>                              It may be either of the form: exact: &lt;path&gt;: which matches
</span><span id="__span-19-2619"><a id="__codelineno-19-2619" name="__codelineno-19-2619" href="#__codelineno-19-2619"></a>                              the path exactly or prefix: &lt;path-prefix&gt;: which matches
</span><span id="__span-19-2620"><a id="__codelineno-19-2620" name="__codelineno-19-2620" href="#__codelineno-19-2620"></a>                              the path prefix&#39;
</span><span id="__span-19-2621"><a id="__codelineno-19-2621" name="__codelineno-19-2621" href="#__codelineno-19-2621"></a>                            properties:
</span><span id="__span-19-2622"><a id="__codelineno-19-2622" name="__codelineno-19-2622" href="#__codelineno-19-2622"></a>                              exact:
</span><span id="__span-19-2623"><a id="__codelineno-19-2623" name="__codelineno-19-2623" href="#__codelineno-19-2623"></a>                                type: string
</span><span id="__span-19-2624"><a id="__codelineno-19-2624" name="__codelineno-19-2624" href="#__codelineno-19-2624"></a>                              prefix:
</span><span id="__span-19-2625"><a id="__codelineno-19-2625" name="__codelineno-19-2625" href="#__codelineno-19-2625"></a>                                type: string
</span><span id="__span-19-2626"><a id="__codelineno-19-2626" name="__codelineno-19-2626" href="#__codelineno-19-2626"></a>                            type: object
</span><span id="__span-19-2627"><a id="__codelineno-19-2627" name="__codelineno-19-2627" href="#__codelineno-19-2627"></a>                          type: array
</span><span id="__span-19-2628"><a id="__codelineno-19-2628" name="__codelineno-19-2628" href="#__codelineno-19-2628"></a>                      type: object
</span><span id="__span-19-2629"><a id="__codelineno-19-2629" name="__codelineno-19-2629" href="#__codelineno-19-2629"></a>                    icmp:
</span><span id="__span-19-2630"><a id="__codelineno-19-2630" name="__codelineno-19-2630" href="#__codelineno-19-2630"></a>                      description: ICMP is an optional field that restricts the rule
</span><span id="__span-19-2631"><a id="__codelineno-19-2631" name="__codelineno-19-2631" href="#__codelineno-19-2631"></a>                        to apply to a specific type and code of ICMP traffic.  This
</span><span id="__span-19-2632"><a id="__codelineno-19-2632" name="__codelineno-19-2632" href="#__codelineno-19-2632"></a>                        should only be specified if the Protocol field is set to &quot;ICMP&quot;
</span><span id="__span-19-2633"><a id="__codelineno-19-2633" name="__codelineno-19-2633" href="#__codelineno-19-2633"></a>                        or &quot;ICMPv6&quot;.
</span><span id="__span-19-2634"><a id="__codelineno-19-2634" name="__codelineno-19-2634" href="#__codelineno-19-2634"></a>                      properties:
</span><span id="__span-19-2635"><a id="__codelineno-19-2635" name="__codelineno-19-2635" href="#__codelineno-19-2635"></a>                        code:
</span><span id="__span-19-2636"><a id="__codelineno-19-2636" name="__codelineno-19-2636" href="#__codelineno-19-2636"></a>                          description: Match on a specific ICMP code.  If specified,
</span><span id="__span-19-2637"><a id="__codelineno-19-2637" name="__codelineno-19-2637" href="#__codelineno-19-2637"></a>                            the Type value must also be specified. This is a technical
</span><span id="__span-19-2638"><a id="__codelineno-19-2638" name="__codelineno-19-2638" href="#__codelineno-19-2638"></a>                            limitation imposed by the kernel&#39;s iptables firewall,
</span><span id="__span-19-2639"><a id="__codelineno-19-2639" name="__codelineno-19-2639" href="#__codelineno-19-2639"></a>                            which Calico uses to enforce the rule.
</span><span id="__span-19-2640"><a id="__codelineno-19-2640" name="__codelineno-19-2640" href="#__codelineno-19-2640"></a>                          type: integer
</span><span id="__span-19-2641"><a id="__codelineno-19-2641" name="__codelineno-19-2641" href="#__codelineno-19-2641"></a>                        type:
</span><span id="__span-19-2642"><a id="__codelineno-19-2642" name="__codelineno-19-2642" href="#__codelineno-19-2642"></a>                          description: Match on a specific ICMP type.  For example
</span><span id="__span-19-2643"><a id="__codelineno-19-2643" name="__codelineno-19-2643" href="#__codelineno-19-2643"></a>                            a value of 8 refers to ICMP Echo Request (i.e. pings).
</span><span id="__span-19-2644"><a id="__codelineno-19-2644" name="__codelineno-19-2644" href="#__codelineno-19-2644"></a>                          type: integer
</span><span id="__span-19-2645"><a id="__codelineno-19-2645" name="__codelineno-19-2645" href="#__codelineno-19-2645"></a>                      type: object
</span><span id="__span-19-2646"><a id="__codelineno-19-2646" name="__codelineno-19-2646" href="#__codelineno-19-2646"></a>                    ipVersion:
</span><span id="__span-19-2647"><a id="__codelineno-19-2647" name="__codelineno-19-2647" href="#__codelineno-19-2647"></a>                      description: IPVersion is an optional field that restricts the
</span><span id="__span-19-2648"><a id="__codelineno-19-2648" name="__codelineno-19-2648" href="#__codelineno-19-2648"></a>                        rule to only match a specific IP version.
</span><span id="__span-19-2649"><a id="__codelineno-19-2649" name="__codelineno-19-2649" href="#__codelineno-19-2649"></a>                      type: integer
</span><span id="__span-19-2650"><a id="__codelineno-19-2650" name="__codelineno-19-2650" href="#__codelineno-19-2650"></a>                    metadata:
</span><span id="__span-19-2651"><a id="__codelineno-19-2651" name="__codelineno-19-2651" href="#__codelineno-19-2651"></a>                      description: Metadata contains additional information for this
</span><span id="__span-19-2652"><a id="__codelineno-19-2652" name="__codelineno-19-2652" href="#__codelineno-19-2652"></a>                        rule
</span><span id="__span-19-2653"><a id="__codelineno-19-2653" name="__codelineno-19-2653" href="#__codelineno-19-2653"></a>                      properties:
</span><span id="__span-19-2654"><a id="__codelineno-19-2654" name="__codelineno-19-2654" href="#__codelineno-19-2654"></a>                        annotations:
</span><span id="__span-19-2655"><a id="__codelineno-19-2655" name="__codelineno-19-2655" href="#__codelineno-19-2655"></a>                          additionalProperties:
</span><span id="__span-19-2656"><a id="__codelineno-19-2656" name="__codelineno-19-2656" href="#__codelineno-19-2656"></a>                            type: string
</span><span id="__span-19-2657"><a id="__codelineno-19-2657" name="__codelineno-19-2657" href="#__codelineno-19-2657"></a>                          description: Annotations is a set of key value pairs that
</span><span id="__span-19-2658"><a id="__codelineno-19-2658" name="__codelineno-19-2658" href="#__codelineno-19-2658"></a>                            give extra information about the rule
</span><span id="__span-19-2659"><a id="__codelineno-19-2659" name="__codelineno-19-2659" href="#__codelineno-19-2659"></a>                          type: object
</span><span id="__span-19-2660"><a id="__codelineno-19-2660" name="__codelineno-19-2660" href="#__codelineno-19-2660"></a>                      type: object
</span><span id="__span-19-2661"><a id="__codelineno-19-2661" name="__codelineno-19-2661" href="#__codelineno-19-2661"></a>                    notICMP:
</span><span id="__span-19-2662"><a id="__codelineno-19-2662" name="__codelineno-19-2662" href="#__codelineno-19-2662"></a>                      description: NotICMP is the negated version of the ICMP field.
</span><span id="__span-19-2663"><a id="__codelineno-19-2663" name="__codelineno-19-2663" href="#__codelineno-19-2663"></a>                      properties:
</span><span id="__span-19-2664"><a id="__codelineno-19-2664" name="__codelineno-19-2664" href="#__codelineno-19-2664"></a>                        code:
</span><span id="__span-19-2665"><a id="__codelineno-19-2665" name="__codelineno-19-2665" href="#__codelineno-19-2665"></a>                          description: Match on a specific ICMP code.  If specified,
</span><span id="__span-19-2666"><a id="__codelineno-19-2666" name="__codelineno-19-2666" href="#__codelineno-19-2666"></a>                            the Type value must also be specified. This is a technical
</span><span id="__span-19-2667"><a id="__codelineno-19-2667" name="__codelineno-19-2667" href="#__codelineno-19-2667"></a>                            limitation imposed by the kernel&#39;s iptables firewall,
</span><span id="__span-19-2668"><a id="__codelineno-19-2668" name="__codelineno-19-2668" href="#__codelineno-19-2668"></a>                            which Calico uses to enforce the rule.
</span><span id="__span-19-2669"><a id="__codelineno-19-2669" name="__codelineno-19-2669" href="#__codelineno-19-2669"></a>                          type: integer
</span><span id="__span-19-2670"><a id="__codelineno-19-2670" name="__codelineno-19-2670" href="#__codelineno-19-2670"></a>                        type:
</span><span id="__span-19-2671"><a id="__codelineno-19-2671" name="__codelineno-19-2671" href="#__codelineno-19-2671"></a>                          description: Match on a specific ICMP type.  For example
</span><span id="__span-19-2672"><a id="__codelineno-19-2672" name="__codelineno-19-2672" href="#__codelineno-19-2672"></a>                            a value of 8 refers to ICMP Echo Request (i.e. pings).
</span><span id="__span-19-2673"><a id="__codelineno-19-2673" name="__codelineno-19-2673" href="#__codelineno-19-2673"></a>                          type: integer
</span><span id="__span-19-2674"><a id="__codelineno-19-2674" name="__codelineno-19-2674" href="#__codelineno-19-2674"></a>                      type: object
</span><span id="__span-19-2675"><a id="__codelineno-19-2675" name="__codelineno-19-2675" href="#__codelineno-19-2675"></a>                    notProtocol:
</span><span id="__span-19-2676"><a id="__codelineno-19-2676" name="__codelineno-19-2676" href="#__codelineno-19-2676"></a>                      anyOf:
</span><span id="__span-19-2677"><a id="__codelineno-19-2677" name="__codelineno-19-2677" href="#__codelineno-19-2677"></a>                      - type: integer
</span><span id="__span-19-2678"><a id="__codelineno-19-2678" name="__codelineno-19-2678" href="#__codelineno-19-2678"></a>                      - type: string
</span><span id="__span-19-2679"><a id="__codelineno-19-2679" name="__codelineno-19-2679" href="#__codelineno-19-2679"></a>                      description: NotProtocol is the negated version of the Protocol
</span><span id="__span-19-2680"><a id="__codelineno-19-2680" name="__codelineno-19-2680" href="#__codelineno-19-2680"></a>                        field.
</span><span id="__span-19-2681"><a id="__codelineno-19-2681" name="__codelineno-19-2681" href="#__codelineno-19-2681"></a>                      pattern: ^.*
</span><span id="__span-19-2682"><a id="__codelineno-19-2682" name="__codelineno-19-2682" href="#__codelineno-19-2682"></a>                      x-kubernetes-int-or-string: true
</span><span id="__span-19-2683"><a id="__codelineno-19-2683" name="__codelineno-19-2683" href="#__codelineno-19-2683"></a>                    protocol:
</span><span id="__span-19-2684"><a id="__codelineno-19-2684" name="__codelineno-19-2684" href="#__codelineno-19-2684"></a>                      anyOf:
</span><span id="__span-19-2685"><a id="__codelineno-19-2685" name="__codelineno-19-2685" href="#__codelineno-19-2685"></a>                      - type: integer
</span><span id="__span-19-2686"><a id="__codelineno-19-2686" name="__codelineno-19-2686" href="#__codelineno-19-2686"></a>                      - type: string
</span><span id="__span-19-2687"><a id="__codelineno-19-2687" name="__codelineno-19-2687" href="#__codelineno-19-2687"></a>                      description: &quot;Protocol is an optional field that restricts the
</span><span id="__span-19-2688"><a id="__codelineno-19-2688" name="__codelineno-19-2688" href="#__codelineno-19-2688"></a>                        rule to only apply to traffic of a specific IP protocol. Required
</span><span id="__span-19-2689"><a id="__codelineno-19-2689" name="__codelineno-19-2689" href="#__codelineno-19-2689"></a>                        if any of the EntityRules contain Ports (because ports only
</span><span id="__span-19-2690"><a id="__codelineno-19-2690" name="__codelineno-19-2690" href="#__codelineno-19-2690"></a>                        apply to certain protocols). \n Must be one of these string
</span><span id="__span-19-2691"><a id="__codelineno-19-2691" name="__codelineno-19-2691" href="#__codelineno-19-2691"></a>                        values: \&quot;TCP\&quot;, \&quot;UDP\&quot;, \&quot;ICMP\&quot;, \&quot;ICMPv6\&quot;, \&quot;SCTP\&quot;,
</span><span id="__span-19-2692"><a id="__codelineno-19-2692" name="__codelineno-19-2692" href="#__codelineno-19-2692"></a>                        \&quot;UDPLite\&quot; or an integer in the range 1-255.&quot;
</span><span id="__span-19-2693"><a id="__codelineno-19-2693" name="__codelineno-19-2693" href="#__codelineno-19-2693"></a>                      pattern: ^.*
</span><span id="__span-19-2694"><a id="__codelineno-19-2694" name="__codelineno-19-2694" href="#__codelineno-19-2694"></a>                      x-kubernetes-int-or-string: true
</span><span id="__span-19-2695"><a id="__codelineno-19-2695" name="__codelineno-19-2695" href="#__codelineno-19-2695"></a>                    source:
</span><span id="__span-19-2696"><a id="__codelineno-19-2696" name="__codelineno-19-2696" href="#__codelineno-19-2696"></a>                      description: Source contains the match criteria that apply to
</span><span id="__span-19-2697"><a id="__codelineno-19-2697" name="__codelineno-19-2697" href="#__codelineno-19-2697"></a>                        source entity.
</span><span id="__span-19-2698"><a id="__codelineno-19-2698" name="__codelineno-19-2698" href="#__codelineno-19-2698"></a>                      properties:
</span><span id="__span-19-2699"><a id="__codelineno-19-2699" name="__codelineno-19-2699" href="#__codelineno-19-2699"></a>                        namespaceSelector:
</span><span id="__span-19-2700"><a id="__codelineno-19-2700" name="__codelineno-19-2700" href="#__codelineno-19-2700"></a>                          description: &quot;NamespaceSelector is an optional field that
</span><span id="__span-19-2701"><a id="__codelineno-19-2701" name="__codelineno-19-2701" href="#__codelineno-19-2701"></a>                            contains a selector expression. Only traffic that originates
</span><span id="__span-19-2702"><a id="__codelineno-19-2702" name="__codelineno-19-2702" href="#__codelineno-19-2702"></a>                            from (or terminates at) endpoints within the selected
</span><span id="__span-19-2703"><a id="__codelineno-19-2703" name="__codelineno-19-2703" href="#__codelineno-19-2703"></a>                            namespaces will be matched. When both NamespaceSelector
</span><span id="__span-19-2704"><a id="__codelineno-19-2704" name="__codelineno-19-2704" href="#__codelineno-19-2704"></a>                            and Selector are defined on the same rule, then only workload
</span><span id="__span-19-2705"><a id="__codelineno-19-2705" name="__codelineno-19-2705" href="#__codelineno-19-2705"></a>                            endpoints that are matched by both selectors will be selected
</span><span id="__span-19-2706"><a id="__codelineno-19-2706" name="__codelineno-19-2706" href="#__codelineno-19-2706"></a>                            by the rule. \n For NetworkPolicy, an empty NamespaceSelector
</span><span id="__span-19-2707"><a id="__codelineno-19-2707" name="__codelineno-19-2707" href="#__codelineno-19-2707"></a>                            implies that the Selector is limited to selecting only
</span><span id="__span-19-2708"><a id="__codelineno-19-2708" name="__codelineno-19-2708" href="#__codelineno-19-2708"></a>                            workload endpoints in the same namespace as the NetworkPolicy.
</span><span id="__span-19-2709"><a id="__codelineno-19-2709" name="__codelineno-19-2709" href="#__codelineno-19-2709"></a>                            \n For NetworkPolicy, `global()` NamespaceSelector implies
</span><span id="__span-19-2710"><a id="__codelineno-19-2710" name="__codelineno-19-2710" href="#__codelineno-19-2710"></a>                            that the Selector is limited to selecting only GlobalNetworkSet
</span><span id="__span-19-2711"><a id="__codelineno-19-2711" name="__codelineno-19-2711" href="#__codelineno-19-2711"></a>                            or HostEndpoint. \n For GlobalNetworkPolicy, an empty
</span><span id="__span-19-2712"><a id="__codelineno-19-2712" name="__codelineno-19-2712" href="#__codelineno-19-2712"></a>                            NamespaceSelector implies the Selector applies to workload
</span><span id="__span-19-2713"><a id="__codelineno-19-2713" name="__codelineno-19-2713" href="#__codelineno-19-2713"></a>                            endpoints across all namespaces.&quot;
</span><span id="__span-19-2714"><a id="__codelineno-19-2714" name="__codelineno-19-2714" href="#__codelineno-19-2714"></a>                          type: string
</span><span id="__span-19-2715"><a id="__codelineno-19-2715" name="__codelineno-19-2715" href="#__codelineno-19-2715"></a>                        nets:
</span><span id="__span-19-2716"><a id="__codelineno-19-2716" name="__codelineno-19-2716" href="#__codelineno-19-2716"></a>                          description: Nets is an optional field that restricts the
</span><span id="__span-19-2717"><a id="__codelineno-19-2717" name="__codelineno-19-2717" href="#__codelineno-19-2717"></a>                            rule to only apply to traffic that originates from (or
</span><span id="__span-19-2718"><a id="__codelineno-19-2718" name="__codelineno-19-2718" href="#__codelineno-19-2718"></a>                            terminates at) IP addresses in any of the given subnets.
</span><span id="__span-19-2719"><a id="__codelineno-19-2719" name="__codelineno-19-2719" href="#__codelineno-19-2719"></a>                          items:
</span><span id="__span-19-2720"><a id="__codelineno-19-2720" name="__codelineno-19-2720" href="#__codelineno-19-2720"></a>                            type: string
</span><span id="__span-19-2721"><a id="__codelineno-19-2721" name="__codelineno-19-2721" href="#__codelineno-19-2721"></a>                          type: array
</span><span id="__span-19-2722"><a id="__codelineno-19-2722" name="__codelineno-19-2722" href="#__codelineno-19-2722"></a>                        notNets:
</span><span id="__span-19-2723"><a id="__codelineno-19-2723" name="__codelineno-19-2723" href="#__codelineno-19-2723"></a>                          description: NotNets is the negated version of the Nets
</span><span id="__span-19-2724"><a id="__codelineno-19-2724" name="__codelineno-19-2724" href="#__codelineno-19-2724"></a>                            field.
</span><span id="__span-19-2725"><a id="__codelineno-19-2725" name="__codelineno-19-2725" href="#__codelineno-19-2725"></a>                          items:
</span><span id="__span-19-2726"><a id="__codelineno-19-2726" name="__codelineno-19-2726" href="#__codelineno-19-2726"></a>                            type: string
</span><span id="__span-19-2727"><a id="__codelineno-19-2727" name="__codelineno-19-2727" href="#__codelineno-19-2727"></a>                          type: array
</span><span id="__span-19-2728"><a id="__codelineno-19-2728" name="__codelineno-19-2728" href="#__codelineno-19-2728"></a>                        notPorts:
</span><span id="__span-19-2729"><a id="__codelineno-19-2729" name="__codelineno-19-2729" href="#__codelineno-19-2729"></a>                          description: NotPorts is the negated version of the Ports
</span><span id="__span-19-2730"><a id="__codelineno-19-2730" name="__codelineno-19-2730" href="#__codelineno-19-2730"></a>                            field. Since only some protocols have ports, if any ports
</span><span id="__span-19-2731"><a id="__codelineno-19-2731" name="__codelineno-19-2731" href="#__codelineno-19-2731"></a>                            are specified it requires the Protocol match in the Rule
</span><span id="__span-19-2732"><a id="__codelineno-19-2732" name="__codelineno-19-2732" href="#__codelineno-19-2732"></a>                            to be set to &quot;TCP&quot; or &quot;UDP&quot;.
</span><span id="__span-19-2733"><a id="__codelineno-19-2733" name="__codelineno-19-2733" href="#__codelineno-19-2733"></a>                          items:
</span><span id="__span-19-2734"><a id="__codelineno-19-2734" name="__codelineno-19-2734" href="#__codelineno-19-2734"></a>                            anyOf:
</span><span id="__span-19-2735"><a id="__codelineno-19-2735" name="__codelineno-19-2735" href="#__codelineno-19-2735"></a>                            - type: integer
</span><span id="__span-19-2736"><a id="__codelineno-19-2736" name="__codelineno-19-2736" href="#__codelineno-19-2736"></a>                            - type: string
</span><span id="__span-19-2737"><a id="__codelineno-19-2737" name="__codelineno-19-2737" href="#__codelineno-19-2737"></a>                            pattern: ^.*
</span><span id="__span-19-2738"><a id="__codelineno-19-2738" name="__codelineno-19-2738" href="#__codelineno-19-2738"></a>                            x-kubernetes-int-or-string: true
</span><span id="__span-19-2739"><a id="__codelineno-19-2739" name="__codelineno-19-2739" href="#__codelineno-19-2739"></a>                          type: array
</span><span id="__span-19-2740"><a id="__codelineno-19-2740" name="__codelineno-19-2740" href="#__codelineno-19-2740"></a>                        notSelector:
</span><span id="__span-19-2741"><a id="__codelineno-19-2741" name="__codelineno-19-2741" href="#__codelineno-19-2741"></a>                          description: NotSelector is the negated version of the Selector
</span><span id="__span-19-2742"><a id="__codelineno-19-2742" name="__codelineno-19-2742" href="#__codelineno-19-2742"></a>                            field.  See Selector field for subtleties with negated
</span><span id="__span-19-2743"><a id="__codelineno-19-2743" name="__codelineno-19-2743" href="#__codelineno-19-2743"></a>                            selectors.
</span><span id="__span-19-2744"><a id="__codelineno-19-2744" name="__codelineno-19-2744" href="#__codelineno-19-2744"></a>                          type: string
</span><span id="__span-19-2745"><a id="__codelineno-19-2745" name="__codelineno-19-2745" href="#__codelineno-19-2745"></a>                        ports:
</span><span id="__span-19-2746"><a id="__codelineno-19-2746" name="__codelineno-19-2746" href="#__codelineno-19-2746"></a>                          description: &quot;Ports is an optional field that restricts
</span><span id="__span-19-2747"><a id="__codelineno-19-2747" name="__codelineno-19-2747" href="#__codelineno-19-2747"></a>                            the rule to only apply to traffic that has a source (destination)
</span><span id="__span-19-2748"><a id="__codelineno-19-2748" name="__codelineno-19-2748" href="#__codelineno-19-2748"></a>                            port that matches one of these ranges/values. This value
</span><span id="__span-19-2749"><a id="__codelineno-19-2749" name="__codelineno-19-2749" href="#__codelineno-19-2749"></a>                            is a list of integers or strings that represent ranges
</span><span id="__span-19-2750"><a id="__codelineno-19-2750" name="__codelineno-19-2750" href="#__codelineno-19-2750"></a>                            of ports. \n Since only some protocols have ports, if
</span><span id="__span-19-2751"><a id="__codelineno-19-2751" name="__codelineno-19-2751" href="#__codelineno-19-2751"></a>                            any ports are specified it requires the Protocol match
</span><span id="__span-19-2752"><a id="__codelineno-19-2752" name="__codelineno-19-2752" href="#__codelineno-19-2752"></a>                            in the Rule to be set to \&quot;TCP\&quot; or \&quot;UDP\&quot;.&quot;
</span><span id="__span-19-2753"><a id="__codelineno-19-2753" name="__codelineno-19-2753" href="#__codelineno-19-2753"></a>                          items:
</span><span id="__span-19-2754"><a id="__codelineno-19-2754" name="__codelineno-19-2754" href="#__codelineno-19-2754"></a>                            anyOf:
</span><span id="__span-19-2755"><a id="__codelineno-19-2755" name="__codelineno-19-2755" href="#__codelineno-19-2755"></a>                            - type: integer
</span><span id="__span-19-2756"><a id="__codelineno-19-2756" name="__codelineno-19-2756" href="#__codelineno-19-2756"></a>                            - type: string
</span><span id="__span-19-2757"><a id="__codelineno-19-2757" name="__codelineno-19-2757" href="#__codelineno-19-2757"></a>                            pattern: ^.*
</span><span id="__span-19-2758"><a id="__codelineno-19-2758" name="__codelineno-19-2758" href="#__codelineno-19-2758"></a>                            x-kubernetes-int-or-string: true
</span><span id="__span-19-2759"><a id="__codelineno-19-2759" name="__codelineno-19-2759" href="#__codelineno-19-2759"></a>                          type: array
</span><span id="__span-19-2760"><a id="__codelineno-19-2760" name="__codelineno-19-2760" href="#__codelineno-19-2760"></a>                        selector:
</span><span id="__span-19-2761"><a id="__codelineno-19-2761" name="__codelineno-19-2761" href="#__codelineno-19-2761"></a>                          description: &quot;Selector is an optional field that contains
</span><span id="__span-19-2762"><a id="__codelineno-19-2762" name="__codelineno-19-2762" href="#__codelineno-19-2762"></a>                            a selector expression (see Policy for sample syntax).
</span><span id="__span-19-2763"><a id="__codelineno-19-2763" name="__codelineno-19-2763" href="#__codelineno-19-2763"></a>                            \ Only traffic that originates from (terminates at) endpoints
</span><span id="__span-19-2764"><a id="__codelineno-19-2764" name="__codelineno-19-2764" href="#__codelineno-19-2764"></a>                            matching the selector will be matched. \n Note that: in
</span><span id="__span-19-2765"><a id="__codelineno-19-2765" name="__codelineno-19-2765" href="#__codelineno-19-2765"></a>                            addition to the negated version of the Selector (see NotSelector
</span><span id="__span-19-2766"><a id="__codelineno-19-2766" name="__codelineno-19-2766" href="#__codelineno-19-2766"></a>                            below), the selector expression syntax itself supports
</span><span id="__span-19-2767"><a id="__codelineno-19-2767" name="__codelineno-19-2767" href="#__codelineno-19-2767"></a>                            negation.  The two types of negation are subtly different.
</span><span id="__span-19-2768"><a id="__codelineno-19-2768" name="__codelineno-19-2768" href="#__codelineno-19-2768"></a>                            One negates the set of matched endpoints, the other negates
</span><span id="__span-19-2769"><a id="__codelineno-19-2769" name="__codelineno-19-2769" href="#__codelineno-19-2769"></a>                            the whole match: \n \tSelector = \&quot;!has(my_label)\&quot; matches
</span><span id="__span-19-2770"><a id="__codelineno-19-2770" name="__codelineno-19-2770" href="#__codelineno-19-2770"></a>                            packets that are from other Calico-controlled \tendpoints
</span><span id="__span-19-2771"><a id="__codelineno-19-2771" name="__codelineno-19-2771" href="#__codelineno-19-2771"></a>                            that do not have the label \&quot;my_label\&quot;. \n \tNotSelector
</span><span id="__span-19-2772"><a id="__codelineno-19-2772" name="__codelineno-19-2772" href="#__codelineno-19-2772"></a>                            = \&quot;has(my_label)\&quot; matches packets that are not from
</span><span id="__span-19-2773"><a id="__codelineno-19-2773" name="__codelineno-19-2773" href="#__codelineno-19-2773"></a>                            Calico-controlled \tendpoints that do have the label \&quot;my_label\&quot;.
</span><span id="__span-19-2774"><a id="__codelineno-19-2774" name="__codelineno-19-2774" href="#__codelineno-19-2774"></a>                            \n The effect is that the latter will accept packets from
</span><span id="__span-19-2775"><a id="__codelineno-19-2775" name="__codelineno-19-2775" href="#__codelineno-19-2775"></a>                            non-Calico sources whereas the former is limited to packets
</span><span id="__span-19-2776"><a id="__codelineno-19-2776" name="__codelineno-19-2776" href="#__codelineno-19-2776"></a>                            from Calico-controlled endpoints.&quot;
</span><span id="__span-19-2777"><a id="__codelineno-19-2777" name="__codelineno-19-2777" href="#__codelineno-19-2777"></a>                          type: string
</span><span id="__span-19-2778"><a id="__codelineno-19-2778" name="__codelineno-19-2778" href="#__codelineno-19-2778"></a>                        serviceAccounts:
</span><span id="__span-19-2779"><a id="__codelineno-19-2779" name="__codelineno-19-2779" href="#__codelineno-19-2779"></a>                          description: ServiceAccounts is an optional field that restricts
</span><span id="__span-19-2780"><a id="__codelineno-19-2780" name="__codelineno-19-2780" href="#__codelineno-19-2780"></a>                            the rule to only apply to traffic that originates from
</span><span id="__span-19-2781"><a id="__codelineno-19-2781" name="__codelineno-19-2781" href="#__codelineno-19-2781"></a>                            (or terminates at) a pod running as a matching service
</span><span id="__span-19-2782"><a id="__codelineno-19-2782" name="__codelineno-19-2782" href="#__codelineno-19-2782"></a>                            account.
</span><span id="__span-19-2783"><a id="__codelineno-19-2783" name="__codelineno-19-2783" href="#__codelineno-19-2783"></a>                          properties:
</span><span id="__span-19-2784"><a id="__codelineno-19-2784" name="__codelineno-19-2784" href="#__codelineno-19-2784"></a>                            names:
</span><span id="__span-19-2785"><a id="__codelineno-19-2785" name="__codelineno-19-2785" href="#__codelineno-19-2785"></a>                              description: Names is an optional field that restricts
</span><span id="__span-19-2786"><a id="__codelineno-19-2786" name="__codelineno-19-2786" href="#__codelineno-19-2786"></a>                                the rule to only apply to traffic that originates
</span><span id="__span-19-2787"><a id="__codelineno-19-2787" name="__codelineno-19-2787" href="#__codelineno-19-2787"></a>                                from (or terminates at) a pod running as a service
</span><span id="__span-19-2788"><a id="__codelineno-19-2788" name="__codelineno-19-2788" href="#__codelineno-19-2788"></a>                                account whose name is in the list.
</span><span id="__span-19-2789"><a id="__codelineno-19-2789" name="__codelineno-19-2789" href="#__codelineno-19-2789"></a>                              items:
</span><span id="__span-19-2790"><a id="__codelineno-19-2790" name="__codelineno-19-2790" href="#__codelineno-19-2790"></a>                                type: string
</span><span id="__span-19-2791"><a id="__codelineno-19-2791" name="__codelineno-19-2791" href="#__codelineno-19-2791"></a>                              type: array
</span><span id="__span-19-2792"><a id="__codelineno-19-2792" name="__codelineno-19-2792" href="#__codelineno-19-2792"></a>                            selector:
</span><span id="__span-19-2793"><a id="__codelineno-19-2793" name="__codelineno-19-2793" href="#__codelineno-19-2793"></a>                              description: Selector is an optional field that restricts
</span><span id="__span-19-2794"><a id="__codelineno-19-2794" name="__codelineno-19-2794" href="#__codelineno-19-2794"></a>                                the rule to only apply to traffic that originates
</span><span id="__span-19-2795"><a id="__codelineno-19-2795" name="__codelineno-19-2795" href="#__codelineno-19-2795"></a>                                from (or terminates at) a pod running as a service
</span><span id="__span-19-2796"><a id="__codelineno-19-2796" name="__codelineno-19-2796" href="#__codelineno-19-2796"></a>                                account that matches the given label selector. If
</span><span id="__span-19-2797"><a id="__codelineno-19-2797" name="__codelineno-19-2797" href="#__codelineno-19-2797"></a>                                both Names and Selector are specified then they are
</span><span id="__span-19-2798"><a id="__codelineno-19-2798" name="__codelineno-19-2798" href="#__codelineno-19-2798"></a>                                AND&#39;ed.
</span><span id="__span-19-2799"><a id="__codelineno-19-2799" name="__codelineno-19-2799" href="#__codelineno-19-2799"></a>                              type: string
</span><span id="__span-19-2800"><a id="__codelineno-19-2800" name="__codelineno-19-2800" href="#__codelineno-19-2800"></a>                          type: object
</span><span id="__span-19-2801"><a id="__codelineno-19-2801" name="__codelineno-19-2801" href="#__codelineno-19-2801"></a>                      type: object
</span><span id="__span-19-2802"><a id="__codelineno-19-2802" name="__codelineno-19-2802" href="#__codelineno-19-2802"></a>                  required:
</span><span id="__span-19-2803"><a id="__codelineno-19-2803" name="__codelineno-19-2803" href="#__codelineno-19-2803"></a>                  - action
</span><span id="__span-19-2804"><a id="__codelineno-19-2804" name="__codelineno-19-2804" href="#__codelineno-19-2804"></a>                  type: object
</span><span id="__span-19-2805"><a id="__codelineno-19-2805" name="__codelineno-19-2805" href="#__codelineno-19-2805"></a>                type: array
</span><span id="__span-19-2806"><a id="__codelineno-19-2806" name="__codelineno-19-2806" href="#__codelineno-19-2806"></a>              ingress:
</span><span id="__span-19-2807"><a id="__codelineno-19-2807" name="__codelineno-19-2807" href="#__codelineno-19-2807"></a>                description: The ordered set of ingress rules.  Each rule contains
</span><span id="__span-19-2808"><a id="__codelineno-19-2808" name="__codelineno-19-2808" href="#__codelineno-19-2808"></a>                  a set of packet match criteria and a corresponding action to apply.
</span><span id="__span-19-2809"><a id="__codelineno-19-2809" name="__codelineno-19-2809" href="#__codelineno-19-2809"></a>                items:
</span><span id="__span-19-2810"><a id="__codelineno-19-2810" name="__codelineno-19-2810" href="#__codelineno-19-2810"></a>                  description: &quot;A Rule encapsulates a set of match criteria and an
</span><span id="__span-19-2811"><a id="__codelineno-19-2811" name="__codelineno-19-2811" href="#__codelineno-19-2811"></a>                    action.  Both selector-based security Policy and security Profiles
</span><span id="__span-19-2812"><a id="__codelineno-19-2812" name="__codelineno-19-2812" href="#__codelineno-19-2812"></a>                    reference rules - separated out as a list of rules for both ingress
</span><span id="__span-19-2813"><a id="__codelineno-19-2813" name="__codelineno-19-2813" href="#__codelineno-19-2813"></a>                    and egress packet matching. \n Each positive match criteria has
</span><span id="__span-19-2814"><a id="__codelineno-19-2814" name="__codelineno-19-2814" href="#__codelineno-19-2814"></a>                    a negated version, prefixed with \&quot;Not\&quot;. All the match criteria
</span><span id="__span-19-2815"><a id="__codelineno-19-2815" name="__codelineno-19-2815" href="#__codelineno-19-2815"></a>                    within a rule must be satisfied for a packet to match. A single
</span><span id="__span-19-2816"><a id="__codelineno-19-2816" name="__codelineno-19-2816" href="#__codelineno-19-2816"></a>                    rule can contain the positive and negative version of a match
</span><span id="__span-19-2817"><a id="__codelineno-19-2817" name="__codelineno-19-2817" href="#__codelineno-19-2817"></a>                    and both must be satisfied for the rule to match.&quot;
</span><span id="__span-19-2818"><a id="__codelineno-19-2818" name="__codelineno-19-2818" href="#__codelineno-19-2818"></a>                  properties:
</span><span id="__span-19-2819"><a id="__codelineno-19-2819" name="__codelineno-19-2819" href="#__codelineno-19-2819"></a>                    action:
</span><span id="__span-19-2820"><a id="__codelineno-19-2820" name="__codelineno-19-2820" href="#__codelineno-19-2820"></a>                      type: string
</span><span id="__span-19-2821"><a id="__codelineno-19-2821" name="__codelineno-19-2821" href="#__codelineno-19-2821"></a>                    destination:
</span><span id="__span-19-2822"><a id="__codelineno-19-2822" name="__codelineno-19-2822" href="#__codelineno-19-2822"></a>                      description: Destination contains the match criteria that apply
</span><span id="__span-19-2823"><a id="__codelineno-19-2823" name="__codelineno-19-2823" href="#__codelineno-19-2823"></a>                        to destination entity.
</span><span id="__span-19-2824"><a id="__codelineno-19-2824" name="__codelineno-19-2824" href="#__codelineno-19-2824"></a>                      properties:
</span><span id="__span-19-2825"><a id="__codelineno-19-2825" name="__codelineno-19-2825" href="#__codelineno-19-2825"></a>                        namespaceSelector:
</span><span id="__span-19-2826"><a id="__codelineno-19-2826" name="__codelineno-19-2826" href="#__codelineno-19-2826"></a>                          description: &quot;NamespaceSelector is an optional field that
</span><span id="__span-19-2827"><a id="__codelineno-19-2827" name="__codelineno-19-2827" href="#__codelineno-19-2827"></a>                            contains a selector expression. Only traffic that originates
</span><span id="__span-19-2828"><a id="__codelineno-19-2828" name="__codelineno-19-2828" href="#__codelineno-19-2828"></a>                            from (or terminates at) endpoints within the selected
</span><span id="__span-19-2829"><a id="__codelineno-19-2829" name="__codelineno-19-2829" href="#__codelineno-19-2829"></a>                            namespaces will be matched. When both NamespaceSelector
</span><span id="__span-19-2830"><a id="__codelineno-19-2830" name="__codelineno-19-2830" href="#__codelineno-19-2830"></a>                            and Selector are defined on the same rule, then only workload
</span><span id="__span-19-2831"><a id="__codelineno-19-2831" name="__codelineno-19-2831" href="#__codelineno-19-2831"></a>                            endpoints that are matched by both selectors will be selected
</span><span id="__span-19-2832"><a id="__codelineno-19-2832" name="__codelineno-19-2832" href="#__codelineno-19-2832"></a>                            by the rule. \n For NetworkPolicy, an empty NamespaceSelector
</span><span id="__span-19-2833"><a id="__codelineno-19-2833" name="__codelineno-19-2833" href="#__codelineno-19-2833"></a>                            implies that the Selector is limited to selecting only
</span><span id="__span-19-2834"><a id="__codelineno-19-2834" name="__codelineno-19-2834" href="#__codelineno-19-2834"></a>                            workload endpoints in the same namespace as the NetworkPolicy.
</span><span id="__span-19-2835"><a id="__codelineno-19-2835" name="__codelineno-19-2835" href="#__codelineno-19-2835"></a>                            \n For NetworkPolicy, `global()` NamespaceSelector implies
</span><span id="__span-19-2836"><a id="__codelineno-19-2836" name="__codelineno-19-2836" href="#__codelineno-19-2836"></a>                            that the Selector is limited to selecting only GlobalNetworkSet
</span><span id="__span-19-2837"><a id="__codelineno-19-2837" name="__codelineno-19-2837" href="#__codelineno-19-2837"></a>                            or HostEndpoint. \n For GlobalNetworkPolicy, an empty
</span><span id="__span-19-2838"><a id="__codelineno-19-2838" name="__codelineno-19-2838" href="#__codelineno-19-2838"></a>                            NamespaceSelector implies the Selector applies to workload
</span><span id="__span-19-2839"><a id="__codelineno-19-2839" name="__codelineno-19-2839" href="#__codelineno-19-2839"></a>                            endpoints across all namespaces.&quot;
</span><span id="__span-19-2840"><a id="__codelineno-19-2840" name="__codelineno-19-2840" href="#__codelineno-19-2840"></a>                          type: string
</span><span id="__span-19-2841"><a id="__codelineno-19-2841" name="__codelineno-19-2841" href="#__codelineno-19-2841"></a>                        nets:
</span><span id="__span-19-2842"><a id="__codelineno-19-2842" name="__codelineno-19-2842" href="#__codelineno-19-2842"></a>                          description: Nets is an optional field that restricts the
</span><span id="__span-19-2843"><a id="__codelineno-19-2843" name="__codelineno-19-2843" href="#__codelineno-19-2843"></a>                            rule to only apply to traffic that originates from (or
</span><span id="__span-19-2844"><a id="__codelineno-19-2844" name="__codelineno-19-2844" href="#__codelineno-19-2844"></a>                            terminates at) IP addresses in any of the given subnets.
</span><span id="__span-19-2845"><a id="__codelineno-19-2845" name="__codelineno-19-2845" href="#__codelineno-19-2845"></a>                          items:
</span><span id="__span-19-2846"><a id="__codelineno-19-2846" name="__codelineno-19-2846" href="#__codelineno-19-2846"></a>                            type: string
</span><span id="__span-19-2847"><a id="__codelineno-19-2847" name="__codelineno-19-2847" href="#__codelineno-19-2847"></a>                          type: array
</span><span id="__span-19-2848"><a id="__codelineno-19-2848" name="__codelineno-19-2848" href="#__codelineno-19-2848"></a>                        notNets:
</span><span id="__span-19-2849"><a id="__codelineno-19-2849" name="__codelineno-19-2849" href="#__codelineno-19-2849"></a>                          description: NotNets is the negated version of the Nets
</span><span id="__span-19-2850"><a id="__codelineno-19-2850" name="__codelineno-19-2850" href="#__codelineno-19-2850"></a>                            field.
</span><span id="__span-19-2851"><a id="__codelineno-19-2851" name="__codelineno-19-2851" href="#__codelineno-19-2851"></a>                          items:
</span><span id="__span-19-2852"><a id="__codelineno-19-2852" name="__codelineno-19-2852" href="#__codelineno-19-2852"></a>                            type: string
</span><span id="__span-19-2853"><a id="__codelineno-19-2853" name="__codelineno-19-2853" href="#__codelineno-19-2853"></a>                          type: array
</span><span id="__span-19-2854"><a id="__codelineno-19-2854" name="__codelineno-19-2854" href="#__codelineno-19-2854"></a>                        notPorts:
</span><span id="__span-19-2855"><a id="__codelineno-19-2855" name="__codelineno-19-2855" href="#__codelineno-19-2855"></a>                          description: NotPorts is the negated version of the Ports
</span><span id="__span-19-2856"><a id="__codelineno-19-2856" name="__codelineno-19-2856" href="#__codelineno-19-2856"></a>                            field. Since only some protocols have ports, if any ports
</span><span id="__span-19-2857"><a id="__codelineno-19-2857" name="__codelineno-19-2857" href="#__codelineno-19-2857"></a>                            are specified it requires the Protocol match in the Rule
</span><span id="__span-19-2858"><a id="__codelineno-19-2858" name="__codelineno-19-2858" href="#__codelineno-19-2858"></a>                            to be set to &quot;TCP&quot; or &quot;UDP&quot;.
</span><span id="__span-19-2859"><a id="__codelineno-19-2859" name="__codelineno-19-2859" href="#__codelineno-19-2859"></a>                          items:
</span><span id="__span-19-2860"><a id="__codelineno-19-2860" name="__codelineno-19-2860" href="#__codelineno-19-2860"></a>                            anyOf:
</span><span id="__span-19-2861"><a id="__codelineno-19-2861" name="__codelineno-19-2861" href="#__codelineno-19-2861"></a>                            - type: integer
</span><span id="__span-19-2862"><a id="__codelineno-19-2862" name="__codelineno-19-2862" href="#__codelineno-19-2862"></a>                            - type: string
</span><span id="__span-19-2863"><a id="__codelineno-19-2863" name="__codelineno-19-2863" href="#__codelineno-19-2863"></a>                            pattern: ^.*
</span><span id="__span-19-2864"><a id="__codelineno-19-2864" name="__codelineno-19-2864" href="#__codelineno-19-2864"></a>                            x-kubernetes-int-or-string: true
</span><span id="__span-19-2865"><a id="__codelineno-19-2865" name="__codelineno-19-2865" href="#__codelineno-19-2865"></a>                          type: array
</span><span id="__span-19-2866"><a id="__codelineno-19-2866" name="__codelineno-19-2866" href="#__codelineno-19-2866"></a>                        notSelector:
</span><span id="__span-19-2867"><a id="__codelineno-19-2867" name="__codelineno-19-2867" href="#__codelineno-19-2867"></a>                          description: NotSelector is the negated version of the Selector
</span><span id="__span-19-2868"><a id="__codelineno-19-2868" name="__codelineno-19-2868" href="#__codelineno-19-2868"></a>                            field.  See Selector field for subtleties with negated
</span><span id="__span-19-2869"><a id="__codelineno-19-2869" name="__codelineno-19-2869" href="#__codelineno-19-2869"></a>                            selectors.
</span><span id="__span-19-2870"><a id="__codelineno-19-2870" name="__codelineno-19-2870" href="#__codelineno-19-2870"></a>                          type: string
</span><span id="__span-19-2871"><a id="__codelineno-19-2871" name="__codelineno-19-2871" href="#__codelineno-19-2871"></a>                        ports:
</span><span id="__span-19-2872"><a id="__codelineno-19-2872" name="__codelineno-19-2872" href="#__codelineno-19-2872"></a>                          description: &quot;Ports is an optional field that restricts
</span><span id="__span-19-2873"><a id="__codelineno-19-2873" name="__codelineno-19-2873" href="#__codelineno-19-2873"></a>                            the rule to only apply to traffic that has a source (destination)
</span><span id="__span-19-2874"><a id="__codelineno-19-2874" name="__codelineno-19-2874" href="#__codelineno-19-2874"></a>                            port that matches one of these ranges/values. This value
</span><span id="__span-19-2875"><a id="__codelineno-19-2875" name="__codelineno-19-2875" href="#__codelineno-19-2875"></a>                            is a list of integers or strings that represent ranges
</span><span id="__span-19-2876"><a id="__codelineno-19-2876" name="__codelineno-19-2876" href="#__codelineno-19-2876"></a>                            of ports. \n Since only some protocols have ports, if
</span><span id="__span-19-2877"><a id="__codelineno-19-2877" name="__codelineno-19-2877" href="#__codelineno-19-2877"></a>                            any ports are specified it requires the Protocol match
</span><span id="__span-19-2878"><a id="__codelineno-19-2878" name="__codelineno-19-2878" href="#__codelineno-19-2878"></a>                            in the Rule to be set to \&quot;TCP\&quot; or \&quot;UDP\&quot;.&quot;
</span><span id="__span-19-2879"><a id="__codelineno-19-2879" name="__codelineno-19-2879" href="#__codelineno-19-2879"></a>                          items:
</span><span id="__span-19-2880"><a id="__codelineno-19-2880" name="__codelineno-19-2880" href="#__codelineno-19-2880"></a>                            anyOf:
</span><span id="__span-19-2881"><a id="__codelineno-19-2881" name="__codelineno-19-2881" href="#__codelineno-19-2881"></a>                            - type: integer
</span><span id="__span-19-2882"><a id="__codelineno-19-2882" name="__codelineno-19-2882" href="#__codelineno-19-2882"></a>                            - type: string
</span><span id="__span-19-2883"><a id="__codelineno-19-2883" name="__codelineno-19-2883" href="#__codelineno-19-2883"></a>                            pattern: ^.*
</span><span id="__span-19-2884"><a id="__codelineno-19-2884" name="__codelineno-19-2884" href="#__codelineno-19-2884"></a>                            x-kubernetes-int-or-string: true
</span><span id="__span-19-2885"><a id="__codelineno-19-2885" name="__codelineno-19-2885" href="#__codelineno-19-2885"></a>                          type: array
</span><span id="__span-19-2886"><a id="__codelineno-19-2886" name="__codelineno-19-2886" href="#__codelineno-19-2886"></a>                        selector:
</span><span id="__span-19-2887"><a id="__codelineno-19-2887" name="__codelineno-19-2887" href="#__codelineno-19-2887"></a>                          description: &quot;Selector is an optional field that contains
</span><span id="__span-19-2888"><a id="__codelineno-19-2888" name="__codelineno-19-2888" href="#__codelineno-19-2888"></a>                            a selector expression (see Policy for sample syntax).
</span><span id="__span-19-2889"><a id="__codelineno-19-2889" name="__codelineno-19-2889" href="#__codelineno-19-2889"></a>                            \ Only traffic that originates from (terminates at) endpoints
</span><span id="__span-19-2890"><a id="__codelineno-19-2890" name="__codelineno-19-2890" href="#__codelineno-19-2890"></a>                            matching the selector will be matched. \n Note that: in
</span><span id="__span-19-2891"><a id="__codelineno-19-2891" name="__codelineno-19-2891" href="#__codelineno-19-2891"></a>                            addition to the negated version of the Selector (see NotSelector
</span><span id="__span-19-2892"><a id="__codelineno-19-2892" name="__codelineno-19-2892" href="#__codelineno-19-2892"></a>                            below), the selector expression syntax itself supports
</span><span id="__span-19-2893"><a id="__codelineno-19-2893" name="__codelineno-19-2893" href="#__codelineno-19-2893"></a>                            negation.  The two types of negation are subtly different.
</span><span id="__span-19-2894"><a id="__codelineno-19-2894" name="__codelineno-19-2894" href="#__codelineno-19-2894"></a>                            One negates the set of matched endpoints, the other negates
</span><span id="__span-19-2895"><a id="__codelineno-19-2895" name="__codelineno-19-2895" href="#__codelineno-19-2895"></a>                            the whole match: \n \tSelector = \&quot;!has(my_label)\&quot; matches
</span><span id="__span-19-2896"><a id="__codelineno-19-2896" name="__codelineno-19-2896" href="#__codelineno-19-2896"></a>                            packets that are from other Calico-controlled \tendpoints
</span><span id="__span-19-2897"><a id="__codelineno-19-2897" name="__codelineno-19-2897" href="#__codelineno-19-2897"></a>                            that do not have the label \&quot;my_label\&quot;. \n \tNotSelector
</span><span id="__span-19-2898"><a id="__codelineno-19-2898" name="__codelineno-19-2898" href="#__codelineno-19-2898"></a>                            = \&quot;has(my_label)\&quot; matches packets that are not from
</span><span id="__span-19-2899"><a id="__codelineno-19-2899" name="__codelineno-19-2899" href="#__codelineno-19-2899"></a>                            Calico-controlled \tendpoints that do have the label \&quot;my_label\&quot;.
</span><span id="__span-19-2900"><a id="__codelineno-19-2900" name="__codelineno-19-2900" href="#__codelineno-19-2900"></a>                            \n The effect is that the latter will accept packets from
</span><span id="__span-19-2901"><a id="__codelineno-19-2901" name="__codelineno-19-2901" href="#__codelineno-19-2901"></a>                            non-Calico sources whereas the former is limited to packets
</span><span id="__span-19-2902"><a id="__codelineno-19-2902" name="__codelineno-19-2902" href="#__codelineno-19-2902"></a>                            from Calico-controlled endpoints.&quot;
</span><span id="__span-19-2903"><a id="__codelineno-19-2903" name="__codelineno-19-2903" href="#__codelineno-19-2903"></a>                          type: string
</span><span id="__span-19-2904"><a id="__codelineno-19-2904" name="__codelineno-19-2904" href="#__codelineno-19-2904"></a>                        serviceAccounts:
</span><span id="__span-19-2905"><a id="__codelineno-19-2905" name="__codelineno-19-2905" href="#__codelineno-19-2905"></a>                          description: ServiceAccounts is an optional field that restricts
</span><span id="__span-19-2906"><a id="__codelineno-19-2906" name="__codelineno-19-2906" href="#__codelineno-19-2906"></a>                            the rule to only apply to traffic that originates from
</span><span id="__span-19-2907"><a id="__codelineno-19-2907" name="__codelineno-19-2907" href="#__codelineno-19-2907"></a>                            (or terminates at) a pod running as a matching service
</span><span id="__span-19-2908"><a id="__codelineno-19-2908" name="__codelineno-19-2908" href="#__codelineno-19-2908"></a>                            account.
</span><span id="__span-19-2909"><a id="__codelineno-19-2909" name="__codelineno-19-2909" href="#__codelineno-19-2909"></a>                          properties:
</span><span id="__span-19-2910"><a id="__codelineno-19-2910" name="__codelineno-19-2910" href="#__codelineno-19-2910"></a>                            names:
</span><span id="__span-19-2911"><a id="__codelineno-19-2911" name="__codelineno-19-2911" href="#__codelineno-19-2911"></a>                              description: Names is an optional field that restricts
</span><span id="__span-19-2912"><a id="__codelineno-19-2912" name="__codelineno-19-2912" href="#__codelineno-19-2912"></a>                                the rule to only apply to traffic that originates
</span><span id="__span-19-2913"><a id="__codelineno-19-2913" name="__codelineno-19-2913" href="#__codelineno-19-2913"></a>                                from (or terminates at) a pod running as a service
</span><span id="__span-19-2914"><a id="__codelineno-19-2914" name="__codelineno-19-2914" href="#__codelineno-19-2914"></a>                                account whose name is in the list.
</span><span id="__span-19-2915"><a id="__codelineno-19-2915" name="__codelineno-19-2915" href="#__codelineno-19-2915"></a>                              items:
</span><span id="__span-19-2916"><a id="__codelineno-19-2916" name="__codelineno-19-2916" href="#__codelineno-19-2916"></a>                                type: string
</span><span id="__span-19-2917"><a id="__codelineno-19-2917" name="__codelineno-19-2917" href="#__codelineno-19-2917"></a>                              type: array
</span><span id="__span-19-2918"><a id="__codelineno-19-2918" name="__codelineno-19-2918" href="#__codelineno-19-2918"></a>                            selector:
</span><span id="__span-19-2919"><a id="__codelineno-19-2919" name="__codelineno-19-2919" href="#__codelineno-19-2919"></a>                              description: Selector is an optional field that restricts
</span><span id="__span-19-2920"><a id="__codelineno-19-2920" name="__codelineno-19-2920" href="#__codelineno-19-2920"></a>                                the rule to only apply to traffic that originates
</span><span id="__span-19-2921"><a id="__codelineno-19-2921" name="__codelineno-19-2921" href="#__codelineno-19-2921"></a>                                from (or terminates at) a pod running as a service
</span><span id="__span-19-2922"><a id="__codelineno-19-2922" name="__codelineno-19-2922" href="#__codelineno-19-2922"></a>                                account that matches the given label selector. If
</span><span id="__span-19-2923"><a id="__codelineno-19-2923" name="__codelineno-19-2923" href="#__codelineno-19-2923"></a>                                both Names and Selector are specified then they are
</span><span id="__span-19-2924"><a id="__codelineno-19-2924" name="__codelineno-19-2924" href="#__codelineno-19-2924"></a>                                AND&#39;ed.
</span><span id="__span-19-2925"><a id="__codelineno-19-2925" name="__codelineno-19-2925" href="#__codelineno-19-2925"></a>                              type: string
</span><span id="__span-19-2926"><a id="__codelineno-19-2926" name="__codelineno-19-2926" href="#__codelineno-19-2926"></a>                          type: object
</span><span id="__span-19-2927"><a id="__codelineno-19-2927" name="__codelineno-19-2927" href="#__codelineno-19-2927"></a>                      type: object
</span><span id="__span-19-2928"><a id="__codelineno-19-2928" name="__codelineno-19-2928" href="#__codelineno-19-2928"></a>                    http:
</span><span id="__span-19-2929"><a id="__codelineno-19-2929" name="__codelineno-19-2929" href="#__codelineno-19-2929"></a>                      description: HTTP contains match criteria that apply to HTTP
</span><span id="__span-19-2930"><a id="__codelineno-19-2930" name="__codelineno-19-2930" href="#__codelineno-19-2930"></a>                        requests.
</span><span id="__span-19-2931"><a id="__codelineno-19-2931" name="__codelineno-19-2931" href="#__codelineno-19-2931"></a>                      properties:
</span><span id="__span-19-2932"><a id="__codelineno-19-2932" name="__codelineno-19-2932" href="#__codelineno-19-2932"></a>                        methods:
</span><span id="__span-19-2933"><a id="__codelineno-19-2933" name="__codelineno-19-2933" href="#__codelineno-19-2933"></a>                          description: Methods is an optional field that restricts
</span><span id="__span-19-2934"><a id="__codelineno-19-2934" name="__codelineno-19-2934" href="#__codelineno-19-2934"></a>                            the rule to apply only to HTTP requests that use one of
</span><span id="__span-19-2935"><a id="__codelineno-19-2935" name="__codelineno-19-2935" href="#__codelineno-19-2935"></a>                            the listed HTTP Methods (e.g. GET, PUT, etc.) Multiple
</span><span id="__span-19-2936"><a id="__codelineno-19-2936" name="__codelineno-19-2936" href="#__codelineno-19-2936"></a>                            methods are OR&#39;d together.
</span><span id="__span-19-2937"><a id="__codelineno-19-2937" name="__codelineno-19-2937" href="#__codelineno-19-2937"></a>                          items:
</span><span id="__span-19-2938"><a id="__codelineno-19-2938" name="__codelineno-19-2938" href="#__codelineno-19-2938"></a>                            type: string
</span><span id="__span-19-2939"><a id="__codelineno-19-2939" name="__codelineno-19-2939" href="#__codelineno-19-2939"></a>                          type: array
</span><span id="__span-19-2940"><a id="__codelineno-19-2940" name="__codelineno-19-2940" href="#__codelineno-19-2940"></a>                        paths:
</span><span id="__span-19-2941"><a id="__codelineno-19-2941" name="__codelineno-19-2941" href="#__codelineno-19-2941"></a>                          description: &#39;Paths is an optional field that restricts
</span><span id="__span-19-2942"><a id="__codelineno-19-2942" name="__codelineno-19-2942" href="#__codelineno-19-2942"></a>                            the rule to apply to HTTP requests that use one of the
</span><span id="__span-19-2943"><a id="__codelineno-19-2943" name="__codelineno-19-2943" href="#__codelineno-19-2943"></a>                            listed HTTP Paths. Multiple paths are OR&#39;&#39;d together.
</span><span id="__span-19-2944"><a id="__codelineno-19-2944" name="__codelineno-19-2944" href="#__codelineno-19-2944"></a>                            e.g: - exact: /foo - prefix: /bar NOTE: Each entry may
</span><span id="__span-19-2945"><a id="__codelineno-19-2945" name="__codelineno-19-2945" href="#__codelineno-19-2945"></a>                            ONLY specify either a `exact` or a `prefix` match. The
</span><span id="__span-19-2946"><a id="__codelineno-19-2946" name="__codelineno-19-2946" href="#__codelineno-19-2946"></a>                            validator will check for it.&#39;
</span><span id="__span-19-2947"><a id="__codelineno-19-2947" name="__codelineno-19-2947" href="#__codelineno-19-2947"></a>                          items:
</span><span id="__span-19-2948"><a id="__codelineno-19-2948" name="__codelineno-19-2948" href="#__codelineno-19-2948"></a>                            description: &#39;HTTPPath specifies an HTTP path to match.
</span><span id="__span-19-2949"><a id="__codelineno-19-2949" name="__codelineno-19-2949" href="#__codelineno-19-2949"></a>                              It may be either of the form: exact: &lt;path&gt;: which matches
</span><span id="__span-19-2950"><a id="__codelineno-19-2950" name="__codelineno-19-2950" href="#__codelineno-19-2950"></a>                              the path exactly or prefix: &lt;path-prefix&gt;: which matches
</span><span id="__span-19-2951"><a id="__codelineno-19-2951" name="__codelineno-19-2951" href="#__codelineno-19-2951"></a>                              the path prefix&#39;
</span><span id="__span-19-2952"><a id="__codelineno-19-2952" name="__codelineno-19-2952" href="#__codelineno-19-2952"></a>                            properties:
</span><span id="__span-19-2953"><a id="__codelineno-19-2953" name="__codelineno-19-2953" href="#__codelineno-19-2953"></a>                              exact:
</span><span id="__span-19-2954"><a id="__codelineno-19-2954" name="__codelineno-19-2954" href="#__codelineno-19-2954"></a>                                type: string
</span><span id="__span-19-2955"><a id="__codelineno-19-2955" name="__codelineno-19-2955" href="#__codelineno-19-2955"></a>                              prefix:
</span><span id="__span-19-2956"><a id="__codelineno-19-2956" name="__codelineno-19-2956" href="#__codelineno-19-2956"></a>                                type: string
</span><span id="__span-19-2957"><a id="__codelineno-19-2957" name="__codelineno-19-2957" href="#__codelineno-19-2957"></a>                            type: object
</span><span id="__span-19-2958"><a id="__codelineno-19-2958" name="__codelineno-19-2958" href="#__codelineno-19-2958"></a>                          type: array
</span><span id="__span-19-2959"><a id="__codelineno-19-2959" name="__codelineno-19-2959" href="#__codelineno-19-2959"></a>                      type: object
</span><span id="__span-19-2960"><a id="__codelineno-19-2960" name="__codelineno-19-2960" href="#__codelineno-19-2960"></a>                    icmp:
</span><span id="__span-19-2961"><a id="__codelineno-19-2961" name="__codelineno-19-2961" href="#__codelineno-19-2961"></a>                      description: ICMP is an optional field that restricts the rule
</span><span id="__span-19-2962"><a id="__codelineno-19-2962" name="__codelineno-19-2962" href="#__codelineno-19-2962"></a>                        to apply to a specific type and code of ICMP traffic.  This
</span><span id="__span-19-2963"><a id="__codelineno-19-2963" name="__codelineno-19-2963" href="#__codelineno-19-2963"></a>                        should only be specified if the Protocol field is set to &quot;ICMP&quot;
</span><span id="__span-19-2964"><a id="__codelineno-19-2964" name="__codelineno-19-2964" href="#__codelineno-19-2964"></a>                        or &quot;ICMPv6&quot;.
</span><span id="__span-19-2965"><a id="__codelineno-19-2965" name="__codelineno-19-2965" href="#__codelineno-19-2965"></a>                      properties:
</span><span id="__span-19-2966"><a id="__codelineno-19-2966" name="__codelineno-19-2966" href="#__codelineno-19-2966"></a>                        code:
</span><span id="__span-19-2967"><a id="__codelineno-19-2967" name="__codelineno-19-2967" href="#__codelineno-19-2967"></a>                          description: Match on a specific ICMP code.  If specified,
</span><span id="__span-19-2968"><a id="__codelineno-19-2968" name="__codelineno-19-2968" href="#__codelineno-19-2968"></a>                            the Type value must also be specified. This is a technical
</span><span id="__span-19-2969"><a id="__codelineno-19-2969" name="__codelineno-19-2969" href="#__codelineno-19-2969"></a>                            limitation imposed by the kernel&#39;s iptables firewall,
</span><span id="__span-19-2970"><a id="__codelineno-19-2970" name="__codelineno-19-2970" href="#__codelineno-19-2970"></a>                            which Calico uses to enforce the rule.
</span><span id="__span-19-2971"><a id="__codelineno-19-2971" name="__codelineno-19-2971" href="#__codelineno-19-2971"></a>                          type: integer
</span><span id="__span-19-2972"><a id="__codelineno-19-2972" name="__codelineno-19-2972" href="#__codelineno-19-2972"></a>                        type:
</span><span id="__span-19-2973"><a id="__codelineno-19-2973" name="__codelineno-19-2973" href="#__codelineno-19-2973"></a>                          description: Match on a specific ICMP type.  For example
</span><span id="__span-19-2974"><a id="__codelineno-19-2974" name="__codelineno-19-2974" href="#__codelineno-19-2974"></a>                            a value of 8 refers to ICMP Echo Request (i.e. pings).
</span><span id="__span-19-2975"><a id="__codelineno-19-2975" name="__codelineno-19-2975" href="#__codelineno-19-2975"></a>                          type: integer
</span><span id="__span-19-2976"><a id="__codelineno-19-2976" name="__codelineno-19-2976" href="#__codelineno-19-2976"></a>                      type: object
</span><span id="__span-19-2977"><a id="__codelineno-19-2977" name="__codelineno-19-2977" href="#__codelineno-19-2977"></a>                    ipVersion:
</span><span id="__span-19-2978"><a id="__codelineno-19-2978" name="__codelineno-19-2978" href="#__codelineno-19-2978"></a>                      description: IPVersion is an optional field that restricts the
</span><span id="__span-19-2979"><a id="__codelineno-19-2979" name="__codelineno-19-2979" href="#__codelineno-19-2979"></a>                        rule to only match a specific IP version.
</span><span id="__span-19-2980"><a id="__codelineno-19-2980" name="__codelineno-19-2980" href="#__codelineno-19-2980"></a>                      type: integer
</span><span id="__span-19-2981"><a id="__codelineno-19-2981" name="__codelineno-19-2981" href="#__codelineno-19-2981"></a>                    metadata:
</span><span id="__span-19-2982"><a id="__codelineno-19-2982" name="__codelineno-19-2982" href="#__codelineno-19-2982"></a>                      description: Metadata contains additional information for this
</span><span id="__span-19-2983"><a id="__codelineno-19-2983" name="__codelineno-19-2983" href="#__codelineno-19-2983"></a>                        rule
</span><span id="__span-19-2984"><a id="__codelineno-19-2984" name="__codelineno-19-2984" href="#__codelineno-19-2984"></a>                      properties:
</span><span id="__span-19-2985"><a id="__codelineno-19-2985" name="__codelineno-19-2985" href="#__codelineno-19-2985"></a>                        annotations:
</span><span id="__span-19-2986"><a id="__codelineno-19-2986" name="__codelineno-19-2986" href="#__codelineno-19-2986"></a>                          additionalProperties:
</span><span id="__span-19-2987"><a id="__codelineno-19-2987" name="__codelineno-19-2987" href="#__codelineno-19-2987"></a>                            type: string
</span><span id="__span-19-2988"><a id="__codelineno-19-2988" name="__codelineno-19-2988" href="#__codelineno-19-2988"></a>                          description: Annotations is a set of key value pairs that
</span><span id="__span-19-2989"><a id="__codelineno-19-2989" name="__codelineno-19-2989" href="#__codelineno-19-2989"></a>                            give extra information about the rule
</span><span id="__span-19-2990"><a id="__codelineno-19-2990" name="__codelineno-19-2990" href="#__codelineno-19-2990"></a>                          type: object
</span><span id="__span-19-2991"><a id="__codelineno-19-2991" name="__codelineno-19-2991" href="#__codelineno-19-2991"></a>                      type: object
</span><span id="__span-19-2992"><a id="__codelineno-19-2992" name="__codelineno-19-2992" href="#__codelineno-19-2992"></a>                    notICMP:
</span><span id="__span-19-2993"><a id="__codelineno-19-2993" name="__codelineno-19-2993" href="#__codelineno-19-2993"></a>                      description: NotICMP is the negated version of the ICMP field.
</span><span id="__span-19-2994"><a id="__codelineno-19-2994" name="__codelineno-19-2994" href="#__codelineno-19-2994"></a>                      properties:
</span><span id="__span-19-2995"><a id="__codelineno-19-2995" name="__codelineno-19-2995" href="#__codelineno-19-2995"></a>                        code:
</span><span id="__span-19-2996"><a id="__codelineno-19-2996" name="__codelineno-19-2996" href="#__codelineno-19-2996"></a>                          description: Match on a specific ICMP code.  If specified,
</span><span id="__span-19-2997"><a id="__codelineno-19-2997" name="__codelineno-19-2997" href="#__codelineno-19-2997"></a>                            the Type value must also be specified. This is a technical
</span><span id="__span-19-2998"><a id="__codelineno-19-2998" name="__codelineno-19-2998" href="#__codelineno-19-2998"></a>                            limitation imposed by the kernel&#39;s iptables firewall,
</span><span id="__span-19-2999"><a id="__codelineno-19-2999" name="__codelineno-19-2999" href="#__codelineno-19-2999"></a>                            which Calico uses to enforce the rule.
</span><span id="__span-19-3000"><a id="__codelineno-19-3000" name="__codelineno-19-3000" href="#__codelineno-19-3000"></a>                          type: integer
</span><span id="__span-19-3001"><a id="__codelineno-19-3001" name="__codelineno-19-3001" href="#__codelineno-19-3001"></a>                        type:
</span><span id="__span-19-3002"><a id="__codelineno-19-3002" name="__codelineno-19-3002" href="#__codelineno-19-3002"></a>                          description: Match on a specific ICMP type.  For example
</span><span id="__span-19-3003"><a id="__codelineno-19-3003" name="__codelineno-19-3003" href="#__codelineno-19-3003"></a>                            a value of 8 refers to ICMP Echo Request (i.e. pings).
</span><span id="__span-19-3004"><a id="__codelineno-19-3004" name="__codelineno-19-3004" href="#__codelineno-19-3004"></a>                          type: integer
</span><span id="__span-19-3005"><a id="__codelineno-19-3005" name="__codelineno-19-3005" href="#__codelineno-19-3005"></a>                      type: object
</span><span id="__span-19-3006"><a id="__codelineno-19-3006" name="__codelineno-19-3006" href="#__codelineno-19-3006"></a>                    notProtocol:
</span><span id="__span-19-3007"><a id="__codelineno-19-3007" name="__codelineno-19-3007" href="#__codelineno-19-3007"></a>                      anyOf:
</span><span id="__span-19-3008"><a id="__codelineno-19-3008" name="__codelineno-19-3008" href="#__codelineno-19-3008"></a>                      - type: integer
</span><span id="__span-19-3009"><a id="__codelineno-19-3009" name="__codelineno-19-3009" href="#__codelineno-19-3009"></a>                      - type: string
</span><span id="__span-19-3010"><a id="__codelineno-19-3010" name="__codelineno-19-3010" href="#__codelineno-19-3010"></a>                      description: NotProtocol is the negated version of the Protocol
</span><span id="__span-19-3011"><a id="__codelineno-19-3011" name="__codelineno-19-3011" href="#__codelineno-19-3011"></a>                        field.
</span><span id="__span-19-3012"><a id="__codelineno-19-3012" name="__codelineno-19-3012" href="#__codelineno-19-3012"></a>                      pattern: ^.*
</span><span id="__span-19-3013"><a id="__codelineno-19-3013" name="__codelineno-19-3013" href="#__codelineno-19-3013"></a>                      x-kubernetes-int-or-string: true
</span><span id="__span-19-3014"><a id="__codelineno-19-3014" name="__codelineno-19-3014" href="#__codelineno-19-3014"></a>                    protocol:
</span><span id="__span-19-3015"><a id="__codelineno-19-3015" name="__codelineno-19-3015" href="#__codelineno-19-3015"></a>                      anyOf:
</span><span id="__span-19-3016"><a id="__codelineno-19-3016" name="__codelineno-19-3016" href="#__codelineno-19-3016"></a>                      - type: integer
</span><span id="__span-19-3017"><a id="__codelineno-19-3017" name="__codelineno-19-3017" href="#__codelineno-19-3017"></a>                      - type: string
</span><span id="__span-19-3018"><a id="__codelineno-19-3018" name="__codelineno-19-3018" href="#__codelineno-19-3018"></a>                      description: &quot;Protocol is an optional field that restricts the
</span><span id="__span-19-3019"><a id="__codelineno-19-3019" name="__codelineno-19-3019" href="#__codelineno-19-3019"></a>                        rule to only apply to traffic of a specific IP protocol. Required
</span><span id="__span-19-3020"><a id="__codelineno-19-3020" name="__codelineno-19-3020" href="#__codelineno-19-3020"></a>                        if any of the EntityRules contain Ports (because ports only
</span><span id="__span-19-3021"><a id="__codelineno-19-3021" name="__codelineno-19-3021" href="#__codelineno-19-3021"></a>                        apply to certain protocols). \n Must be one of these string
</span><span id="__span-19-3022"><a id="__codelineno-19-3022" name="__codelineno-19-3022" href="#__codelineno-19-3022"></a>                        values: \&quot;TCP\&quot;, \&quot;UDP\&quot;, \&quot;ICMP\&quot;, \&quot;ICMPv6\&quot;, \&quot;SCTP\&quot;,
</span><span id="__span-19-3023"><a id="__codelineno-19-3023" name="__codelineno-19-3023" href="#__codelineno-19-3023"></a>                        \&quot;UDPLite\&quot; or an integer in the range 1-255.&quot;
</span><span id="__span-19-3024"><a id="__codelineno-19-3024" name="__codelineno-19-3024" href="#__codelineno-19-3024"></a>                      pattern: ^.*
</span><span id="__span-19-3025"><a id="__codelineno-19-3025" name="__codelineno-19-3025" href="#__codelineno-19-3025"></a>                      x-kubernetes-int-or-string: true
</span><span id="__span-19-3026"><a id="__codelineno-19-3026" name="__codelineno-19-3026" href="#__codelineno-19-3026"></a>                    source:
</span><span id="__span-19-3027"><a id="__codelineno-19-3027" name="__codelineno-19-3027" href="#__codelineno-19-3027"></a>                      description: Source contains the match criteria that apply to
</span><span id="__span-19-3028"><a id="__codelineno-19-3028" name="__codelineno-19-3028" href="#__codelineno-19-3028"></a>                        source entity.
</span><span id="__span-19-3029"><a id="__codelineno-19-3029" name="__codelineno-19-3029" href="#__codelineno-19-3029"></a>                      properties:
</span><span id="__span-19-3030"><a id="__codelineno-19-3030" name="__codelineno-19-3030" href="#__codelineno-19-3030"></a>                        namespaceSelector:
</span><span id="__span-19-3031"><a id="__codelineno-19-3031" name="__codelineno-19-3031" href="#__codelineno-19-3031"></a>                          description: &quot;NamespaceSelector is an optional field that
</span><span id="__span-19-3032"><a id="__codelineno-19-3032" name="__codelineno-19-3032" href="#__codelineno-19-3032"></a>                            contains a selector expression. Only traffic that originates
</span><span id="__span-19-3033"><a id="__codelineno-19-3033" name="__codelineno-19-3033" href="#__codelineno-19-3033"></a>                            from (or terminates at) endpoints within the selected
</span><span id="__span-19-3034"><a id="__codelineno-19-3034" name="__codelineno-19-3034" href="#__codelineno-19-3034"></a>                            namespaces will be matched. When both NamespaceSelector
</span><span id="__span-19-3035"><a id="__codelineno-19-3035" name="__codelineno-19-3035" href="#__codelineno-19-3035"></a>                            and Selector are defined on the same rule, then only workload
</span><span id="__span-19-3036"><a id="__codelineno-19-3036" name="__codelineno-19-3036" href="#__codelineno-19-3036"></a>                            endpoints that are matched by both selectors will be selected
</span><span id="__span-19-3037"><a id="__codelineno-19-3037" name="__codelineno-19-3037" href="#__codelineno-19-3037"></a>                            by the rule. \n For NetworkPolicy, an empty NamespaceSelector
</span><span id="__span-19-3038"><a id="__codelineno-19-3038" name="__codelineno-19-3038" href="#__codelineno-19-3038"></a>                            implies that the Selector is limited to selecting only
</span><span id="__span-19-3039"><a id="__codelineno-19-3039" name="__codelineno-19-3039" href="#__codelineno-19-3039"></a>                            workload endpoints in the same namespace as the NetworkPolicy.
</span><span id="__span-19-3040"><a id="__codelineno-19-3040" name="__codelineno-19-3040" href="#__codelineno-19-3040"></a>                            \n For NetworkPolicy, `global()` NamespaceSelector implies
</span><span id="__span-19-3041"><a id="__codelineno-19-3041" name="__codelineno-19-3041" href="#__codelineno-19-3041"></a>                            that the Selector is limited to selecting only GlobalNetworkSet
</span><span id="__span-19-3042"><a id="__codelineno-19-3042" name="__codelineno-19-3042" href="#__codelineno-19-3042"></a>                            or HostEndpoint. \n For GlobalNetworkPolicy, an empty
</span><span id="__span-19-3043"><a id="__codelineno-19-3043" name="__codelineno-19-3043" href="#__codelineno-19-3043"></a>                            NamespaceSelector implies the Selector applies to workload
</span><span id="__span-19-3044"><a id="__codelineno-19-3044" name="__codelineno-19-3044" href="#__codelineno-19-3044"></a>                            endpoints across all namespaces.&quot;
</span><span id="__span-19-3045"><a id="__codelineno-19-3045" name="__codelineno-19-3045" href="#__codelineno-19-3045"></a>                          type: string
</span><span id="__span-19-3046"><a id="__codelineno-19-3046" name="__codelineno-19-3046" href="#__codelineno-19-3046"></a>                        nets:
</span><span id="__span-19-3047"><a id="__codelineno-19-3047" name="__codelineno-19-3047" href="#__codelineno-19-3047"></a>                          description: Nets is an optional field that restricts the
</span><span id="__span-19-3048"><a id="__codelineno-19-3048" name="__codelineno-19-3048" href="#__codelineno-19-3048"></a>                            rule to only apply to traffic that originates from (or
</span><span id="__span-19-3049"><a id="__codelineno-19-3049" name="__codelineno-19-3049" href="#__codelineno-19-3049"></a>                            terminates at) IP addresses in any of the given subnets.
</span><span id="__span-19-3050"><a id="__codelineno-19-3050" name="__codelineno-19-3050" href="#__codelineno-19-3050"></a>                          items:
</span><span id="__span-19-3051"><a id="__codelineno-19-3051" name="__codelineno-19-3051" href="#__codelineno-19-3051"></a>                            type: string
</span><span id="__span-19-3052"><a id="__codelineno-19-3052" name="__codelineno-19-3052" href="#__codelineno-19-3052"></a>                          type: array
</span><span id="__span-19-3053"><a id="__codelineno-19-3053" name="__codelineno-19-3053" href="#__codelineno-19-3053"></a>                        notNets:
</span><span id="__span-19-3054"><a id="__codelineno-19-3054" name="__codelineno-19-3054" href="#__codelineno-19-3054"></a>                          description: NotNets is the negated version of the Nets
</span><span id="__span-19-3055"><a id="__codelineno-19-3055" name="__codelineno-19-3055" href="#__codelineno-19-3055"></a>                            field.
</span><span id="__span-19-3056"><a id="__codelineno-19-3056" name="__codelineno-19-3056" href="#__codelineno-19-3056"></a>                          items:
</span><span id="__span-19-3057"><a id="__codelineno-19-3057" name="__codelineno-19-3057" href="#__codelineno-19-3057"></a>                            type: string
</span><span id="__span-19-3058"><a id="__codelineno-19-3058" name="__codelineno-19-3058" href="#__codelineno-19-3058"></a>                          type: array
</span><span id="__span-19-3059"><a id="__codelineno-19-3059" name="__codelineno-19-3059" href="#__codelineno-19-3059"></a>                        notPorts:
</span><span id="__span-19-3060"><a id="__codelineno-19-3060" name="__codelineno-19-3060" href="#__codelineno-19-3060"></a>                          description: NotPorts is the negated version of the Ports
</span><span id="__span-19-3061"><a id="__codelineno-19-3061" name="__codelineno-19-3061" href="#__codelineno-19-3061"></a>                            field. Since only some protocols have ports, if any ports
</span><span id="__span-19-3062"><a id="__codelineno-19-3062" name="__codelineno-19-3062" href="#__codelineno-19-3062"></a>                            are specified it requires the Protocol match in the Rule
</span><span id="__span-19-3063"><a id="__codelineno-19-3063" name="__codelineno-19-3063" href="#__codelineno-19-3063"></a>                            to be set to &quot;TCP&quot; or &quot;UDP&quot;.
</span><span id="__span-19-3064"><a id="__codelineno-19-3064" name="__codelineno-19-3064" href="#__codelineno-19-3064"></a>                          items:
</span><span id="__span-19-3065"><a id="__codelineno-19-3065" name="__codelineno-19-3065" href="#__codelineno-19-3065"></a>                            anyOf:
</span><span id="__span-19-3066"><a id="__codelineno-19-3066" name="__codelineno-19-3066" href="#__codelineno-19-3066"></a>                            - type: integer
</span><span id="__span-19-3067"><a id="__codelineno-19-3067" name="__codelineno-19-3067" href="#__codelineno-19-3067"></a>                            - type: string
</span><span id="__span-19-3068"><a id="__codelineno-19-3068" name="__codelineno-19-3068" href="#__codelineno-19-3068"></a>                            pattern: ^.*
</span><span id="__span-19-3069"><a id="__codelineno-19-3069" name="__codelineno-19-3069" href="#__codelineno-19-3069"></a>                            x-kubernetes-int-or-string: true
</span><span id="__span-19-3070"><a id="__codelineno-19-3070" name="__codelineno-19-3070" href="#__codelineno-19-3070"></a>                          type: array
</span><span id="__span-19-3071"><a id="__codelineno-19-3071" name="__codelineno-19-3071" href="#__codelineno-19-3071"></a>                        notSelector:
</span><span id="__span-19-3072"><a id="__codelineno-19-3072" name="__codelineno-19-3072" href="#__codelineno-19-3072"></a>                          description: NotSelector is the negated version of the Selector
</span><span id="__span-19-3073"><a id="__codelineno-19-3073" name="__codelineno-19-3073" href="#__codelineno-19-3073"></a>                            field.  See Selector field for subtleties with negated
</span><span id="__span-19-3074"><a id="__codelineno-19-3074" name="__codelineno-19-3074" href="#__codelineno-19-3074"></a>                            selectors.
</span><span id="__span-19-3075"><a id="__codelineno-19-3075" name="__codelineno-19-3075" href="#__codelineno-19-3075"></a>                          type: string
</span><span id="__span-19-3076"><a id="__codelineno-19-3076" name="__codelineno-19-3076" href="#__codelineno-19-3076"></a>                        ports:
</span><span id="__span-19-3077"><a id="__codelineno-19-3077" name="__codelineno-19-3077" href="#__codelineno-19-3077"></a>                          description: &quot;Ports is an optional field that restricts
</span><span id="__span-19-3078"><a id="__codelineno-19-3078" name="__codelineno-19-3078" href="#__codelineno-19-3078"></a>                            the rule to only apply to traffic that has a source (destination)
</span><span id="__span-19-3079"><a id="__codelineno-19-3079" name="__codelineno-19-3079" href="#__codelineno-19-3079"></a>                            port that matches one of these ranges/values. This value
</span><span id="__span-19-3080"><a id="__codelineno-19-3080" name="__codelineno-19-3080" href="#__codelineno-19-3080"></a>                            is a list of integers or strings that represent ranges
</span><span id="__span-19-3081"><a id="__codelineno-19-3081" name="__codelineno-19-3081" href="#__codelineno-19-3081"></a>                            of ports. \n Since only some protocols have ports, if
</span><span id="__span-19-3082"><a id="__codelineno-19-3082" name="__codelineno-19-3082" href="#__codelineno-19-3082"></a>                            any ports are specified it requires the Protocol match
</span><span id="__span-19-3083"><a id="__codelineno-19-3083" name="__codelineno-19-3083" href="#__codelineno-19-3083"></a>                            in the Rule to be set to \&quot;TCP\&quot; or \&quot;UDP\&quot;.&quot;
</span><span id="__span-19-3084"><a id="__codelineno-19-3084" name="__codelineno-19-3084" href="#__codelineno-19-3084"></a>                          items:
</span><span id="__span-19-3085"><a id="__codelineno-19-3085" name="__codelineno-19-3085" href="#__codelineno-19-3085"></a>                            anyOf:
</span><span id="__span-19-3086"><a id="__codelineno-19-3086" name="__codelineno-19-3086" href="#__codelineno-19-3086"></a>                            - type: integer
</span><span id="__span-19-3087"><a id="__codelineno-19-3087" name="__codelineno-19-3087" href="#__codelineno-19-3087"></a>                            - type: string
</span><span id="__span-19-3088"><a id="__codelineno-19-3088" name="__codelineno-19-3088" href="#__codelineno-19-3088"></a>                            pattern: ^.*
</span><span id="__span-19-3089"><a id="__codelineno-19-3089" name="__codelineno-19-3089" href="#__codelineno-19-3089"></a>                            x-kubernetes-int-or-string: true
</span><span id="__span-19-3090"><a id="__codelineno-19-3090" name="__codelineno-19-3090" href="#__codelineno-19-3090"></a>                          type: array
</span><span id="__span-19-3091"><a id="__codelineno-19-3091" name="__codelineno-19-3091" href="#__codelineno-19-3091"></a>                        selector:
</span><span id="__span-19-3092"><a id="__codelineno-19-3092" name="__codelineno-19-3092" href="#__codelineno-19-3092"></a>                          description: &quot;Selector is an optional field that contains
</span><span id="__span-19-3093"><a id="__codelineno-19-3093" name="__codelineno-19-3093" href="#__codelineno-19-3093"></a>                            a selector expression (see Policy for sample syntax).
</span><span id="__span-19-3094"><a id="__codelineno-19-3094" name="__codelineno-19-3094" href="#__codelineno-19-3094"></a>                            \ Only traffic that originates from (terminates at) endpoints
</span><span id="__span-19-3095"><a id="__codelineno-19-3095" name="__codelineno-19-3095" href="#__codelineno-19-3095"></a>                            matching the selector will be matched. \n Note that: in
</span><span id="__span-19-3096"><a id="__codelineno-19-3096" name="__codelineno-19-3096" href="#__codelineno-19-3096"></a>                            addition to the negated version of the Selector (see NotSelector
</span><span id="__span-19-3097"><a id="__codelineno-19-3097" name="__codelineno-19-3097" href="#__codelineno-19-3097"></a>                            below), the selector expression syntax itself supports
</span><span id="__span-19-3098"><a id="__codelineno-19-3098" name="__codelineno-19-3098" href="#__codelineno-19-3098"></a>                            negation.  The two types of negation are subtly different.
</span><span id="__span-19-3099"><a id="__codelineno-19-3099" name="__codelineno-19-3099" href="#__codelineno-19-3099"></a>                            One negates the set of matched endpoints, the other negates
</span><span id="__span-19-3100"><a id="__codelineno-19-3100" name="__codelineno-19-3100" href="#__codelineno-19-3100"></a>                            the whole match: \n \tSelector = \&quot;!has(my_label)\&quot; matches
</span><span id="__span-19-3101"><a id="__codelineno-19-3101" name="__codelineno-19-3101" href="#__codelineno-19-3101"></a>                            packets that are from other Calico-controlled \tendpoints
</span><span id="__span-19-3102"><a id="__codelineno-19-3102" name="__codelineno-19-3102" href="#__codelineno-19-3102"></a>                            that do not have the label \&quot;my_label\&quot;. \n \tNotSelector
</span><span id="__span-19-3103"><a id="__codelineno-19-3103" name="__codelineno-19-3103" href="#__codelineno-19-3103"></a>                            = \&quot;has(my_label)\&quot; matches packets that are not from
</span><span id="__span-19-3104"><a id="__codelineno-19-3104" name="__codelineno-19-3104" href="#__codelineno-19-3104"></a>                            Calico-controlled \tendpoints that do have the label \&quot;my_label\&quot;.
</span><span id="__span-19-3105"><a id="__codelineno-19-3105" name="__codelineno-19-3105" href="#__codelineno-19-3105"></a>                            \n The effect is that the latter will accept packets from
</span><span id="__span-19-3106"><a id="__codelineno-19-3106" name="__codelineno-19-3106" href="#__codelineno-19-3106"></a>                            non-Calico sources whereas the former is limited to packets
</span><span id="__span-19-3107"><a id="__codelineno-19-3107" name="__codelineno-19-3107" href="#__codelineno-19-3107"></a>                            from Calico-controlled endpoints.&quot;
</span><span id="__span-19-3108"><a id="__codelineno-19-3108" name="__codelineno-19-3108" href="#__codelineno-19-3108"></a>                          type: string
</span><span id="__span-19-3109"><a id="__codelineno-19-3109" name="__codelineno-19-3109" href="#__codelineno-19-3109"></a>                        serviceAccounts:
</span><span id="__span-19-3110"><a id="__codelineno-19-3110" name="__codelineno-19-3110" href="#__codelineno-19-3110"></a>                          description: ServiceAccounts is an optional field that restricts
</span><span id="__span-19-3111"><a id="__codelineno-19-3111" name="__codelineno-19-3111" href="#__codelineno-19-3111"></a>                            the rule to only apply to traffic that originates from
</span><span id="__span-19-3112"><a id="__codelineno-19-3112" name="__codelineno-19-3112" href="#__codelineno-19-3112"></a>                            (or terminates at) a pod running as a matching service
</span><span id="__span-19-3113"><a id="__codelineno-19-3113" name="__codelineno-19-3113" href="#__codelineno-19-3113"></a>                            account.
</span><span id="__span-19-3114"><a id="__codelineno-19-3114" name="__codelineno-19-3114" href="#__codelineno-19-3114"></a>                          properties:
</span><span id="__span-19-3115"><a id="__codelineno-19-3115" name="__codelineno-19-3115" href="#__codelineno-19-3115"></a>                            names:
</span><span id="__span-19-3116"><a id="__codelineno-19-3116" name="__codelineno-19-3116" href="#__codelineno-19-3116"></a>                              description: Names is an optional field that restricts
</span><span id="__span-19-3117"><a id="__codelineno-19-3117" name="__codelineno-19-3117" href="#__codelineno-19-3117"></a>                                the rule to only apply to traffic that originates
</span><span id="__span-19-3118"><a id="__codelineno-19-3118" name="__codelineno-19-3118" href="#__codelineno-19-3118"></a>                                from (or terminates at) a pod running as a service
</span><span id="__span-19-3119"><a id="__codelineno-19-3119" name="__codelineno-19-3119" href="#__codelineno-19-3119"></a>                                account whose name is in the list.
</span><span id="__span-19-3120"><a id="__codelineno-19-3120" name="__codelineno-19-3120" href="#__codelineno-19-3120"></a>                              items:
</span><span id="__span-19-3121"><a id="__codelineno-19-3121" name="__codelineno-19-3121" href="#__codelineno-19-3121"></a>                                type: string
</span><span id="__span-19-3122"><a id="__codelineno-19-3122" name="__codelineno-19-3122" href="#__codelineno-19-3122"></a>                              type: array
</span><span id="__span-19-3123"><a id="__codelineno-19-3123" name="__codelineno-19-3123" href="#__codelineno-19-3123"></a>                            selector:
</span><span id="__span-19-3124"><a id="__codelineno-19-3124" name="__codelineno-19-3124" href="#__codelineno-19-3124"></a>                              description: Selector is an optional field that restricts
</span><span id="__span-19-3125"><a id="__codelineno-19-3125" name="__codelineno-19-3125" href="#__codelineno-19-3125"></a>                                the rule to only apply to traffic that originates
</span><span id="__span-19-3126"><a id="__codelineno-19-3126" name="__codelineno-19-3126" href="#__codelineno-19-3126"></a>                                from (or terminates at) a pod running as a service
</span><span id="__span-19-3127"><a id="__codelineno-19-3127" name="__codelineno-19-3127" href="#__codelineno-19-3127"></a>                                account that matches the given label selector. If
</span><span id="__span-19-3128"><a id="__codelineno-19-3128" name="__codelineno-19-3128" href="#__codelineno-19-3128"></a>                                both Names and Selector are specified then they are
</span><span id="__span-19-3129"><a id="__codelineno-19-3129" name="__codelineno-19-3129" href="#__codelineno-19-3129"></a>                                AND&#39;ed.
</span><span id="__span-19-3130"><a id="__codelineno-19-3130" name="__codelineno-19-3130" href="#__codelineno-19-3130"></a>                              type: string
</span><span id="__span-19-3131"><a id="__codelineno-19-3131" name="__codelineno-19-3131" href="#__codelineno-19-3131"></a>                          type: object
</span><span id="__span-19-3132"><a id="__codelineno-19-3132" name="__codelineno-19-3132" href="#__codelineno-19-3132"></a>                      type: object
</span><span id="__span-19-3133"><a id="__codelineno-19-3133" name="__codelineno-19-3133" href="#__codelineno-19-3133"></a>                  required:
</span><span id="__span-19-3134"><a id="__codelineno-19-3134" name="__codelineno-19-3134" href="#__codelineno-19-3134"></a>                  - action
</span><span id="__span-19-3135"><a id="__codelineno-19-3135" name="__codelineno-19-3135" href="#__codelineno-19-3135"></a>                  type: object
</span><span id="__span-19-3136"><a id="__codelineno-19-3136" name="__codelineno-19-3136" href="#__codelineno-19-3136"></a>                type: array
</span><span id="__span-19-3137"><a id="__codelineno-19-3137" name="__codelineno-19-3137" href="#__codelineno-19-3137"></a>              order:
</span><span id="__span-19-3138"><a id="__codelineno-19-3138" name="__codelineno-19-3138" href="#__codelineno-19-3138"></a>                description: Order is an optional field that specifies the order in
</span><span id="__span-19-3139"><a id="__codelineno-19-3139" name="__codelineno-19-3139" href="#__codelineno-19-3139"></a>                  which the policy is applied. Policies with higher &quot;order&quot; are applied
</span><span id="__span-19-3140"><a id="__codelineno-19-3140" name="__codelineno-19-3140" href="#__codelineno-19-3140"></a>                  after those with lower order.  If the order is omitted, it may be
</span><span id="__span-19-3141"><a id="__codelineno-19-3141" name="__codelineno-19-3141" href="#__codelineno-19-3141"></a>                  considered to be &quot;infinite&quot; - i.e. the policy will be applied last.  Policies
</span><span id="__span-19-3142"><a id="__codelineno-19-3142" name="__codelineno-19-3142" href="#__codelineno-19-3142"></a>                  with identical order will be applied in alphanumerical order based
</span><span id="__span-19-3143"><a id="__codelineno-19-3143" name="__codelineno-19-3143" href="#__codelineno-19-3143"></a>                  on the Policy &quot;Name&quot;.
</span><span id="__span-19-3144"><a id="__codelineno-19-3144" name="__codelineno-19-3144" href="#__codelineno-19-3144"></a>                type: number
</span><span id="__span-19-3145"><a id="__codelineno-19-3145" name="__codelineno-19-3145" href="#__codelineno-19-3145"></a>              selector:
</span><span id="__span-19-3146"><a id="__codelineno-19-3146" name="__codelineno-19-3146" href="#__codelineno-19-3146"></a>                description: &quot;The selector is an expression used to pick pick out
</span><span id="__span-19-3147"><a id="__codelineno-19-3147" name="__codelineno-19-3147" href="#__codelineno-19-3147"></a>                  the endpoints that the policy should be applied to. \n Selector
</span><span id="__span-19-3148"><a id="__codelineno-19-3148" name="__codelineno-19-3148" href="#__codelineno-19-3148"></a>                  expressions follow this syntax: \n \tlabel == \&quot;string_literal\&quot;
</span><span id="__span-19-3149"><a id="__codelineno-19-3149" name="__codelineno-19-3149" href="#__codelineno-19-3149"></a>                  \ -&gt;  comparison, e.g. my_label == \&quot;foo bar\&quot; \tlabel != \&quot;string_literal\&quot;
</span><span id="__span-19-3150"><a id="__codelineno-19-3150" name="__codelineno-19-3150" href="#__codelineno-19-3150"></a>                  \  -&gt;  not equal; also matches if label is not present \tlabel in
</span><span id="__span-19-3151"><a id="__codelineno-19-3151" name="__codelineno-19-3151" href="#__codelineno-19-3151"></a>                  { \&quot;a\&quot;, \&quot;b\&quot;, \&quot;c\&quot;, ... }  -&gt;  true if the value of label X is
</span><span id="__span-19-3152"><a id="__codelineno-19-3152" name="__codelineno-19-3152" href="#__codelineno-19-3152"></a>                  one of \&quot;a\&quot;, \&quot;b\&quot;, \&quot;c\&quot; \tlabel not in { \&quot;a\&quot;, \&quot;b\&quot;, \&quot;c\&quot;,
</span><span id="__span-19-3153"><a id="__codelineno-19-3153" name="__codelineno-19-3153" href="#__codelineno-19-3153"></a>                  ... }  -&gt;  true if the value of label X is not one of \&quot;a\&quot;, \&quot;b\&quot;,
</span><span id="__span-19-3154"><a id="__codelineno-19-3154" name="__codelineno-19-3154" href="#__codelineno-19-3154"></a>                  \&quot;c\&quot; \thas(label_name)  -&gt; True if that label is present \t! expr
</span><span id="__span-19-3155"><a id="__codelineno-19-3155" name="__codelineno-19-3155" href="#__codelineno-19-3155"></a>                  -&gt; negation of expr \texpr &amp;&amp; expr  -&gt; Short-circuit and \texpr
</span><span id="__span-19-3156"><a id="__codelineno-19-3156" name="__codelineno-19-3156" href="#__codelineno-19-3156"></a>                  || expr  -&gt; Short-circuit or \t( expr ) -&gt; parens for grouping \tall()
</span><span id="__span-19-3157"><a id="__codelineno-19-3157" name="__codelineno-19-3157" href="#__codelineno-19-3157"></a>                  or the empty selector -&gt; matches all endpoints. \n Label names are
</span><span id="__span-19-3158"><a id="__codelineno-19-3158" name="__codelineno-19-3158" href="#__codelineno-19-3158"></a>                  allowed to contain alphanumerics, -, _ and /. String literals are
</span><span id="__span-19-3159"><a id="__codelineno-19-3159" name="__codelineno-19-3159" href="#__codelineno-19-3159"></a>                  more permissive but they do not support escape characters. \n Examples
</span><span id="__span-19-3160"><a id="__codelineno-19-3160" name="__codelineno-19-3160" href="#__codelineno-19-3160"></a>                  (with made-up labels): \n \ttype == \&quot;webserver\&quot; &amp;&amp; deployment
</span><span id="__span-19-3161"><a id="__codelineno-19-3161" name="__codelineno-19-3161" href="#__codelineno-19-3161"></a>                  == \&quot;prod\&quot; \ttype in {\&quot;frontend\&quot;, \&quot;backend\&quot;} \tdeployment !=
</span><span id="__span-19-3162"><a id="__codelineno-19-3162" name="__codelineno-19-3162" href="#__codelineno-19-3162"></a>                  \&quot;dev\&quot; \t! has(label_name)&quot;
</span><span id="__span-19-3163"><a id="__codelineno-19-3163" name="__codelineno-19-3163" href="#__codelineno-19-3163"></a>                type: string
</span><span id="__span-19-3164"><a id="__codelineno-19-3164" name="__codelineno-19-3164" href="#__codelineno-19-3164"></a>              serviceAccountSelector:
</span><span id="__span-19-3165"><a id="__codelineno-19-3165" name="__codelineno-19-3165" href="#__codelineno-19-3165"></a>                description: ServiceAccountSelector is an optional field for an expression
</span><span id="__span-19-3166"><a id="__codelineno-19-3166" name="__codelineno-19-3166" href="#__codelineno-19-3166"></a>                  used to select a pod based on service accounts.
</span><span id="__span-19-3167"><a id="__codelineno-19-3167" name="__codelineno-19-3167" href="#__codelineno-19-3167"></a>                type: string
</span><span id="__span-19-3168"><a id="__codelineno-19-3168" name="__codelineno-19-3168" href="#__codelineno-19-3168"></a>              types:
</span><span id="__span-19-3169"><a id="__codelineno-19-3169" name="__codelineno-19-3169" href="#__codelineno-19-3169"></a>                description: &quot;Types indicates whether this policy applies to ingress,
</span><span id="__span-19-3170"><a id="__codelineno-19-3170" name="__codelineno-19-3170" href="#__codelineno-19-3170"></a>                  or to egress, or to both.  When not explicitly specified (and so
</span><span id="__span-19-3171"><a id="__codelineno-19-3171" name="__codelineno-19-3171" href="#__codelineno-19-3171"></a>                  the value on creation is empty or nil), Calico defaults Types according
</span><span id="__span-19-3172"><a id="__codelineno-19-3172" name="__codelineno-19-3172" href="#__codelineno-19-3172"></a>                  to what Ingress and Egress are present in the policy.  The default
</span><span id="__span-19-3173"><a id="__codelineno-19-3173" name="__codelineno-19-3173" href="#__codelineno-19-3173"></a>                  is: \n - [ PolicyTypeIngress ], if there are no Egress rules (including
</span><span id="__span-19-3174"><a id="__codelineno-19-3174" name="__codelineno-19-3174" href="#__codelineno-19-3174"></a>                  the case where there are   also no Ingress rules) \n - [ PolicyTypeEgress
</span><span id="__span-19-3175"><a id="__codelineno-19-3175" name="__codelineno-19-3175" href="#__codelineno-19-3175"></a>                  ], if there are Egress rules but no Ingress rules \n - [ PolicyTypeIngress,
</span><span id="__span-19-3176"><a id="__codelineno-19-3176" name="__codelineno-19-3176" href="#__codelineno-19-3176"></a>                  PolicyTypeEgress ], if there are both Ingress and Egress rules.
</span><span id="__span-19-3177"><a id="__codelineno-19-3177" name="__codelineno-19-3177" href="#__codelineno-19-3177"></a>                  \n When the policy is read back again, Types will always be one
</span><span id="__span-19-3178"><a id="__codelineno-19-3178" name="__codelineno-19-3178" href="#__codelineno-19-3178"></a>                  of these values, never empty or nil.&quot;
</span><span id="__span-19-3179"><a id="__codelineno-19-3179" name="__codelineno-19-3179" href="#__codelineno-19-3179"></a>                items:
</span><span id="__span-19-3180"><a id="__codelineno-19-3180" name="__codelineno-19-3180" href="#__codelineno-19-3180"></a>                  description: PolicyType enumerates the possible values of the PolicySpec
</span><span id="__span-19-3181"><a id="__codelineno-19-3181" name="__codelineno-19-3181" href="#__codelineno-19-3181"></a>                    Types field.
</span><span id="__span-19-3182"><a id="__codelineno-19-3182" name="__codelineno-19-3182" href="#__codelineno-19-3182"></a>                  type: string
</span><span id="__span-19-3183"><a id="__codelineno-19-3183" name="__codelineno-19-3183" href="#__codelineno-19-3183"></a>                type: array
</span><span id="__span-19-3184"><a id="__codelineno-19-3184" name="__codelineno-19-3184" href="#__codelineno-19-3184"></a>            type: object
</span><span id="__span-19-3185"><a id="__codelineno-19-3185" name="__codelineno-19-3185" href="#__codelineno-19-3185"></a>        type: object
</span><span id="__span-19-3186"><a id="__codelineno-19-3186" name="__codelineno-19-3186" href="#__codelineno-19-3186"></a>    served: true
</span><span id="__span-19-3187"><a id="__codelineno-19-3187" name="__codelineno-19-3187" href="#__codelineno-19-3187"></a>    storage: true
</span><span id="__span-19-3188"><a id="__codelineno-19-3188" name="__codelineno-19-3188" href="#__codelineno-19-3188"></a>status:
</span><span id="__span-19-3189"><a id="__codelineno-19-3189" name="__codelineno-19-3189" href="#__codelineno-19-3189"></a>  acceptedNames:
</span><span id="__span-19-3190"><a id="__codelineno-19-3190" name="__codelineno-19-3190" href="#__codelineno-19-3190"></a>    kind: &quot;&quot;
</span><span id="__span-19-3191"><a id="__codelineno-19-3191" name="__codelineno-19-3191" href="#__codelineno-19-3191"></a>    plural: &quot;&quot;
</span><span id="__span-19-3192"><a id="__codelineno-19-3192" name="__codelineno-19-3192" href="#__codelineno-19-3192"></a>  conditions: []
</span><span id="__span-19-3193"><a id="__codelineno-19-3193" name="__codelineno-19-3193" href="#__codelineno-19-3193"></a>  storedVersions: []
</span><span id="__span-19-3194"><a id="__codelineno-19-3194" name="__codelineno-19-3194" href="#__codelineno-19-3194"></a>
</span><span id="__span-19-3195"><a id="__codelineno-19-3195" name="__codelineno-19-3195" href="#__codelineno-19-3195"></a>---
</span><span id="__span-19-3196"><a id="__codelineno-19-3196" name="__codelineno-19-3196" href="#__codelineno-19-3196"></a>apiVersion: apiextensions.k8s.io/v1
</span><span id="__span-19-3197"><a id="__codelineno-19-3197" name="__codelineno-19-3197" href="#__codelineno-19-3197"></a>kind: CustomResourceDefinition
</span><span id="__span-19-3198"><a id="__codelineno-19-3198" name="__codelineno-19-3198" href="#__codelineno-19-3198"></a>metadata:
</span><span id="__span-19-3199"><a id="__codelineno-19-3199" name="__codelineno-19-3199" href="#__codelineno-19-3199"></a>  name: networksets.crd.projectcalico.org
</span><span id="__span-19-3200"><a id="__codelineno-19-3200" name="__codelineno-19-3200" href="#__codelineno-19-3200"></a>spec:
</span><span id="__span-19-3201"><a id="__codelineno-19-3201" name="__codelineno-19-3201" href="#__codelineno-19-3201"></a>  group: crd.projectcalico.org
</span><span id="__span-19-3202"><a id="__codelineno-19-3202" name="__codelineno-19-3202" href="#__codelineno-19-3202"></a>  names:
</span><span id="__span-19-3203"><a id="__codelineno-19-3203" name="__codelineno-19-3203" href="#__codelineno-19-3203"></a>    kind: NetworkSet
</span><span id="__span-19-3204"><a id="__codelineno-19-3204" name="__codelineno-19-3204" href="#__codelineno-19-3204"></a>    listKind: NetworkSetList
</span><span id="__span-19-3205"><a id="__codelineno-19-3205" name="__codelineno-19-3205" href="#__codelineno-19-3205"></a>    plural: networksets
</span><span id="__span-19-3206"><a id="__codelineno-19-3206" name="__codelineno-19-3206" href="#__codelineno-19-3206"></a>    singular: networkset
</span><span id="__span-19-3207"><a id="__codelineno-19-3207" name="__codelineno-19-3207" href="#__codelineno-19-3207"></a>  scope: Namespaced
</span><span id="__span-19-3208"><a id="__codelineno-19-3208" name="__codelineno-19-3208" href="#__codelineno-19-3208"></a>  versions:
</span><span id="__span-19-3209"><a id="__codelineno-19-3209" name="__codelineno-19-3209" href="#__codelineno-19-3209"></a>  - name: v1
</span><span id="__span-19-3210"><a id="__codelineno-19-3210" name="__codelineno-19-3210" href="#__codelineno-19-3210"></a>    schema:
</span><span id="__span-19-3211"><a id="__codelineno-19-3211" name="__codelineno-19-3211" href="#__codelineno-19-3211"></a>      openAPIV3Schema:
</span><span id="__span-19-3212"><a id="__codelineno-19-3212" name="__codelineno-19-3212" href="#__codelineno-19-3212"></a>        description: NetworkSet is the Namespaced-equivalent of the GlobalNetworkSet.
</span><span id="__span-19-3213"><a id="__codelineno-19-3213" name="__codelineno-19-3213" href="#__codelineno-19-3213"></a>        properties:
</span><span id="__span-19-3214"><a id="__codelineno-19-3214" name="__codelineno-19-3214" href="#__codelineno-19-3214"></a>          apiVersion:
</span><span id="__span-19-3215"><a id="__codelineno-19-3215" name="__codelineno-19-3215" href="#__codelineno-19-3215"></a>            description: &#39;APIVersion defines the versioned schema of this representation
</span><span id="__span-19-3216"><a id="__codelineno-19-3216" name="__codelineno-19-3216" href="#__codelineno-19-3216"></a>              of an object. Servers should convert recognized schemas to the latest
</span><span id="__span-19-3217"><a id="__codelineno-19-3217" name="__codelineno-19-3217" href="#__codelineno-19-3217"></a>              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources&#39;
</span><span id="__span-19-3218"><a id="__codelineno-19-3218" name="__codelineno-19-3218" href="#__codelineno-19-3218"></a>            type: string
</span><span id="__span-19-3219"><a id="__codelineno-19-3219" name="__codelineno-19-3219" href="#__codelineno-19-3219"></a>          kind:
</span><span id="__span-19-3220"><a id="__codelineno-19-3220" name="__codelineno-19-3220" href="#__codelineno-19-3220"></a>            description: &#39;Kind is a string value representing the REST resource this
</span><span id="__span-19-3221"><a id="__codelineno-19-3221" name="__codelineno-19-3221" href="#__codelineno-19-3221"></a>              object represents. Servers may infer this from the endpoint the client
</span><span id="__span-19-3222"><a id="__codelineno-19-3222" name="__codelineno-19-3222" href="#__codelineno-19-3222"></a>              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds&#39;
</span><span id="__span-19-3223"><a id="__codelineno-19-3223" name="__codelineno-19-3223" href="#__codelineno-19-3223"></a>            type: string
</span><span id="__span-19-3224"><a id="__codelineno-19-3224" name="__codelineno-19-3224" href="#__codelineno-19-3224"></a>          metadata:
</span><span id="__span-19-3225"><a id="__codelineno-19-3225" name="__codelineno-19-3225" href="#__codelineno-19-3225"></a>            type: object
</span><span id="__span-19-3226"><a id="__codelineno-19-3226" name="__codelineno-19-3226" href="#__codelineno-19-3226"></a>          spec:
</span><span id="__span-19-3227"><a id="__codelineno-19-3227" name="__codelineno-19-3227" href="#__codelineno-19-3227"></a>            description: NetworkSetSpec contains the specification for a NetworkSet
</span><span id="__span-19-3228"><a id="__codelineno-19-3228" name="__codelineno-19-3228" href="#__codelineno-19-3228"></a>              resource.
</span><span id="__span-19-3229"><a id="__codelineno-19-3229" name="__codelineno-19-3229" href="#__codelineno-19-3229"></a>            properties:
</span><span id="__span-19-3230"><a id="__codelineno-19-3230" name="__codelineno-19-3230" href="#__codelineno-19-3230"></a>              nets:
</span><span id="__span-19-3231"><a id="__codelineno-19-3231" name="__codelineno-19-3231" href="#__codelineno-19-3231"></a>                description: The list of IP networks that belong to this set.
</span><span id="__span-19-3232"><a id="__codelineno-19-3232" name="__codelineno-19-3232" href="#__codelineno-19-3232"></a>                items:
</span><span id="__span-19-3233"><a id="__codelineno-19-3233" name="__codelineno-19-3233" href="#__codelineno-19-3233"></a>                  type: string
</span><span id="__span-19-3234"><a id="__codelineno-19-3234" name="__codelineno-19-3234" href="#__codelineno-19-3234"></a>                type: array
</span><span id="__span-19-3235"><a id="__codelineno-19-3235" name="__codelineno-19-3235" href="#__codelineno-19-3235"></a>            type: object
</span><span id="__span-19-3236"><a id="__codelineno-19-3236" name="__codelineno-19-3236" href="#__codelineno-19-3236"></a>        type: object
</span><span id="__span-19-3237"><a id="__codelineno-19-3237" name="__codelineno-19-3237" href="#__codelineno-19-3237"></a>    served: true
</span><span id="__span-19-3238"><a id="__codelineno-19-3238" name="__codelineno-19-3238" href="#__codelineno-19-3238"></a>    storage: true
</span><span id="__span-19-3239"><a id="__codelineno-19-3239" name="__codelineno-19-3239" href="#__codelineno-19-3239"></a>status:
</span><span id="__span-19-3240"><a id="__codelineno-19-3240" name="__codelineno-19-3240" href="#__codelineno-19-3240"></a>  acceptedNames:
</span><span id="__span-19-3241"><a id="__codelineno-19-3241" name="__codelineno-19-3241" href="#__codelineno-19-3241"></a>    kind: &quot;&quot;
</span><span id="__span-19-3242"><a id="__codelineno-19-3242" name="__codelineno-19-3242" href="#__codelineno-19-3242"></a>    plural: &quot;&quot;
</span><span id="__span-19-3243"><a id="__codelineno-19-3243" name="__codelineno-19-3243" href="#__codelineno-19-3243"></a>  conditions: []
</span><span id="__span-19-3244"><a id="__codelineno-19-3244" name="__codelineno-19-3244" href="#__codelineno-19-3244"></a>  storedVersions: []
</span><span id="__span-19-3245"><a id="__codelineno-19-3245" name="__codelineno-19-3245" href="#__codelineno-19-3245"></a>
</span><span id="__span-19-3246"><a id="__codelineno-19-3246" name="__codelineno-19-3246" href="#__codelineno-19-3246"></a>---
</span><span id="__span-19-3247"><a id="__codelineno-19-3247" name="__codelineno-19-3247" href="#__codelineno-19-3247"></a>---
</span><span id="__span-19-3248"><a id="__codelineno-19-3248" name="__codelineno-19-3248" href="#__codelineno-19-3248"></a># Source: calico/templates/calico-kube-controllers-rbac.yaml
</span><span id="__span-19-3249"><a id="__codelineno-19-3249" name="__codelineno-19-3249" href="#__codelineno-19-3249"></a>
</span><span id="__span-19-3250"><a id="__codelineno-19-3250" name="__codelineno-19-3250" href="#__codelineno-19-3250"></a># Include a clusterrole for the kube-controllers component,
</span><span id="__span-19-3251"><a id="__codelineno-19-3251" name="__codelineno-19-3251" href="#__codelineno-19-3251"></a># and bind it to the calico-kube-controllers serviceaccount.
</span><span id="__span-19-3252"><a id="__codelineno-19-3252" name="__codelineno-19-3252" href="#__codelineno-19-3252"></a>kind: ClusterRole
</span><span id="__span-19-3253"><a id="__codelineno-19-3253" name="__codelineno-19-3253" href="#__codelineno-19-3253"></a>apiVersion: rbac.authorization.k8s.io/v1
</span><span id="__span-19-3254"><a id="__codelineno-19-3254" name="__codelineno-19-3254" href="#__codelineno-19-3254"></a>metadata:
</span><span id="__span-19-3255"><a id="__codelineno-19-3255" name="__codelineno-19-3255" href="#__codelineno-19-3255"></a>  name: calico-kube-controllers
</span><span id="__span-19-3256"><a id="__codelineno-19-3256" name="__codelineno-19-3256" href="#__codelineno-19-3256"></a>rules:
</span><span id="__span-19-3257"><a id="__codelineno-19-3257" name="__codelineno-19-3257" href="#__codelineno-19-3257"></a>  # Nodes are watched to monitor for deletions.
</span><span id="__span-19-3258"><a id="__codelineno-19-3258" name="__codelineno-19-3258" href="#__codelineno-19-3258"></a>  - apiGroups: [&quot;&quot;]
</span><span id="__span-19-3259"><a id="__codelineno-19-3259" name="__codelineno-19-3259" href="#__codelineno-19-3259"></a>    resources:
</span><span id="__span-19-3260"><a id="__codelineno-19-3260" name="__codelineno-19-3260" href="#__codelineno-19-3260"></a>      - nodes
</span><span id="__span-19-3261"><a id="__codelineno-19-3261" name="__codelineno-19-3261" href="#__codelineno-19-3261"></a>    verbs:
</span><span id="__span-19-3262"><a id="__codelineno-19-3262" name="__codelineno-19-3262" href="#__codelineno-19-3262"></a>      - watch
</span><span id="__span-19-3263"><a id="__codelineno-19-3263" name="__codelineno-19-3263" href="#__codelineno-19-3263"></a>      - list
</span><span id="__span-19-3264"><a id="__codelineno-19-3264" name="__codelineno-19-3264" href="#__codelineno-19-3264"></a>      - get
</span><span id="__span-19-3265"><a id="__codelineno-19-3265" name="__codelineno-19-3265" href="#__codelineno-19-3265"></a>  # Pods are queried to check for existence.
</span><span id="__span-19-3266"><a id="__codelineno-19-3266" name="__codelineno-19-3266" href="#__codelineno-19-3266"></a>  - apiGroups: [&quot;&quot;]
</span><span id="__span-19-3267"><a id="__codelineno-19-3267" name="__codelineno-19-3267" href="#__codelineno-19-3267"></a>    resources:
</span><span id="__span-19-3268"><a id="__codelineno-19-3268" name="__codelineno-19-3268" href="#__codelineno-19-3268"></a>      - pods
</span><span id="__span-19-3269"><a id="__codelineno-19-3269" name="__codelineno-19-3269" href="#__codelineno-19-3269"></a>    verbs:
</span><span id="__span-19-3270"><a id="__codelineno-19-3270" name="__codelineno-19-3270" href="#__codelineno-19-3270"></a>      - get
</span><span id="__span-19-3271"><a id="__codelineno-19-3271" name="__codelineno-19-3271" href="#__codelineno-19-3271"></a>  # IPAM resources are manipulated when nodes are deleted.
</span><span id="__span-19-3272"><a id="__codelineno-19-3272" name="__codelineno-19-3272" href="#__codelineno-19-3272"></a>  - apiGroups: [&quot;crd.projectcalico.org&quot;]
</span><span id="__span-19-3273"><a id="__codelineno-19-3273" name="__codelineno-19-3273" href="#__codelineno-19-3273"></a>    resources:
</span><span id="__span-19-3274"><a id="__codelineno-19-3274" name="__codelineno-19-3274" href="#__codelineno-19-3274"></a>      - ippools
</span><span id="__span-19-3275"><a id="__codelineno-19-3275" name="__codelineno-19-3275" href="#__codelineno-19-3275"></a>    verbs:
</span><span id="__span-19-3276"><a id="__codelineno-19-3276" name="__codelineno-19-3276" href="#__codelineno-19-3276"></a>      - list
</span><span id="__span-19-3277"><a id="__codelineno-19-3277" name="__codelineno-19-3277" href="#__codelineno-19-3277"></a>  - apiGroups: [&quot;crd.projectcalico.org&quot;]
</span><span id="__span-19-3278"><a id="__codelineno-19-3278" name="__codelineno-19-3278" href="#__codelineno-19-3278"></a>    resources:
</span><span id="__span-19-3279"><a id="__codelineno-19-3279" name="__codelineno-19-3279" href="#__codelineno-19-3279"></a>      - blockaffinities
</span><span id="__span-19-3280"><a id="__codelineno-19-3280" name="__codelineno-19-3280" href="#__codelineno-19-3280"></a>      - ipamblocks
</span><span id="__span-19-3281"><a id="__codelineno-19-3281" name="__codelineno-19-3281" href="#__codelineno-19-3281"></a>      - ipamhandles
</span><span id="__span-19-3282"><a id="__codelineno-19-3282" name="__codelineno-19-3282" href="#__codelineno-19-3282"></a>    verbs:
</span><span id="__span-19-3283"><a id="__codelineno-19-3283" name="__codelineno-19-3283" href="#__codelineno-19-3283"></a>      - get
</span><span id="__span-19-3284"><a id="__codelineno-19-3284" name="__codelineno-19-3284" href="#__codelineno-19-3284"></a>      - list
</span><span id="__span-19-3285"><a id="__codelineno-19-3285" name="__codelineno-19-3285" href="#__codelineno-19-3285"></a>      - create
</span><span id="__span-19-3286"><a id="__codelineno-19-3286" name="__codelineno-19-3286" href="#__codelineno-19-3286"></a>      - update
</span><span id="__span-19-3287"><a id="__codelineno-19-3287" name="__codelineno-19-3287" href="#__codelineno-19-3287"></a>      - delete
</span><span id="__span-19-3288"><a id="__codelineno-19-3288" name="__codelineno-19-3288" href="#__codelineno-19-3288"></a>      - watch
</span><span id="__span-19-3289"><a id="__codelineno-19-3289" name="__codelineno-19-3289" href="#__codelineno-19-3289"></a>  # kube-controllers manages hostendpoints.
</span><span id="__span-19-3290"><a id="__codelineno-19-3290" name="__codelineno-19-3290" href="#__codelineno-19-3290"></a>  - apiGroups: [&quot;crd.projectcalico.org&quot;]
</span><span id="__span-19-3291"><a id="__codelineno-19-3291" name="__codelineno-19-3291" href="#__codelineno-19-3291"></a>    resources:
</span><span id="__span-19-3292"><a id="__codelineno-19-3292" name="__codelineno-19-3292" href="#__codelineno-19-3292"></a>      - hostendpoints
</span><span id="__span-19-3293"><a id="__codelineno-19-3293" name="__codelineno-19-3293" href="#__codelineno-19-3293"></a>    verbs:
</span><span id="__span-19-3294"><a id="__codelineno-19-3294" name="__codelineno-19-3294" href="#__codelineno-19-3294"></a>      - get
</span><span id="__span-19-3295"><a id="__codelineno-19-3295" name="__codelineno-19-3295" href="#__codelineno-19-3295"></a>      - list
</span><span id="__span-19-3296"><a id="__codelineno-19-3296" name="__codelineno-19-3296" href="#__codelineno-19-3296"></a>      - create
</span><span id="__span-19-3297"><a id="__codelineno-19-3297" name="__codelineno-19-3297" href="#__codelineno-19-3297"></a>      - update
</span><span id="__span-19-3298"><a id="__codelineno-19-3298" name="__codelineno-19-3298" href="#__codelineno-19-3298"></a>      - delete
</span><span id="__span-19-3299"><a id="__codelineno-19-3299" name="__codelineno-19-3299" href="#__codelineno-19-3299"></a>  # Needs access to update clusterinformations.
</span><span id="__span-19-3300"><a id="__codelineno-19-3300" name="__codelineno-19-3300" href="#__codelineno-19-3300"></a>  - apiGroups: [&quot;crd.projectcalico.org&quot;]
</span><span id="__span-19-3301"><a id="__codelineno-19-3301" name="__codelineno-19-3301" href="#__codelineno-19-3301"></a>    resources:
</span><span id="__span-19-3302"><a id="__codelineno-19-3302" name="__codelineno-19-3302" href="#__codelineno-19-3302"></a>      - clusterinformations
</span><span id="__span-19-3303"><a id="__codelineno-19-3303" name="__codelineno-19-3303" href="#__codelineno-19-3303"></a>    verbs:
</span><span id="__span-19-3304"><a id="__codelineno-19-3304" name="__codelineno-19-3304" href="#__codelineno-19-3304"></a>      - get
</span><span id="__span-19-3305"><a id="__codelineno-19-3305" name="__codelineno-19-3305" href="#__codelineno-19-3305"></a>      - create
</span><span id="__span-19-3306"><a id="__codelineno-19-3306" name="__codelineno-19-3306" href="#__codelineno-19-3306"></a>      - update
</span><span id="__span-19-3307"><a id="__codelineno-19-3307" name="__codelineno-19-3307" href="#__codelineno-19-3307"></a>  # KubeControllersConfiguration is where it gets its config
</span><span id="__span-19-3308"><a id="__codelineno-19-3308" name="__codelineno-19-3308" href="#__codelineno-19-3308"></a>  - apiGroups: [&quot;crd.projectcalico.org&quot;]
</span><span id="__span-19-3309"><a id="__codelineno-19-3309" name="__codelineno-19-3309" href="#__codelineno-19-3309"></a>    resources:
</span><span id="__span-19-3310"><a id="__codelineno-19-3310" name="__codelineno-19-3310" href="#__codelineno-19-3310"></a>      - kubecontrollersconfigurations
</span><span id="__span-19-3311"><a id="__codelineno-19-3311" name="__codelineno-19-3311" href="#__codelineno-19-3311"></a>    verbs:
</span><span id="__span-19-3312"><a id="__codelineno-19-3312" name="__codelineno-19-3312" href="#__codelineno-19-3312"></a>      # read its own config
</span><span id="__span-19-3313"><a id="__codelineno-19-3313" name="__codelineno-19-3313" href="#__codelineno-19-3313"></a>      - get
</span><span id="__span-19-3314"><a id="__codelineno-19-3314" name="__codelineno-19-3314" href="#__codelineno-19-3314"></a>      # create a default if none exists
</span><span id="__span-19-3315"><a id="__codelineno-19-3315" name="__codelineno-19-3315" href="#__codelineno-19-3315"></a>      - create
</span><span id="__span-19-3316"><a id="__codelineno-19-3316" name="__codelineno-19-3316" href="#__codelineno-19-3316"></a>      # update status
</span><span id="__span-19-3317"><a id="__codelineno-19-3317" name="__codelineno-19-3317" href="#__codelineno-19-3317"></a>      - update
</span><span id="__span-19-3318"><a id="__codelineno-19-3318" name="__codelineno-19-3318" href="#__codelineno-19-3318"></a>      # watch for changes
</span><span id="__span-19-3319"><a id="__codelineno-19-3319" name="__codelineno-19-3319" href="#__codelineno-19-3319"></a>      - watch
</span><span id="__span-19-3320"><a id="__codelineno-19-3320" name="__codelineno-19-3320" href="#__codelineno-19-3320"></a>---
</span><span id="__span-19-3321"><a id="__codelineno-19-3321" name="__codelineno-19-3321" href="#__codelineno-19-3321"></a>kind: ClusterRoleBinding
</span><span id="__span-19-3322"><a id="__codelineno-19-3322" name="__codelineno-19-3322" href="#__codelineno-19-3322"></a>apiVersion: rbac.authorization.k8s.io/v1
</span><span id="__span-19-3323"><a id="__codelineno-19-3323" name="__codelineno-19-3323" href="#__codelineno-19-3323"></a>metadata:
</span><span id="__span-19-3324"><a id="__codelineno-19-3324" name="__codelineno-19-3324" href="#__codelineno-19-3324"></a>  name: calico-kube-controllers
</span><span id="__span-19-3325"><a id="__codelineno-19-3325" name="__codelineno-19-3325" href="#__codelineno-19-3325"></a>roleRef:
</span><span id="__span-19-3326"><a id="__codelineno-19-3326" name="__codelineno-19-3326" href="#__codelineno-19-3326"></a>  apiGroup: rbac.authorization.k8s.io
</span><span id="__span-19-3327"><a id="__codelineno-19-3327" name="__codelineno-19-3327" href="#__codelineno-19-3327"></a>  kind: ClusterRole
</span><span id="__span-19-3328"><a id="__codelineno-19-3328" name="__codelineno-19-3328" href="#__codelineno-19-3328"></a>  name: calico-kube-controllers
</span><span id="__span-19-3329"><a id="__codelineno-19-3329" name="__codelineno-19-3329" href="#__codelineno-19-3329"></a>subjects:
</span><span id="__span-19-3330"><a id="__codelineno-19-3330" name="__codelineno-19-3330" href="#__codelineno-19-3330"></a>- kind: ServiceAccount
</span><span id="__span-19-3331"><a id="__codelineno-19-3331" name="__codelineno-19-3331" href="#__codelineno-19-3331"></a>  name: calico-kube-controllers
</span><span id="__span-19-3332"><a id="__codelineno-19-3332" name="__codelineno-19-3332" href="#__codelineno-19-3332"></a>  namespace: kube-system
</span><span id="__span-19-3333"><a id="__codelineno-19-3333" name="__codelineno-19-3333" href="#__codelineno-19-3333"></a>---
</span><span id="__span-19-3334"><a id="__codelineno-19-3334" name="__codelineno-19-3334" href="#__codelineno-19-3334"></a>
</span><span id="__span-19-3335"><a id="__codelineno-19-3335" name="__codelineno-19-3335" href="#__codelineno-19-3335"></a>---
</span><span id="__span-19-3336"><a id="__codelineno-19-3336" name="__codelineno-19-3336" href="#__codelineno-19-3336"></a># Source: calico/templates/calico-node-rbac.yaml
</span><span id="__span-19-3337"><a id="__codelineno-19-3337" name="__codelineno-19-3337" href="#__codelineno-19-3337"></a># Include a clusterrole for the calico-node DaemonSet,
</span><span id="__span-19-3338"><a id="__codelineno-19-3338" name="__codelineno-19-3338" href="#__codelineno-19-3338"></a># and bind it to the calico-node serviceaccount.
</span><span id="__span-19-3339"><a id="__codelineno-19-3339" name="__codelineno-19-3339" href="#__codelineno-19-3339"></a>kind: ClusterRole
</span><span id="__span-19-3340"><a id="__codelineno-19-3340" name="__codelineno-19-3340" href="#__codelineno-19-3340"></a>apiVersion: rbac.authorization.k8s.io/v1
</span><span id="__span-19-3341"><a id="__codelineno-19-3341" name="__codelineno-19-3341" href="#__codelineno-19-3341"></a>metadata:
</span><span id="__span-19-3342"><a id="__codelineno-19-3342" name="__codelineno-19-3342" href="#__codelineno-19-3342"></a>  name: calico-node
</span><span id="__span-19-3343"><a id="__codelineno-19-3343" name="__codelineno-19-3343" href="#__codelineno-19-3343"></a>rules:
</span><span id="__span-19-3344"><a id="__codelineno-19-3344" name="__codelineno-19-3344" href="#__codelineno-19-3344"></a>  # The CNI plugin needs to get pods, nodes, and namespaces.
</span><span id="__span-19-3345"><a id="__codelineno-19-3345" name="__codelineno-19-3345" href="#__codelineno-19-3345"></a>  - apiGroups: [&quot;&quot;]
</span><span id="__span-19-3346"><a id="__codelineno-19-3346" name="__codelineno-19-3346" href="#__codelineno-19-3346"></a>    resources:
</span><span id="__span-19-3347"><a id="__codelineno-19-3347" name="__codelineno-19-3347" href="#__codelineno-19-3347"></a>      - pods
</span><span id="__span-19-3348"><a id="__codelineno-19-3348" name="__codelineno-19-3348" href="#__codelineno-19-3348"></a>      - nodes
</span><span id="__span-19-3349"><a id="__codelineno-19-3349" name="__codelineno-19-3349" href="#__codelineno-19-3349"></a>      - namespaces
</span><span id="__span-19-3350"><a id="__codelineno-19-3350" name="__codelineno-19-3350" href="#__codelineno-19-3350"></a>    verbs:
</span><span id="__span-19-3351"><a id="__codelineno-19-3351" name="__codelineno-19-3351" href="#__codelineno-19-3351"></a>      - get
</span><span id="__span-19-3352"><a id="__codelineno-19-3352" name="__codelineno-19-3352" href="#__codelineno-19-3352"></a>  - apiGroups: [&quot;&quot;]
</span><span id="__span-19-3353"><a id="__codelineno-19-3353" name="__codelineno-19-3353" href="#__codelineno-19-3353"></a>    resources:
</span><span id="__span-19-3354"><a id="__codelineno-19-3354" name="__codelineno-19-3354" href="#__codelineno-19-3354"></a>      - endpoints
</span><span id="__span-19-3355"><a id="__codelineno-19-3355" name="__codelineno-19-3355" href="#__codelineno-19-3355"></a>      - services
</span><span id="__span-19-3356"><a id="__codelineno-19-3356" name="__codelineno-19-3356" href="#__codelineno-19-3356"></a>    verbs:
</span><span id="__span-19-3357"><a id="__codelineno-19-3357" name="__codelineno-19-3357" href="#__codelineno-19-3357"></a>      # Used to discover service IPs for advertisement.
</span><span id="__span-19-3358"><a id="__codelineno-19-3358" name="__codelineno-19-3358" href="#__codelineno-19-3358"></a>      - watch
</span><span id="__span-19-3359"><a id="__codelineno-19-3359" name="__codelineno-19-3359" href="#__codelineno-19-3359"></a>      - list
</span><span id="__span-19-3360"><a id="__codelineno-19-3360" name="__codelineno-19-3360" href="#__codelineno-19-3360"></a>      # Used to discover Typhas.
</span><span id="__span-19-3361"><a id="__codelineno-19-3361" name="__codelineno-19-3361" href="#__codelineno-19-3361"></a>      - get
</span><span id="__span-19-3362"><a id="__codelineno-19-3362" name="__codelineno-19-3362" href="#__codelineno-19-3362"></a>  # Pod CIDR auto-detection on kubeadm needs access to config maps.
</span><span id="__span-19-3363"><a id="__codelineno-19-3363" name="__codelineno-19-3363" href="#__codelineno-19-3363"></a>  - apiGroups: [&quot;&quot;]
</span><span id="__span-19-3364"><a id="__codelineno-19-3364" name="__codelineno-19-3364" href="#__codelineno-19-3364"></a>    resources:
</span><span id="__span-19-3365"><a id="__codelineno-19-3365" name="__codelineno-19-3365" href="#__codelineno-19-3365"></a>      - configmaps
</span><span id="__span-19-3366"><a id="__codelineno-19-3366" name="__codelineno-19-3366" href="#__codelineno-19-3366"></a>    verbs:
</span><span id="__span-19-3367"><a id="__codelineno-19-3367" name="__codelineno-19-3367" href="#__codelineno-19-3367"></a>      - get
</span><span id="__span-19-3368"><a id="__codelineno-19-3368" name="__codelineno-19-3368" href="#__codelineno-19-3368"></a>  - apiGroups: [&quot;&quot;]
</span><span id="__span-19-3369"><a id="__codelineno-19-3369" name="__codelineno-19-3369" href="#__codelineno-19-3369"></a>    resources:
</span><span id="__span-19-3370"><a id="__codelineno-19-3370" name="__codelineno-19-3370" href="#__codelineno-19-3370"></a>      - nodes/status
</span><span id="__span-19-3371"><a id="__codelineno-19-3371" name="__codelineno-19-3371" href="#__codelineno-19-3371"></a>    verbs:
</span><span id="__span-19-3372"><a id="__codelineno-19-3372" name="__codelineno-19-3372" href="#__codelineno-19-3372"></a>      # Needed for clearing NodeNetworkUnavailable flag.
</span><span id="__span-19-3373"><a id="__codelineno-19-3373" name="__codelineno-19-3373" href="#__codelineno-19-3373"></a>      - patch
</span><span id="__span-19-3374"><a id="__codelineno-19-3374" name="__codelineno-19-3374" href="#__codelineno-19-3374"></a>      # Calico stores some configuration information in node annotations.
</span><span id="__span-19-3375"><a id="__codelineno-19-3375" name="__codelineno-19-3375" href="#__codelineno-19-3375"></a>      - update
</span><span id="__span-19-3376"><a id="__codelineno-19-3376" name="__codelineno-19-3376" href="#__codelineno-19-3376"></a>  # Watch for changes to Kubernetes NetworkPolicies.
</span><span id="__span-19-3377"><a id="__codelineno-19-3377" name="__codelineno-19-3377" href="#__codelineno-19-3377"></a>  - apiGroups: [&quot;networking.k8s.io&quot;]
</span><span id="__span-19-3378"><a id="__codelineno-19-3378" name="__codelineno-19-3378" href="#__codelineno-19-3378"></a>    resources:
</span><span id="__span-19-3379"><a id="__codelineno-19-3379" name="__codelineno-19-3379" href="#__codelineno-19-3379"></a>      - networkpolicies
</span><span id="__span-19-3380"><a id="__codelineno-19-3380" name="__codelineno-19-3380" href="#__codelineno-19-3380"></a>    verbs:
</span><span id="__span-19-3381"><a id="__codelineno-19-3381" name="__codelineno-19-3381" href="#__codelineno-19-3381"></a>      - watch
</span><span id="__span-19-3382"><a id="__codelineno-19-3382" name="__codelineno-19-3382" href="#__codelineno-19-3382"></a>      - list
</span><span id="__span-19-3383"><a id="__codelineno-19-3383" name="__codelineno-19-3383" href="#__codelineno-19-3383"></a>  # Used by Calico for policy information.
</span><span id="__span-19-3384"><a id="__codelineno-19-3384" name="__codelineno-19-3384" href="#__codelineno-19-3384"></a>  - apiGroups: [&quot;&quot;]
</span><span id="__span-19-3385"><a id="__codelineno-19-3385" name="__codelineno-19-3385" href="#__codelineno-19-3385"></a>    resources:
</span><span id="__span-19-3386"><a id="__codelineno-19-3386" name="__codelineno-19-3386" href="#__codelineno-19-3386"></a>      - pods
</span><span id="__span-19-3387"><a id="__codelineno-19-3387" name="__codelineno-19-3387" href="#__codelineno-19-3387"></a>      - namespaces
</span><span id="__span-19-3388"><a id="__codelineno-19-3388" name="__codelineno-19-3388" href="#__codelineno-19-3388"></a>      - serviceaccounts
</span><span id="__span-19-3389"><a id="__codelineno-19-3389" name="__codelineno-19-3389" href="#__codelineno-19-3389"></a>    verbs:
</span><span id="__span-19-3390"><a id="__codelineno-19-3390" name="__codelineno-19-3390" href="#__codelineno-19-3390"></a>      - list
</span><span id="__span-19-3391"><a id="__codelineno-19-3391" name="__codelineno-19-3391" href="#__codelineno-19-3391"></a>      - watch
</span><span id="__span-19-3392"><a id="__codelineno-19-3392" name="__codelineno-19-3392" href="#__codelineno-19-3392"></a>  # The CNI plugin patches pods/status.
</span><span id="__span-19-3393"><a id="__codelineno-19-3393" name="__codelineno-19-3393" href="#__codelineno-19-3393"></a>  - apiGroups: [&quot;&quot;]
</span><span id="__span-19-3394"><a id="__codelineno-19-3394" name="__codelineno-19-3394" href="#__codelineno-19-3394"></a>    resources:
</span><span id="__span-19-3395"><a id="__codelineno-19-3395" name="__codelineno-19-3395" href="#__codelineno-19-3395"></a>      - pods/status
</span><span id="__span-19-3396"><a id="__codelineno-19-3396" name="__codelineno-19-3396" href="#__codelineno-19-3396"></a>    verbs:
</span><span id="__span-19-3397"><a id="__codelineno-19-3397" name="__codelineno-19-3397" href="#__codelineno-19-3397"></a>      - patch
</span><span id="__span-19-3398"><a id="__codelineno-19-3398" name="__codelineno-19-3398" href="#__codelineno-19-3398"></a>  # Calico monitors various CRDs for config.
</span><span id="__span-19-3399"><a id="__codelineno-19-3399" name="__codelineno-19-3399" href="#__codelineno-19-3399"></a>  - apiGroups: [&quot;crd.projectcalico.org&quot;]
</span><span id="__span-19-3400"><a id="__codelineno-19-3400" name="__codelineno-19-3400" href="#__codelineno-19-3400"></a>    resources:
</span><span id="__span-19-3401"><a id="__codelineno-19-3401" name="__codelineno-19-3401" href="#__codelineno-19-3401"></a>      - globalfelixconfigs
</span><span id="__span-19-3402"><a id="__codelineno-19-3402" name="__codelineno-19-3402" href="#__codelineno-19-3402"></a>      - felixconfigurations
</span><span id="__span-19-3403"><a id="__codelineno-19-3403" name="__codelineno-19-3403" href="#__codelineno-19-3403"></a>      - bgppeers
</span><span id="__span-19-3404"><a id="__codelineno-19-3404" name="__codelineno-19-3404" href="#__codelineno-19-3404"></a>      - globalbgpconfigs
</span><span id="__span-19-3405"><a id="__codelineno-19-3405" name="__codelineno-19-3405" href="#__codelineno-19-3405"></a>      - bgpconfigurations
</span><span id="__span-19-3406"><a id="__codelineno-19-3406" name="__codelineno-19-3406" href="#__codelineno-19-3406"></a>      - ippools
</span><span id="__span-19-3407"><a id="__codelineno-19-3407" name="__codelineno-19-3407" href="#__codelineno-19-3407"></a>      - ipamblocks
</span><span id="__span-19-3408"><a id="__codelineno-19-3408" name="__codelineno-19-3408" href="#__codelineno-19-3408"></a>      - globalnetworkpolicies
</span><span id="__span-19-3409"><a id="__codelineno-19-3409" name="__codelineno-19-3409" href="#__codelineno-19-3409"></a>      - globalnetworksets
</span><span id="__span-19-3410"><a id="__codelineno-19-3410" name="__codelineno-19-3410" href="#__codelineno-19-3410"></a>      - networkpolicies
</span><span id="__span-19-3411"><a id="__codelineno-19-3411" name="__codelineno-19-3411" href="#__codelineno-19-3411"></a>      - networksets
</span><span id="__span-19-3412"><a id="__codelineno-19-3412" name="__codelineno-19-3412" href="#__codelineno-19-3412"></a>      - clusterinformations
</span><span id="__span-19-3413"><a id="__codelineno-19-3413" name="__codelineno-19-3413" href="#__codelineno-19-3413"></a>      - hostendpoints
</span><span id="__span-19-3414"><a id="__codelineno-19-3414" name="__codelineno-19-3414" href="#__codelineno-19-3414"></a>      - blockaffinities
</span><span id="__span-19-3415"><a id="__codelineno-19-3415" name="__codelineno-19-3415" href="#__codelineno-19-3415"></a>    verbs:
</span><span id="__span-19-3416"><a id="__codelineno-19-3416" name="__codelineno-19-3416" href="#__codelineno-19-3416"></a>      - get
</span><span id="__span-19-3417"><a id="__codelineno-19-3417" name="__codelineno-19-3417" href="#__codelineno-19-3417"></a>      - list
</span><span id="__span-19-3418"><a id="__codelineno-19-3418" name="__codelineno-19-3418" href="#__codelineno-19-3418"></a>      - watch
</span><span id="__span-19-3419"><a id="__codelineno-19-3419" name="__codelineno-19-3419" href="#__codelineno-19-3419"></a>  # Calico must create and update some CRDs on startup.
</span><span id="__span-19-3420"><a id="__codelineno-19-3420" name="__codelineno-19-3420" href="#__codelineno-19-3420"></a>  - apiGroups: [&quot;crd.projectcalico.org&quot;]
</span><span id="__span-19-3421"><a id="__codelineno-19-3421" name="__codelineno-19-3421" href="#__codelineno-19-3421"></a>    resources:
</span><span id="__span-19-3422"><a id="__codelineno-19-3422" name="__codelineno-19-3422" href="#__codelineno-19-3422"></a>      - ippools
</span><span id="__span-19-3423"><a id="__codelineno-19-3423" name="__codelineno-19-3423" href="#__codelineno-19-3423"></a>      - felixconfigurations
</span><span id="__span-19-3424"><a id="__codelineno-19-3424" name="__codelineno-19-3424" href="#__codelineno-19-3424"></a>      - clusterinformations
</span><span id="__span-19-3425"><a id="__codelineno-19-3425" name="__codelineno-19-3425" href="#__codelineno-19-3425"></a>    verbs:
</span><span id="__span-19-3426"><a id="__codelineno-19-3426" name="__codelineno-19-3426" href="#__codelineno-19-3426"></a>      - create
</span><span id="__span-19-3427"><a id="__codelineno-19-3427" name="__codelineno-19-3427" href="#__codelineno-19-3427"></a>      - update
</span><span id="__span-19-3428"><a id="__codelineno-19-3428" name="__codelineno-19-3428" href="#__codelineno-19-3428"></a>  # Calico stores some configuration information on the node.
</span><span id="__span-19-3429"><a id="__codelineno-19-3429" name="__codelineno-19-3429" href="#__codelineno-19-3429"></a>  - apiGroups: [&quot;&quot;]
</span><span id="__span-19-3430"><a id="__codelineno-19-3430" name="__codelineno-19-3430" href="#__codelineno-19-3430"></a>    resources:
</span><span id="__span-19-3431"><a id="__codelineno-19-3431" name="__codelineno-19-3431" href="#__codelineno-19-3431"></a>      - nodes
</span><span id="__span-19-3432"><a id="__codelineno-19-3432" name="__codelineno-19-3432" href="#__codelineno-19-3432"></a>    verbs:
</span><span id="__span-19-3433"><a id="__codelineno-19-3433" name="__codelineno-19-3433" href="#__codelineno-19-3433"></a>      - get
</span><span id="__span-19-3434"><a id="__codelineno-19-3434" name="__codelineno-19-3434" href="#__codelineno-19-3434"></a>      - list
</span><span id="__span-19-3435"><a id="__codelineno-19-3435" name="__codelineno-19-3435" href="#__codelineno-19-3435"></a>      - watch
</span><span id="__span-19-3436"><a id="__codelineno-19-3436" name="__codelineno-19-3436" href="#__codelineno-19-3436"></a>  # These permissions are only required for upgrade from v2.6, and can
</span><span id="__span-19-3437"><a id="__codelineno-19-3437" name="__codelineno-19-3437" href="#__codelineno-19-3437"></a>  # be removed after upgrade or on fresh installations.
</span><span id="__span-19-3438"><a id="__codelineno-19-3438" name="__codelineno-19-3438" href="#__codelineno-19-3438"></a>  - apiGroups: [&quot;crd.projectcalico.org&quot;]
</span><span id="__span-19-3439"><a id="__codelineno-19-3439" name="__codelineno-19-3439" href="#__codelineno-19-3439"></a>    resources:
</span><span id="__span-19-3440"><a id="__codelineno-19-3440" name="__codelineno-19-3440" href="#__codelineno-19-3440"></a>      - bgpconfigurations
</span><span id="__span-19-3441"><a id="__codelineno-19-3441" name="__codelineno-19-3441" href="#__codelineno-19-3441"></a>      - bgppeers
</span><span id="__span-19-3442"><a id="__codelineno-19-3442" name="__codelineno-19-3442" href="#__codelineno-19-3442"></a>    verbs:
</span><span id="__span-19-3443"><a id="__codelineno-19-3443" name="__codelineno-19-3443" href="#__codelineno-19-3443"></a>      - create
</span><span id="__span-19-3444"><a id="__codelineno-19-3444" name="__codelineno-19-3444" href="#__codelineno-19-3444"></a>      - update
</span><span id="__span-19-3445"><a id="__codelineno-19-3445" name="__codelineno-19-3445" href="#__codelineno-19-3445"></a>  # These permissions are required for Calico CNI to perform IPAM allocations.
</span><span id="__span-19-3446"><a id="__codelineno-19-3446" name="__codelineno-19-3446" href="#__codelineno-19-3446"></a>  - apiGroups: [&quot;crd.projectcalico.org&quot;]
</span><span id="__span-19-3447"><a id="__codelineno-19-3447" name="__codelineno-19-3447" href="#__codelineno-19-3447"></a>    resources:
</span><span id="__span-19-3448"><a id="__codelineno-19-3448" name="__codelineno-19-3448" href="#__codelineno-19-3448"></a>      - blockaffinities
</span><span id="__span-19-3449"><a id="__codelineno-19-3449" name="__codelineno-19-3449" href="#__codelineno-19-3449"></a>      - ipamblocks
</span><span id="__span-19-3450"><a id="__codelineno-19-3450" name="__codelineno-19-3450" href="#__codelineno-19-3450"></a>      - ipamhandles
</span><span id="__span-19-3451"><a id="__codelineno-19-3451" name="__codelineno-19-3451" href="#__codelineno-19-3451"></a>    verbs:
</span><span id="__span-19-3452"><a id="__codelineno-19-3452" name="__codelineno-19-3452" href="#__codelineno-19-3452"></a>      - get
</span><span id="__span-19-3453"><a id="__codelineno-19-3453" name="__codelineno-19-3453" href="#__codelineno-19-3453"></a>      - list
</span><span id="__span-19-3454"><a id="__codelineno-19-3454" name="__codelineno-19-3454" href="#__codelineno-19-3454"></a>      - create
</span><span id="__span-19-3455"><a id="__codelineno-19-3455" name="__codelineno-19-3455" href="#__codelineno-19-3455"></a>      - update
</span><span id="__span-19-3456"><a id="__codelineno-19-3456" name="__codelineno-19-3456" href="#__codelineno-19-3456"></a>      - delete
</span><span id="__span-19-3457"><a id="__codelineno-19-3457" name="__codelineno-19-3457" href="#__codelineno-19-3457"></a>  - apiGroups: [&quot;crd.projectcalico.org&quot;]
</span><span id="__span-19-3458"><a id="__codelineno-19-3458" name="__codelineno-19-3458" href="#__codelineno-19-3458"></a>    resources:
</span><span id="__span-19-3459"><a id="__codelineno-19-3459" name="__codelineno-19-3459" href="#__codelineno-19-3459"></a>      - ipamconfigs
</span><span id="__span-19-3460"><a id="__codelineno-19-3460" name="__codelineno-19-3460" href="#__codelineno-19-3460"></a>    verbs:
</span><span id="__span-19-3461"><a id="__codelineno-19-3461" name="__codelineno-19-3461" href="#__codelineno-19-3461"></a>      - get
</span><span id="__span-19-3462"><a id="__codelineno-19-3462" name="__codelineno-19-3462" href="#__codelineno-19-3462"></a>  # Block affinities must also be watchable by confd for route aggregation.
</span><span id="__span-19-3463"><a id="__codelineno-19-3463" name="__codelineno-19-3463" href="#__codelineno-19-3463"></a>  - apiGroups: [&quot;crd.projectcalico.org&quot;]
</span><span id="__span-19-3464"><a id="__codelineno-19-3464" name="__codelineno-19-3464" href="#__codelineno-19-3464"></a>    resources:
</span><span id="__span-19-3465"><a id="__codelineno-19-3465" name="__codelineno-19-3465" href="#__codelineno-19-3465"></a>      - blockaffinities
</span><span id="__span-19-3466"><a id="__codelineno-19-3466" name="__codelineno-19-3466" href="#__codelineno-19-3466"></a>    verbs:
</span><span id="__span-19-3467"><a id="__codelineno-19-3467" name="__codelineno-19-3467" href="#__codelineno-19-3467"></a>      - watch
</span><span id="__span-19-3468"><a id="__codelineno-19-3468" name="__codelineno-19-3468" href="#__codelineno-19-3468"></a>  # The Calico IPAM migration needs to get daemonsets. These permissions can be
</span><span id="__span-19-3469"><a id="__codelineno-19-3469" name="__codelineno-19-3469" href="#__codelineno-19-3469"></a>  # removed if not upgrading from an installation using host-local IPAM.
</span><span id="__span-19-3470"><a id="__codelineno-19-3470" name="__codelineno-19-3470" href="#__codelineno-19-3470"></a>  - apiGroups: [&quot;apps&quot;]
</span><span id="__span-19-3471"><a id="__codelineno-19-3471" name="__codelineno-19-3471" href="#__codelineno-19-3471"></a>    resources:
</span><span id="__span-19-3472"><a id="__codelineno-19-3472" name="__codelineno-19-3472" href="#__codelineno-19-3472"></a>      - daemonsets
</span><span id="__span-19-3473"><a id="__codelineno-19-3473" name="__codelineno-19-3473" href="#__codelineno-19-3473"></a>    verbs:
</span><span id="__span-19-3474"><a id="__codelineno-19-3474" name="__codelineno-19-3474" href="#__codelineno-19-3474"></a>      - get
</span><span id="__span-19-3475"><a id="__codelineno-19-3475" name="__codelineno-19-3475" href="#__codelineno-19-3475"></a>
</span><span id="__span-19-3476"><a id="__codelineno-19-3476" name="__codelineno-19-3476" href="#__codelineno-19-3476"></a>---
</span><span id="__span-19-3477"><a id="__codelineno-19-3477" name="__codelineno-19-3477" href="#__codelineno-19-3477"></a>apiVersion: rbac.authorization.k8s.io/v1
</span><span id="__span-19-3478"><a id="__codelineno-19-3478" name="__codelineno-19-3478" href="#__codelineno-19-3478"></a>kind: ClusterRoleBinding
</span><span id="__span-19-3479"><a id="__codelineno-19-3479" name="__codelineno-19-3479" href="#__codelineno-19-3479"></a>metadata:
</span><span id="__span-19-3480"><a id="__codelineno-19-3480" name="__codelineno-19-3480" href="#__codelineno-19-3480"></a>  name: calico-node
</span><span id="__span-19-3481"><a id="__codelineno-19-3481" name="__codelineno-19-3481" href="#__codelineno-19-3481"></a>roleRef:
</span><span id="__span-19-3482"><a id="__codelineno-19-3482" name="__codelineno-19-3482" href="#__codelineno-19-3482"></a>  apiGroup: rbac.authorization.k8s.io
</span><span id="__span-19-3483"><a id="__codelineno-19-3483" name="__codelineno-19-3483" href="#__codelineno-19-3483"></a>  kind: ClusterRole
</span><span id="__span-19-3484"><a id="__codelineno-19-3484" name="__codelineno-19-3484" href="#__codelineno-19-3484"></a>  name: calico-node
</span><span id="__span-19-3485"><a id="__codelineno-19-3485" name="__codelineno-19-3485" href="#__codelineno-19-3485"></a>subjects:
</span><span id="__span-19-3486"><a id="__codelineno-19-3486" name="__codelineno-19-3486" href="#__codelineno-19-3486"></a>- kind: ServiceAccount
</span><span id="__span-19-3487"><a id="__codelineno-19-3487" name="__codelineno-19-3487" href="#__codelineno-19-3487"></a>  name: calico-node
</span><span id="__span-19-3488"><a id="__codelineno-19-3488" name="__codelineno-19-3488" href="#__codelineno-19-3488"></a>  namespace: kube-system
</span><span id="__span-19-3489"><a id="__codelineno-19-3489" name="__codelineno-19-3489" href="#__codelineno-19-3489"></a>
</span><span id="__span-19-3490"><a id="__codelineno-19-3490" name="__codelineno-19-3490" href="#__codelineno-19-3490"></a>---
</span><span id="__span-19-3491"><a id="__codelineno-19-3491" name="__codelineno-19-3491" href="#__codelineno-19-3491"></a># Source: calico/templates/calico-node.yaml
</span><span id="__span-19-3492"><a id="__codelineno-19-3492" name="__codelineno-19-3492" href="#__codelineno-19-3492"></a># This manifest installs the calico-node container, as well
</span><span id="__span-19-3493"><a id="__codelineno-19-3493" name="__codelineno-19-3493" href="#__codelineno-19-3493"></a># as the CNI plugins and network config on
</span><span id="__span-19-3494"><a id="__codelineno-19-3494" name="__codelineno-19-3494" href="#__codelineno-19-3494"></a># each master and worker node in a Kubernetes cluster.
</span><span id="__span-19-3495"><a id="__codelineno-19-3495" name="__codelineno-19-3495" href="#__codelineno-19-3495"></a>kind: DaemonSet
</span><span id="__span-19-3496"><a id="__codelineno-19-3496" name="__codelineno-19-3496" href="#__codelineno-19-3496"></a>apiVersion: apps/v1
</span><span id="__span-19-3497"><a id="__codelineno-19-3497" name="__codelineno-19-3497" href="#__codelineno-19-3497"></a>metadata:
</span><span id="__span-19-3498"><a id="__codelineno-19-3498" name="__codelineno-19-3498" href="#__codelineno-19-3498"></a>  name: calico-node
</span><span id="__span-19-3499"><a id="__codelineno-19-3499" name="__codelineno-19-3499" href="#__codelineno-19-3499"></a>  namespace: kube-system
</span><span id="__span-19-3500"><a id="__codelineno-19-3500" name="__codelineno-19-3500" href="#__codelineno-19-3500"></a>  labels:
</span><span id="__span-19-3501"><a id="__codelineno-19-3501" name="__codelineno-19-3501" href="#__codelineno-19-3501"></a>    k8s-app: calico-node
</span><span id="__span-19-3502"><a id="__codelineno-19-3502" name="__codelineno-19-3502" href="#__codelineno-19-3502"></a>spec:
</span><span id="__span-19-3503"><a id="__codelineno-19-3503" name="__codelineno-19-3503" href="#__codelineno-19-3503"></a>  selector:
</span><span id="__span-19-3504"><a id="__codelineno-19-3504" name="__codelineno-19-3504" href="#__codelineno-19-3504"></a>    matchLabels:
</span><span id="__span-19-3505"><a id="__codelineno-19-3505" name="__codelineno-19-3505" href="#__codelineno-19-3505"></a>      k8s-app: calico-node
</span><span id="__span-19-3506"><a id="__codelineno-19-3506" name="__codelineno-19-3506" href="#__codelineno-19-3506"></a>  updateStrategy:
</span><span id="__span-19-3507"><a id="__codelineno-19-3507" name="__codelineno-19-3507" href="#__codelineno-19-3507"></a>    type: RollingUpdate
</span><span id="__span-19-3508"><a id="__codelineno-19-3508" name="__codelineno-19-3508" href="#__codelineno-19-3508"></a>    rollingUpdate:
</span><span id="__span-19-3509"><a id="__codelineno-19-3509" name="__codelineno-19-3509" href="#__codelineno-19-3509"></a>      maxUnavailable: 1
</span><span id="__span-19-3510"><a id="__codelineno-19-3510" name="__codelineno-19-3510" href="#__codelineno-19-3510"></a>  template:
</span><span id="__span-19-3511"><a id="__codelineno-19-3511" name="__codelineno-19-3511" href="#__codelineno-19-3511"></a>    metadata:
</span><span id="__span-19-3512"><a id="__codelineno-19-3512" name="__codelineno-19-3512" href="#__codelineno-19-3512"></a>      labels:
</span><span id="__span-19-3513"><a id="__codelineno-19-3513" name="__codelineno-19-3513" href="#__codelineno-19-3513"></a>        k8s-app: calico-node
</span><span id="__span-19-3514"><a id="__codelineno-19-3514" name="__codelineno-19-3514" href="#__codelineno-19-3514"></a>    spec:
</span><span id="__span-19-3515"><a id="__codelineno-19-3515" name="__codelineno-19-3515" href="#__codelineno-19-3515"></a>      nodeSelector:
</span><span id="__span-19-3516"><a id="__codelineno-19-3516" name="__codelineno-19-3516" href="#__codelineno-19-3516"></a>        kubernetes.io/os: linux
</span><span id="__span-19-3517"><a id="__codelineno-19-3517" name="__codelineno-19-3517" href="#__codelineno-19-3517"></a>      hostNetwork: true
</span><span id="__span-19-3518"><a id="__codelineno-19-3518" name="__codelineno-19-3518" href="#__codelineno-19-3518"></a>      tolerations:
</span><span id="__span-19-3519"><a id="__codelineno-19-3519" name="__codelineno-19-3519" href="#__codelineno-19-3519"></a>        # Make sure calico-node gets scheduled on all nodes.
</span><span id="__span-19-3520"><a id="__codelineno-19-3520" name="__codelineno-19-3520" href="#__codelineno-19-3520"></a>        - effect: NoSchedule
</span><span id="__span-19-3521"><a id="__codelineno-19-3521" name="__codelineno-19-3521" href="#__codelineno-19-3521"></a>          operator: Exists
</span><span id="__span-19-3522"><a id="__codelineno-19-3522" name="__codelineno-19-3522" href="#__codelineno-19-3522"></a>        # Mark the pod as a critical add-on for rescheduling.
</span><span id="__span-19-3523"><a id="__codelineno-19-3523" name="__codelineno-19-3523" href="#__codelineno-19-3523"></a>        - key: CriticalAddonsOnly
</span><span id="__span-19-3524"><a id="__codelineno-19-3524" name="__codelineno-19-3524" href="#__codelineno-19-3524"></a>          operator: Exists
</span><span id="__span-19-3525"><a id="__codelineno-19-3525" name="__codelineno-19-3525" href="#__codelineno-19-3525"></a>        - effect: NoExecute
</span><span id="__span-19-3526"><a id="__codelineno-19-3526" name="__codelineno-19-3526" href="#__codelineno-19-3526"></a>          operator: Exists
</span><span id="__span-19-3527"><a id="__codelineno-19-3527" name="__codelineno-19-3527" href="#__codelineno-19-3527"></a>      serviceAccountName: calico-node
</span><span id="__span-19-3528"><a id="__codelineno-19-3528" name="__codelineno-19-3528" href="#__codelineno-19-3528"></a>      # Minimize downtime during a rolling upgrade or deletion; tell Kubernetes to do a &quot;force
</span><span id="__span-19-3529"><a id="__codelineno-19-3529" name="__codelineno-19-3529" href="#__codelineno-19-3529"></a>      # deletion&quot;: https://kubernetes.io/docs/concepts/workloads/pods/pod/#termination-of-pods.
</span><span id="__span-19-3530"><a id="__codelineno-19-3530" name="__codelineno-19-3530" href="#__codelineno-19-3530"></a>      terminationGracePeriodSeconds: 0
</span><span id="__span-19-3531"><a id="__codelineno-19-3531" name="__codelineno-19-3531" href="#__codelineno-19-3531"></a>      priorityClassName: system-node-critical
</span><span id="__span-19-3532"><a id="__codelineno-19-3532" name="__codelineno-19-3532" href="#__codelineno-19-3532"></a>      initContainers:
</span><span id="__span-19-3533"><a id="__codelineno-19-3533" name="__codelineno-19-3533" href="#__codelineno-19-3533"></a>        # This container performs upgrade from host-local IPAM to calico-ipam.
</span><span id="__span-19-3534"><a id="__codelineno-19-3534" name="__codelineno-19-3534" href="#__codelineno-19-3534"></a>        # It can be deleted if this is a fresh installation, or if you have already
</span><span id="__span-19-3535"><a id="__codelineno-19-3535" name="__codelineno-19-3535" href="#__codelineno-19-3535"></a>        # upgraded to use calico-ipam.
</span><span id="__span-19-3536"><a id="__codelineno-19-3536" name="__codelineno-19-3536" href="#__codelineno-19-3536"></a>        - name: upgrade-ipam
</span><span id="__span-19-3537"><a id="__codelineno-19-3537" name="__codelineno-19-3537" href="#__codelineno-19-3537"></a>          image: docker.io/calico/cni:v3.18.0
</span><span id="__span-19-3538"><a id="__codelineno-19-3538" name="__codelineno-19-3538" href="#__codelineno-19-3538"></a>          command: [&quot;/opt/cni/bin/calico-ipam&quot;, &quot;-upgrade&quot;]
</span><span id="__span-19-3539"><a id="__codelineno-19-3539" name="__codelineno-19-3539" href="#__codelineno-19-3539"></a>          envFrom:
</span><span id="__span-19-3540"><a id="__codelineno-19-3540" name="__codelineno-19-3540" href="#__codelineno-19-3540"></a>          - configMapRef:
</span><span id="__span-19-3541"><a id="__codelineno-19-3541" name="__codelineno-19-3541" href="#__codelineno-19-3541"></a>              # Allow KUBERNETES_SERVICE_HOST and KUBERNETES_SERVICE_PORT to be overridden for eBPF mode.
</span><span id="__span-19-3542"><a id="__codelineno-19-3542" name="__codelineno-19-3542" href="#__codelineno-19-3542"></a>              name: kubernetes-services-endpoint
</span><span id="__span-19-3543"><a id="__codelineno-19-3543" name="__codelineno-19-3543" href="#__codelineno-19-3543"></a>              optional: true
</span><span id="__span-19-3544"><a id="__codelineno-19-3544" name="__codelineno-19-3544" href="#__codelineno-19-3544"></a>          env:
</span><span id="__span-19-3545"><a id="__codelineno-19-3545" name="__codelineno-19-3545" href="#__codelineno-19-3545"></a>            - name: KUBERNETES_NODE_NAME
</span><span id="__span-19-3546"><a id="__codelineno-19-3546" name="__codelineno-19-3546" href="#__codelineno-19-3546"></a>              valueFrom:
</span><span id="__span-19-3547"><a id="__codelineno-19-3547" name="__codelineno-19-3547" href="#__codelineno-19-3547"></a>                fieldRef:
</span><span id="__span-19-3548"><a id="__codelineno-19-3548" name="__codelineno-19-3548" href="#__codelineno-19-3548"></a>                  fieldPath: spec.nodeName
</span><span id="__span-19-3549"><a id="__codelineno-19-3549" name="__codelineno-19-3549" href="#__codelineno-19-3549"></a>            - name: CALICO_NETWORKING_BACKEND
</span><span id="__span-19-3550"><a id="__codelineno-19-3550" name="__codelineno-19-3550" href="#__codelineno-19-3550"></a>              valueFrom:
</span><span id="__span-19-3551"><a id="__codelineno-19-3551" name="__codelineno-19-3551" href="#__codelineno-19-3551"></a>                configMapKeyRef:
</span><span id="__span-19-3552"><a id="__codelineno-19-3552" name="__codelineno-19-3552" href="#__codelineno-19-3552"></a>                  name: calico-config
</span><span id="__span-19-3553"><a id="__codelineno-19-3553" name="__codelineno-19-3553" href="#__codelineno-19-3553"></a>                  key: calico_backend
</span><span id="__span-19-3554"><a id="__codelineno-19-3554" name="__codelineno-19-3554" href="#__codelineno-19-3554"></a>          volumeMounts:
</span><span id="__span-19-3555"><a id="__codelineno-19-3555" name="__codelineno-19-3555" href="#__codelineno-19-3555"></a>            - mountPath: /var/lib/cni/networks
</span><span id="__span-19-3556"><a id="__codelineno-19-3556" name="__codelineno-19-3556" href="#__codelineno-19-3556"></a>              name: host-local-net-dir
</span><span id="__span-19-3557"><a id="__codelineno-19-3557" name="__codelineno-19-3557" href="#__codelineno-19-3557"></a>            - mountPath: /host/opt/cni/bin
</span><span id="__span-19-3558"><a id="__codelineno-19-3558" name="__codelineno-19-3558" href="#__codelineno-19-3558"></a>              name: cni-bin-dir
</span><span id="__span-19-3559"><a id="__codelineno-19-3559" name="__codelineno-19-3559" href="#__codelineno-19-3559"></a>          securityContext:
</span><span id="__span-19-3560"><a id="__codelineno-19-3560" name="__codelineno-19-3560" href="#__codelineno-19-3560"></a>            privileged: true
</span><span id="__span-19-3561"><a id="__codelineno-19-3561" name="__codelineno-19-3561" href="#__codelineno-19-3561"></a>        # This container installs the CNI binaries
</span><span id="__span-19-3562"><a id="__codelineno-19-3562" name="__codelineno-19-3562" href="#__codelineno-19-3562"></a>        # and CNI network config file on each node.
</span><span id="__span-19-3563"><a id="__codelineno-19-3563" name="__codelineno-19-3563" href="#__codelineno-19-3563"></a>        - name: install-cni
</span><span id="__span-19-3564"><a id="__codelineno-19-3564" name="__codelineno-19-3564" href="#__codelineno-19-3564"></a>          image: docker.io/calico/cni:v3.18.0
</span><span id="__span-19-3565"><a id="__codelineno-19-3565" name="__codelineno-19-3565" href="#__codelineno-19-3565"></a>          command: [&quot;/opt/cni/bin/install&quot;]
</span><span id="__span-19-3566"><a id="__codelineno-19-3566" name="__codelineno-19-3566" href="#__codelineno-19-3566"></a>          envFrom:
</span><span id="__span-19-3567"><a id="__codelineno-19-3567" name="__codelineno-19-3567" href="#__codelineno-19-3567"></a>          - configMapRef:
</span><span id="__span-19-3568"><a id="__codelineno-19-3568" name="__codelineno-19-3568" href="#__codelineno-19-3568"></a>              # Allow KUBERNETES_SERVICE_HOST and KUBERNETES_SERVICE_PORT to be overridden for eBPF mode.
</span><span id="__span-19-3569"><a id="__codelineno-19-3569" name="__codelineno-19-3569" href="#__codelineno-19-3569"></a>              name: kubernetes-services-endpoint
</span><span id="__span-19-3570"><a id="__codelineno-19-3570" name="__codelineno-19-3570" href="#__codelineno-19-3570"></a>              optional: true
</span><span id="__span-19-3571"><a id="__codelineno-19-3571" name="__codelineno-19-3571" href="#__codelineno-19-3571"></a>          env:
</span><span id="__span-19-3572"><a id="__codelineno-19-3572" name="__codelineno-19-3572" href="#__codelineno-19-3572"></a>            # Name of the CNI config file to create.
</span><span id="__span-19-3573"><a id="__codelineno-19-3573" name="__codelineno-19-3573" href="#__codelineno-19-3573"></a>            - name: CNI_CONF_NAME
</span><span id="__span-19-3574"><a id="__codelineno-19-3574" name="__codelineno-19-3574" href="#__codelineno-19-3574"></a>              value: &quot;10-calico.conflist&quot;
</span><span id="__span-19-3575"><a id="__codelineno-19-3575" name="__codelineno-19-3575" href="#__codelineno-19-3575"></a>            # The CNI network config to install on each node.
</span><span id="__span-19-3576"><a id="__codelineno-19-3576" name="__codelineno-19-3576" href="#__codelineno-19-3576"></a>            - name: CNI_NETWORK_CONFIG
</span><span id="__span-19-3577"><a id="__codelineno-19-3577" name="__codelineno-19-3577" href="#__codelineno-19-3577"></a>              valueFrom:
</span><span id="__span-19-3578"><a id="__codelineno-19-3578" name="__codelineno-19-3578" href="#__codelineno-19-3578"></a>                configMapKeyRef:
</span><span id="__span-19-3579"><a id="__codelineno-19-3579" name="__codelineno-19-3579" href="#__codelineno-19-3579"></a>                  name: calico-config
</span><span id="__span-19-3580"><a id="__codelineno-19-3580" name="__codelineno-19-3580" href="#__codelineno-19-3580"></a>                  key: cni_network_config
</span><span id="__span-19-3581"><a id="__codelineno-19-3581" name="__codelineno-19-3581" href="#__codelineno-19-3581"></a>            # Set the hostname based on the k8s node name.
</span><span id="__span-19-3582"><a id="__codelineno-19-3582" name="__codelineno-19-3582" href="#__codelineno-19-3582"></a>            - name: KUBERNETES_NODE_NAME
</span><span id="__span-19-3583"><a id="__codelineno-19-3583" name="__codelineno-19-3583" href="#__codelineno-19-3583"></a>              valueFrom:
</span><span id="__span-19-3584"><a id="__codelineno-19-3584" name="__codelineno-19-3584" href="#__codelineno-19-3584"></a>                fieldRef:
</span><span id="__span-19-3585"><a id="__codelineno-19-3585" name="__codelineno-19-3585" href="#__codelineno-19-3585"></a>                  fieldPath: spec.nodeName
</span><span id="__span-19-3586"><a id="__codelineno-19-3586" name="__codelineno-19-3586" href="#__codelineno-19-3586"></a>            # CNI MTU Config variable
</span><span id="__span-19-3587"><a id="__codelineno-19-3587" name="__codelineno-19-3587" href="#__codelineno-19-3587"></a>            - name: CNI_MTU
</span><span id="__span-19-3588"><a id="__codelineno-19-3588" name="__codelineno-19-3588" href="#__codelineno-19-3588"></a>              valueFrom:
</span><span id="__span-19-3589"><a id="__codelineno-19-3589" name="__codelineno-19-3589" href="#__codelineno-19-3589"></a>                configMapKeyRef:
</span><span id="__span-19-3590"><a id="__codelineno-19-3590" name="__codelineno-19-3590" href="#__codelineno-19-3590"></a>                  name: calico-config
</span><span id="__span-19-3591"><a id="__codelineno-19-3591" name="__codelineno-19-3591" href="#__codelineno-19-3591"></a>                  key: veth_mtu
</span><span id="__span-19-3592"><a id="__codelineno-19-3592" name="__codelineno-19-3592" href="#__codelineno-19-3592"></a>            # Prevents the container from sleeping forever.
</span><span id="__span-19-3593"><a id="__codelineno-19-3593" name="__codelineno-19-3593" href="#__codelineno-19-3593"></a>            - name: SLEEP
</span><span id="__span-19-3594"><a id="__codelineno-19-3594" name="__codelineno-19-3594" href="#__codelineno-19-3594"></a>              value: &quot;false&quot;
</span><span id="__span-19-3595"><a id="__codelineno-19-3595" name="__codelineno-19-3595" href="#__codelineno-19-3595"></a>          volumeMounts:
</span><span id="__span-19-3596"><a id="__codelineno-19-3596" name="__codelineno-19-3596" href="#__codelineno-19-3596"></a>            - mountPath: /host/opt/cni/bin
</span><span id="__span-19-3597"><a id="__codelineno-19-3597" name="__codelineno-19-3597" href="#__codelineno-19-3597"></a>              name: cni-bin-dir
</span><span id="__span-19-3598"><a id="__codelineno-19-3598" name="__codelineno-19-3598" href="#__codelineno-19-3598"></a>            - mountPath: /host/etc/cni/net.d
</span><span id="__span-19-3599"><a id="__codelineno-19-3599" name="__codelineno-19-3599" href="#__codelineno-19-3599"></a>              name: cni-net-dir
</span><span id="__span-19-3600"><a id="__codelineno-19-3600" name="__codelineno-19-3600" href="#__codelineno-19-3600"></a>          securityContext:
</span><span id="__span-19-3601"><a id="__codelineno-19-3601" name="__codelineno-19-3601" href="#__codelineno-19-3601"></a>            privileged: true
</span><span id="__span-19-3602"><a id="__codelineno-19-3602" name="__codelineno-19-3602" href="#__codelineno-19-3602"></a>        # Adds a Flex Volume Driver that creates a per-pod Unix Domain Socket to allow Dikastes
</span><span id="__span-19-3603"><a id="__codelineno-19-3603" name="__codelineno-19-3603" href="#__codelineno-19-3603"></a>        # to communicate with Felix over the Policy Sync API.
</span><span id="__span-19-3604"><a id="__codelineno-19-3604" name="__codelineno-19-3604" href="#__codelineno-19-3604"></a>        - name: flexvol-driver
</span><span id="__span-19-3605"><a id="__codelineno-19-3605" name="__codelineno-19-3605" href="#__codelineno-19-3605"></a>          image: docker.io/calico/pod2daemon-flexvol:v3.18.0
</span><span id="__span-19-3606"><a id="__codelineno-19-3606" name="__codelineno-19-3606" href="#__codelineno-19-3606"></a>          volumeMounts:
</span><span id="__span-19-3607"><a id="__codelineno-19-3607" name="__codelineno-19-3607" href="#__codelineno-19-3607"></a>          - name: flexvol-driver-host
</span><span id="__span-19-3608"><a id="__codelineno-19-3608" name="__codelineno-19-3608" href="#__codelineno-19-3608"></a>            mountPath: /host/driver
</span><span id="__span-19-3609"><a id="__codelineno-19-3609" name="__codelineno-19-3609" href="#__codelineno-19-3609"></a>          securityContext:
</span><span id="__span-19-3610"><a id="__codelineno-19-3610" name="__codelineno-19-3610" href="#__codelineno-19-3610"></a>            privileged: true
</span><span id="__span-19-3611"><a id="__codelineno-19-3611" name="__codelineno-19-3611" href="#__codelineno-19-3611"></a>      containers:
</span><span id="__span-19-3612"><a id="__codelineno-19-3612" name="__codelineno-19-3612" href="#__codelineno-19-3612"></a>        # Runs calico-node container on each Kubernetes node. This
</span><span id="__span-19-3613"><a id="__codelineno-19-3613" name="__codelineno-19-3613" href="#__codelineno-19-3613"></a>        # container programs network policy and routes on each
</span><span id="__span-19-3614"><a id="__codelineno-19-3614" name="__codelineno-19-3614" href="#__codelineno-19-3614"></a>        # host.
</span><span id="__span-19-3615"><a id="__codelineno-19-3615" name="__codelineno-19-3615" href="#__codelineno-19-3615"></a>        - name: calico-node
</span><span id="__span-19-3616"><a id="__codelineno-19-3616" name="__codelineno-19-3616" href="#__codelineno-19-3616"></a>          image: docker.io/calico/node:v3.18.0
</span><span id="__span-19-3617"><a id="__codelineno-19-3617" name="__codelineno-19-3617" href="#__codelineno-19-3617"></a>          envFrom:
</span><span id="__span-19-3618"><a id="__codelineno-19-3618" name="__codelineno-19-3618" href="#__codelineno-19-3618"></a>          - configMapRef:
</span><span id="__span-19-3619"><a id="__codelineno-19-3619" name="__codelineno-19-3619" href="#__codelineno-19-3619"></a>              # Allow KUBERNETES_SERVICE_HOST and KUBERNETES_SERVICE_PORT to be overridden for eBPF mode.
</span><span id="__span-19-3620"><a id="__codelineno-19-3620" name="__codelineno-19-3620" href="#__codelineno-19-3620"></a>              name: kubernetes-services-endpoint
</span><span id="__span-19-3621"><a id="__codelineno-19-3621" name="__codelineno-19-3621" href="#__codelineno-19-3621"></a>              optional: true
</span><span id="__span-19-3622"><a id="__codelineno-19-3622" name="__codelineno-19-3622" href="#__codelineno-19-3622"></a>          env:
</span><span id="__span-19-3623"><a id="__codelineno-19-3623" name="__codelineno-19-3623" href="#__codelineno-19-3623"></a>            # Use Kubernetes API as the backing datastore.
</span><span id="__span-19-3624"><a id="__codelineno-19-3624" name="__codelineno-19-3624" href="#__codelineno-19-3624"></a>            - name: DATASTORE_TYPE
</span><span id="__span-19-3625"><a id="__codelineno-19-3625" name="__codelineno-19-3625" href="#__codelineno-19-3625"></a>              value: &quot;kubernetes&quot;
</span><span id="__span-19-3626"><a id="__codelineno-19-3626" name="__codelineno-19-3626" href="#__codelineno-19-3626"></a>            # Wait for the datastore.
</span><span id="__span-19-3627"><a id="__codelineno-19-3627" name="__codelineno-19-3627" href="#__codelineno-19-3627"></a>            - name: WAIT_FOR_DATASTORE
</span><span id="__span-19-3628"><a id="__codelineno-19-3628" name="__codelineno-19-3628" href="#__codelineno-19-3628"></a>              value: &quot;true&quot;
</span><span id="__span-19-3629"><a id="__codelineno-19-3629" name="__codelineno-19-3629" href="#__codelineno-19-3629"></a>            # Set based on the k8s node name.
</span><span id="__span-19-3630"><a id="__codelineno-19-3630" name="__codelineno-19-3630" href="#__codelineno-19-3630"></a>            - name: NODENAME
</span><span id="__span-19-3631"><a id="__codelineno-19-3631" name="__codelineno-19-3631" href="#__codelineno-19-3631"></a>              valueFrom:
</span><span id="__span-19-3632"><a id="__codelineno-19-3632" name="__codelineno-19-3632" href="#__codelineno-19-3632"></a>                fieldRef:
</span><span id="__span-19-3633"><a id="__codelineno-19-3633" name="__codelineno-19-3633" href="#__codelineno-19-3633"></a>                  fieldPath: spec.nodeName
</span><span id="__span-19-3634"><a id="__codelineno-19-3634" name="__codelineno-19-3634" href="#__codelineno-19-3634"></a>            # Choose the backend to use.
</span><span id="__span-19-3635"><a id="__codelineno-19-3635" name="__codelineno-19-3635" href="#__codelineno-19-3635"></a>            - name: CALICO_NETWORKING_BACKEND
</span><span id="__span-19-3636"><a id="__codelineno-19-3636" name="__codelineno-19-3636" href="#__codelineno-19-3636"></a>              valueFrom:
</span><span id="__span-19-3637"><a id="__codelineno-19-3637" name="__codelineno-19-3637" href="#__codelineno-19-3637"></a>                configMapKeyRef:
</span><span id="__span-19-3638"><a id="__codelineno-19-3638" name="__codelineno-19-3638" href="#__codelineno-19-3638"></a>                  name: calico-config
</span><span id="__span-19-3639"><a id="__codelineno-19-3639" name="__codelineno-19-3639" href="#__codelineno-19-3639"></a>                  key: calico_backend
</span><span id="__span-19-3640"><a id="__codelineno-19-3640" name="__codelineno-19-3640" href="#__codelineno-19-3640"></a>            # Cluster type to identify the deployment type
</span><span id="__span-19-3641"><a id="__codelineno-19-3641" name="__codelineno-19-3641" href="#__codelineno-19-3641"></a>            - name: CLUSTER_TYPE
</span><span id="__span-19-3642"><a id="__codelineno-19-3642" name="__codelineno-19-3642" href="#__codelineno-19-3642"></a>              value: &quot;k8s,bgp&quot;
</span><span id="__span-19-3643"><a id="__codelineno-19-3643" name="__codelineno-19-3643" href="#__codelineno-19-3643"></a>            # Auto-detect the BGP IP address.
</span><span id="__span-19-3644"><a id="__codelineno-19-3644" name="__codelineno-19-3644" href="#__codelineno-19-3644"></a>            - name: IP
</span><span id="__span-19-3645"><a id="__codelineno-19-3645" name="__codelineno-19-3645" href="#__codelineno-19-3645"></a>              value: &quot;autodetect&quot;
</span><span id="__span-19-3646"><a id="__codelineno-19-3646" name="__codelineno-19-3646" href="#__codelineno-19-3646"></a>            # Enable IPIP
</span><span id="__span-19-3647"><a id="__codelineno-19-3647" name="__codelineno-19-3647" href="#__codelineno-19-3647"></a>            - name: CALICO_IPV4POOL_IPIP
</span><span id="__span-19-3648"><a id="__codelineno-19-3648" name="__codelineno-19-3648" href="#__codelineno-19-3648"></a>              value: &quot;Always&quot;
</span><span id="__span-19-3649"><a id="__codelineno-19-3649" name="__codelineno-19-3649" href="#__codelineno-19-3649"></a>            # Enable or Disable VXLAN on the default IP pool.
</span><span id="__span-19-3650"><a id="__codelineno-19-3650" name="__codelineno-19-3650" href="#__codelineno-19-3650"></a>            - name: CALICO_IPV4POOL_VXLAN
</span><span id="__span-19-3651"><a id="__codelineno-19-3651" name="__codelineno-19-3651" href="#__codelineno-19-3651"></a>              value: &quot;Never&quot;
</span><span id="__span-19-3652"><a id="__codelineno-19-3652" name="__codelineno-19-3652" href="#__codelineno-19-3652"></a>            # Set MTU for tunnel device used if ipip is enabled
</span><span id="__span-19-3653"><a id="__codelineno-19-3653" name="__codelineno-19-3653" href="#__codelineno-19-3653"></a>            - name: FELIX_IPINIPMTU
</span><span id="__span-19-3654"><a id="__codelineno-19-3654" name="__codelineno-19-3654" href="#__codelineno-19-3654"></a>              valueFrom:
</span><span id="__span-19-3655"><a id="__codelineno-19-3655" name="__codelineno-19-3655" href="#__codelineno-19-3655"></a>                configMapKeyRef:
</span><span id="__span-19-3656"><a id="__codelineno-19-3656" name="__codelineno-19-3656" href="#__codelineno-19-3656"></a>                  name: calico-config
</span><span id="__span-19-3657"><a id="__codelineno-19-3657" name="__codelineno-19-3657" href="#__codelineno-19-3657"></a>                  key: veth_mtu
</span><span id="__span-19-3658"><a id="__codelineno-19-3658" name="__codelineno-19-3658" href="#__codelineno-19-3658"></a>            # Set MTU for the VXLAN tunnel device.
</span><span id="__span-19-3659"><a id="__codelineno-19-3659" name="__codelineno-19-3659" href="#__codelineno-19-3659"></a>            - name: FELIX_VXLANMTU
</span><span id="__span-19-3660"><a id="__codelineno-19-3660" name="__codelineno-19-3660" href="#__codelineno-19-3660"></a>              valueFrom:
</span><span id="__span-19-3661"><a id="__codelineno-19-3661" name="__codelineno-19-3661" href="#__codelineno-19-3661"></a>                configMapKeyRef:
</span><span id="__span-19-3662"><a id="__codelineno-19-3662" name="__codelineno-19-3662" href="#__codelineno-19-3662"></a>                  name: calico-config
</span><span id="__span-19-3663"><a id="__codelineno-19-3663" name="__codelineno-19-3663" href="#__codelineno-19-3663"></a>                  key: veth_mtu
</span><span id="__span-19-3664"><a id="__codelineno-19-3664" name="__codelineno-19-3664" href="#__codelineno-19-3664"></a>            # Set MTU for the Wireguard tunnel device.
</span><span id="__span-19-3665"><a id="__codelineno-19-3665" name="__codelineno-19-3665" href="#__codelineno-19-3665"></a>            - name: FELIX_WIREGUARDMTU
</span><span id="__span-19-3666"><a id="__codelineno-19-3666" name="__codelineno-19-3666" href="#__codelineno-19-3666"></a>              valueFrom:
</span><span id="__span-19-3667"><a id="__codelineno-19-3667" name="__codelineno-19-3667" href="#__codelineno-19-3667"></a>                configMapKeyRef:
</span><span id="__span-19-3668"><a id="__codelineno-19-3668" name="__codelineno-19-3668" href="#__codelineno-19-3668"></a>                  name: calico-config
</span><span id="__span-19-3669"><a id="__codelineno-19-3669" name="__codelineno-19-3669" href="#__codelineno-19-3669"></a>                  key: veth_mtu
</span><span id="__span-19-3670"><a id="__codelineno-19-3670" name="__codelineno-19-3670" href="#__codelineno-19-3670"></a>            # The default IPv4 pool to create on startup if none exists. Pod IPs will be
</span><span id="__span-19-3671"><a id="__codelineno-19-3671" name="__codelineno-19-3671" href="#__codelineno-19-3671"></a>            # chosen from this range. Changing this value after installation will have
</span><span id="__span-19-3672"><a id="__codelineno-19-3672" name="__codelineno-19-3672" href="#__codelineno-19-3672"></a>            # no effect. This should fall within `--cluster-cidr`.
</span><span id="__span-19-3673"><a id="__codelineno-19-3673" name="__codelineno-19-3673" href="#__codelineno-19-3673"></a>            # - name: CALICO_IPV4POOL_CIDR
</span><span id="__span-19-3674"><a id="__codelineno-19-3674" name="__codelineno-19-3674" href="#__codelineno-19-3674"></a>            #   value: &quot;192.168.0.0/16&quot;
</span><span id="__span-19-3675"><a id="__codelineno-19-3675" name="__codelineno-19-3675" href="#__codelineno-19-3675"></a>            # Disable file logging so `kubectl logs` works.
</span><span id="__span-19-3676"><a id="__codelineno-19-3676" name="__codelineno-19-3676" href="#__codelineno-19-3676"></a>            - name: CALICO_DISABLE_FILE_LOGGING
</span><span id="__span-19-3677"><a id="__codelineno-19-3677" name="__codelineno-19-3677" href="#__codelineno-19-3677"></a>              value: &quot;true&quot;
</span><span id="__span-19-3678"><a id="__codelineno-19-3678" name="__codelineno-19-3678" href="#__codelineno-19-3678"></a>            # Set Felix endpoint to host default action to ACCEPT.
</span><span id="__span-19-3679"><a id="__codelineno-19-3679" name="__codelineno-19-3679" href="#__codelineno-19-3679"></a>            - name: FELIX_DEFAULTENDPOINTTOHOSTACTION
</span><span id="__span-19-3680"><a id="__codelineno-19-3680" name="__codelineno-19-3680" href="#__codelineno-19-3680"></a>              value: &quot;ACCEPT&quot;
</span><span id="__span-19-3681"><a id="__codelineno-19-3681" name="__codelineno-19-3681" href="#__codelineno-19-3681"></a>            # Disable IPv6 on Kubernetes.
</span><span id="__span-19-3682"><a id="__codelineno-19-3682" name="__codelineno-19-3682" href="#__codelineno-19-3682"></a>            - name: FELIX_IPV6SUPPORT
</span><span id="__span-19-3683"><a id="__codelineno-19-3683" name="__codelineno-19-3683" href="#__codelineno-19-3683"></a>              value: &quot;false&quot;
</span><span id="__span-19-3684"><a id="__codelineno-19-3684" name="__codelineno-19-3684" href="#__codelineno-19-3684"></a>            # Set Felix logging to &quot;info&quot;
</span><span id="__span-19-3685"><a id="__codelineno-19-3685" name="__codelineno-19-3685" href="#__codelineno-19-3685"></a>            - name: FELIX_LOGSEVERITYSCREEN
</span><span id="__span-19-3686"><a id="__codelineno-19-3686" name="__codelineno-19-3686" href="#__codelineno-19-3686"></a>              value: &quot;info&quot;
</span><span id="__span-19-3687"><a id="__codelineno-19-3687" name="__codelineno-19-3687" href="#__codelineno-19-3687"></a>            - name: FELIX_HEALTHENABLED
</span><span id="__span-19-3688"><a id="__codelineno-19-3688" name="__codelineno-19-3688" href="#__codelineno-19-3688"></a>              value: &quot;true&quot;
</span><span id="__span-19-3689"><a id="__codelineno-19-3689" name="__codelineno-19-3689" href="#__codelineno-19-3689"></a>          securityContext:
</span><span id="__span-19-3690"><a id="__codelineno-19-3690" name="__codelineno-19-3690" href="#__codelineno-19-3690"></a>            privileged: true
</span><span id="__span-19-3691"><a id="__codelineno-19-3691" name="__codelineno-19-3691" href="#__codelineno-19-3691"></a>          resources:
</span><span id="__span-19-3692"><a id="__codelineno-19-3692" name="__codelineno-19-3692" href="#__codelineno-19-3692"></a>            requests:
</span><span id="__span-19-3693"><a id="__codelineno-19-3693" name="__codelineno-19-3693" href="#__codelineno-19-3693"></a>              cpu: 250m
</span><span id="__span-19-3694"><a id="__codelineno-19-3694" name="__codelineno-19-3694" href="#__codelineno-19-3694"></a>          livenessProbe:
</span><span id="__span-19-3695"><a id="__codelineno-19-3695" name="__codelineno-19-3695" href="#__codelineno-19-3695"></a>            exec:
</span><span id="__span-19-3696"><a id="__codelineno-19-3696" name="__codelineno-19-3696" href="#__codelineno-19-3696"></a>              command:
</span><span id="__span-19-3697"><a id="__codelineno-19-3697" name="__codelineno-19-3697" href="#__codelineno-19-3697"></a>              - /bin/calico-node
</span><span id="__span-19-3698"><a id="__codelineno-19-3698" name="__codelineno-19-3698" href="#__codelineno-19-3698"></a>              - -felix-live
</span><span id="__span-19-3699"><a id="__codelineno-19-3699" name="__codelineno-19-3699" href="#__codelineno-19-3699"></a>              - -bird-live
</span><span id="__span-19-3700"><a id="__codelineno-19-3700" name="__codelineno-19-3700" href="#__codelineno-19-3700"></a>            periodSeconds: 10
</span><span id="__span-19-3701"><a id="__codelineno-19-3701" name="__codelineno-19-3701" href="#__codelineno-19-3701"></a>            initialDelaySeconds: 10
</span><span id="__span-19-3702"><a id="__codelineno-19-3702" name="__codelineno-19-3702" href="#__codelineno-19-3702"></a>            failureThreshold: 6
</span><span id="__span-19-3703"><a id="__codelineno-19-3703" name="__codelineno-19-3703" href="#__codelineno-19-3703"></a>          readinessProbe:
</span><span id="__span-19-3704"><a id="__codelineno-19-3704" name="__codelineno-19-3704" href="#__codelineno-19-3704"></a>            exec:
</span><span id="__span-19-3705"><a id="__codelineno-19-3705" name="__codelineno-19-3705" href="#__codelineno-19-3705"></a>              command:
</span><span id="__span-19-3706"><a id="__codelineno-19-3706" name="__codelineno-19-3706" href="#__codelineno-19-3706"></a>              - /bin/calico-node
</span><span id="__span-19-3707"><a id="__codelineno-19-3707" name="__codelineno-19-3707" href="#__codelineno-19-3707"></a>              - -felix-ready
</span><span id="__span-19-3708"><a id="__codelineno-19-3708" name="__codelineno-19-3708" href="#__codelineno-19-3708"></a>              - -bird-ready
</span><span id="__span-19-3709"><a id="__codelineno-19-3709" name="__codelineno-19-3709" href="#__codelineno-19-3709"></a>            periodSeconds: 10
</span><span id="__span-19-3710"><a id="__codelineno-19-3710" name="__codelineno-19-3710" href="#__codelineno-19-3710"></a>          volumeMounts:
</span><span id="__span-19-3711"><a id="__codelineno-19-3711" name="__codelineno-19-3711" href="#__codelineno-19-3711"></a>            - mountPath: /lib/modules
</span><span id="__span-19-3712"><a id="__codelineno-19-3712" name="__codelineno-19-3712" href="#__codelineno-19-3712"></a>              name: lib-modules
</span><span id="__span-19-3713"><a id="__codelineno-19-3713" name="__codelineno-19-3713" href="#__codelineno-19-3713"></a>              readOnly: true
</span><span id="__span-19-3714"><a id="__codelineno-19-3714" name="__codelineno-19-3714" href="#__codelineno-19-3714"></a>            - mountPath: /run/xtables.lock
</span><span id="__span-19-3715"><a id="__codelineno-19-3715" name="__codelineno-19-3715" href="#__codelineno-19-3715"></a>              name: xtables-lock
</span><span id="__span-19-3716"><a id="__codelineno-19-3716" name="__codelineno-19-3716" href="#__codelineno-19-3716"></a>              readOnly: false
</span><span id="__span-19-3717"><a id="__codelineno-19-3717" name="__codelineno-19-3717" href="#__codelineno-19-3717"></a>            - mountPath: /var/run/calico
</span><span id="__span-19-3718"><a id="__codelineno-19-3718" name="__codelineno-19-3718" href="#__codelineno-19-3718"></a>              name: var-run-calico
</span><span id="__span-19-3719"><a id="__codelineno-19-3719" name="__codelineno-19-3719" href="#__codelineno-19-3719"></a>              readOnly: false
</span><span id="__span-19-3720"><a id="__codelineno-19-3720" name="__codelineno-19-3720" href="#__codelineno-19-3720"></a>            - mountPath: /var/lib/calico
</span><span id="__span-19-3721"><a id="__codelineno-19-3721" name="__codelineno-19-3721" href="#__codelineno-19-3721"></a>              name: var-lib-calico
</span><span id="__span-19-3722"><a id="__codelineno-19-3722" name="__codelineno-19-3722" href="#__codelineno-19-3722"></a>              readOnly: false
</span><span id="__span-19-3723"><a id="__codelineno-19-3723" name="__codelineno-19-3723" href="#__codelineno-19-3723"></a>            - name: policysync
</span><span id="__span-19-3724"><a id="__codelineno-19-3724" name="__codelineno-19-3724" href="#__codelineno-19-3724"></a>              mountPath: /var/run/nodeagent
</span><span id="__span-19-3725"><a id="__codelineno-19-3725" name="__codelineno-19-3725" href="#__codelineno-19-3725"></a>            # For eBPF mode, we need to be able to mount the BPF filesystem at /sys/fs/bpf so we mount in the
</span><span id="__span-19-3726"><a id="__codelineno-19-3726" name="__codelineno-19-3726" href="#__codelineno-19-3726"></a>            # parent directory.
</span><span id="__span-19-3727"><a id="__codelineno-19-3727" name="__codelineno-19-3727" href="#__codelineno-19-3727"></a>            - name: sysfs
</span><span id="__span-19-3728"><a id="__codelineno-19-3728" name="__codelineno-19-3728" href="#__codelineno-19-3728"></a>              mountPath: /sys/fs/
</span><span id="__span-19-3729"><a id="__codelineno-19-3729" name="__codelineno-19-3729" href="#__codelineno-19-3729"></a>              # Bidirectional means that, if we mount the BPF filesystem at /sys/fs/bpf it will propagate to the host.
</span><span id="__span-19-3730"><a id="__codelineno-19-3730" name="__codelineno-19-3730" href="#__codelineno-19-3730"></a>              # If the host is known to mount that filesystem already then Bidirectional can be omitted.
</span><span id="__span-19-3731"><a id="__codelineno-19-3731" name="__codelineno-19-3731" href="#__codelineno-19-3731"></a>              mountPropagation: Bidirectional
</span><span id="__span-19-3732"><a id="__codelineno-19-3732" name="__codelineno-19-3732" href="#__codelineno-19-3732"></a>            - name: cni-log-dir
</span><span id="__span-19-3733"><a id="__codelineno-19-3733" name="__codelineno-19-3733" href="#__codelineno-19-3733"></a>              mountPath: /var/log/calico/cni
</span><span id="__span-19-3734"><a id="__codelineno-19-3734" name="__codelineno-19-3734" href="#__codelineno-19-3734"></a>              readOnly: true
</span><span id="__span-19-3735"><a id="__codelineno-19-3735" name="__codelineno-19-3735" href="#__codelineno-19-3735"></a>      volumes:
</span><span id="__span-19-3736"><a id="__codelineno-19-3736" name="__codelineno-19-3736" href="#__codelineno-19-3736"></a>        # Used by calico-node.
</span><span id="__span-19-3737"><a id="__codelineno-19-3737" name="__codelineno-19-3737" href="#__codelineno-19-3737"></a>        - name: lib-modules
</span><span id="__span-19-3738"><a id="__codelineno-19-3738" name="__codelineno-19-3738" href="#__codelineno-19-3738"></a>          hostPath:
</span><span id="__span-19-3739"><a id="__codelineno-19-3739" name="__codelineno-19-3739" href="#__codelineno-19-3739"></a>            path: /lib/modules
</span><span id="__span-19-3740"><a id="__codelineno-19-3740" name="__codelineno-19-3740" href="#__codelineno-19-3740"></a>        - name: var-run-calico
</span><span id="__span-19-3741"><a id="__codelineno-19-3741" name="__codelineno-19-3741" href="#__codelineno-19-3741"></a>          hostPath:
</span><span id="__span-19-3742"><a id="__codelineno-19-3742" name="__codelineno-19-3742" href="#__codelineno-19-3742"></a>            path: /var/run/calico
</span><span id="__span-19-3743"><a id="__codelineno-19-3743" name="__codelineno-19-3743" href="#__codelineno-19-3743"></a>        - name: var-lib-calico
</span><span id="__span-19-3744"><a id="__codelineno-19-3744" name="__codelineno-19-3744" href="#__codelineno-19-3744"></a>          hostPath:
</span><span id="__span-19-3745"><a id="__codelineno-19-3745" name="__codelineno-19-3745" href="#__codelineno-19-3745"></a>            path: /var/lib/calico
</span><span id="__span-19-3746"><a id="__codelineno-19-3746" name="__codelineno-19-3746" href="#__codelineno-19-3746"></a>        - name: xtables-lock
</span><span id="__span-19-3747"><a id="__codelineno-19-3747" name="__codelineno-19-3747" href="#__codelineno-19-3747"></a>          hostPath:
</span><span id="__span-19-3748"><a id="__codelineno-19-3748" name="__codelineno-19-3748" href="#__codelineno-19-3748"></a>            path: /run/xtables.lock
</span><span id="__span-19-3749"><a id="__codelineno-19-3749" name="__codelineno-19-3749" href="#__codelineno-19-3749"></a>            type: FileOrCreate
</span><span id="__span-19-3750"><a id="__codelineno-19-3750" name="__codelineno-19-3750" href="#__codelineno-19-3750"></a>        - name: sysfs
</span><span id="__span-19-3751"><a id="__codelineno-19-3751" name="__codelineno-19-3751" href="#__codelineno-19-3751"></a>          hostPath:
</span><span id="__span-19-3752"><a id="__codelineno-19-3752" name="__codelineno-19-3752" href="#__codelineno-19-3752"></a>            path: /sys/fs/
</span><span id="__span-19-3753"><a id="__codelineno-19-3753" name="__codelineno-19-3753" href="#__codelineno-19-3753"></a>            type: DirectoryOrCreate
</span><span id="__span-19-3754"><a id="__codelineno-19-3754" name="__codelineno-19-3754" href="#__codelineno-19-3754"></a>        # Used to install CNI.
</span><span id="__span-19-3755"><a id="__codelineno-19-3755" name="__codelineno-19-3755" href="#__codelineno-19-3755"></a>        - name: cni-bin-dir
</span><span id="__span-19-3756"><a id="__codelineno-19-3756" name="__codelineno-19-3756" href="#__codelineno-19-3756"></a>          hostPath:
</span><span id="__span-19-3757"><a id="__codelineno-19-3757" name="__codelineno-19-3757" href="#__codelineno-19-3757"></a>            path: /opt/cni/bin
</span><span id="__span-19-3758"><a id="__codelineno-19-3758" name="__codelineno-19-3758" href="#__codelineno-19-3758"></a>        - name: cni-net-dir
</span><span id="__span-19-3759"><a id="__codelineno-19-3759" name="__codelineno-19-3759" href="#__codelineno-19-3759"></a>          hostPath:
</span><span id="__span-19-3760"><a id="__codelineno-19-3760" name="__codelineno-19-3760" href="#__codelineno-19-3760"></a>            path: /etc/cni/net.d
</span><span id="__span-19-3761"><a id="__codelineno-19-3761" name="__codelineno-19-3761" href="#__codelineno-19-3761"></a>        # Used to access CNI logs.
</span><span id="__span-19-3762"><a id="__codelineno-19-3762" name="__codelineno-19-3762" href="#__codelineno-19-3762"></a>        - name: cni-log-dir
</span><span id="__span-19-3763"><a id="__codelineno-19-3763" name="__codelineno-19-3763" href="#__codelineno-19-3763"></a>          hostPath:
</span><span id="__span-19-3764"><a id="__codelineno-19-3764" name="__codelineno-19-3764" href="#__codelineno-19-3764"></a>            path: /var/log/calico/cni
</span><span id="__span-19-3765"><a id="__codelineno-19-3765" name="__codelineno-19-3765" href="#__codelineno-19-3765"></a>        # Mount in the directory for host-local IPAM allocations. This is
</span><span id="__span-19-3766"><a id="__codelineno-19-3766" name="__codelineno-19-3766" href="#__codelineno-19-3766"></a>        # used when upgrading from host-local to calico-ipam, and can be removed
</span><span id="__span-19-3767"><a id="__codelineno-19-3767" name="__codelineno-19-3767" href="#__codelineno-19-3767"></a>        # if not using the upgrade-ipam init container.
</span><span id="__span-19-3768"><a id="__codelineno-19-3768" name="__codelineno-19-3768" href="#__codelineno-19-3768"></a>        - name: host-local-net-dir
</span><span id="__span-19-3769"><a id="__codelineno-19-3769" name="__codelineno-19-3769" href="#__codelineno-19-3769"></a>          hostPath:
</span><span id="__span-19-3770"><a id="__codelineno-19-3770" name="__codelineno-19-3770" href="#__codelineno-19-3770"></a>            path: /var/lib/cni/networks
</span><span id="__span-19-3771"><a id="__codelineno-19-3771" name="__codelineno-19-3771" href="#__codelineno-19-3771"></a>        # Used to create per-pod Unix Domain Sockets
</span><span id="__span-19-3772"><a id="__codelineno-19-3772" name="__codelineno-19-3772" href="#__codelineno-19-3772"></a>        - name: policysync
</span><span id="__span-19-3773"><a id="__codelineno-19-3773" name="__codelineno-19-3773" href="#__codelineno-19-3773"></a>          hostPath:
</span><span id="__span-19-3774"><a id="__codelineno-19-3774" name="__codelineno-19-3774" href="#__codelineno-19-3774"></a>            type: DirectoryOrCreate
</span><span id="__span-19-3775"><a id="__codelineno-19-3775" name="__codelineno-19-3775" href="#__codelineno-19-3775"></a>            path: /var/run/nodeagent
</span><span id="__span-19-3776"><a id="__codelineno-19-3776" name="__codelineno-19-3776" href="#__codelineno-19-3776"></a>        # Used to install Flex Volume Driver
</span><span id="__span-19-3777"><a id="__codelineno-19-3777" name="__codelineno-19-3777" href="#__codelineno-19-3777"></a>        - name: flexvol-driver-host
</span><span id="__span-19-3778"><a id="__codelineno-19-3778" name="__codelineno-19-3778" href="#__codelineno-19-3778"></a>          hostPath:
</span><span id="__span-19-3779"><a id="__codelineno-19-3779" name="__codelineno-19-3779" href="#__codelineno-19-3779"></a>            type: DirectoryOrCreate
</span><span id="__span-19-3780"><a id="__codelineno-19-3780" name="__codelineno-19-3780" href="#__codelineno-19-3780"></a>            path: /usr/libexec/kubernetes/kubelet-plugins/volume/exec/nodeagent~uds
</span><span id="__span-19-3781"><a id="__codelineno-19-3781" name="__codelineno-19-3781" href="#__codelineno-19-3781"></a>---
</span><span id="__span-19-3782"><a id="__codelineno-19-3782" name="__codelineno-19-3782" href="#__codelineno-19-3782"></a>
</span><span id="__span-19-3783"><a id="__codelineno-19-3783" name="__codelineno-19-3783" href="#__codelineno-19-3783"></a>apiVersion: v1
</span><span id="__span-19-3784"><a id="__codelineno-19-3784" name="__codelineno-19-3784" href="#__codelineno-19-3784"></a>kind: ServiceAccount
</span><span id="__span-19-3785"><a id="__codelineno-19-3785" name="__codelineno-19-3785" href="#__codelineno-19-3785"></a>metadata:
</span><span id="__span-19-3786"><a id="__codelineno-19-3786" name="__codelineno-19-3786" href="#__codelineno-19-3786"></a>  name: calico-node
</span><span id="__span-19-3787"><a id="__codelineno-19-3787" name="__codelineno-19-3787" href="#__codelineno-19-3787"></a>  namespace: kube-system
</span><span id="__span-19-3788"><a id="__codelineno-19-3788" name="__codelineno-19-3788" href="#__codelineno-19-3788"></a>
</span><span id="__span-19-3789"><a id="__codelineno-19-3789" name="__codelineno-19-3789" href="#__codelineno-19-3789"></a>---
</span><span id="__span-19-3790"><a id="__codelineno-19-3790" name="__codelineno-19-3790" href="#__codelineno-19-3790"></a># Source: calico/templates/calico-kube-controllers.yaml
</span><span id="__span-19-3791"><a id="__codelineno-19-3791" name="__codelineno-19-3791" href="#__codelineno-19-3791"></a># See https://github.com/projectcalico/kube-controllers
</span><span id="__span-19-3792"><a id="__codelineno-19-3792" name="__codelineno-19-3792" href="#__codelineno-19-3792"></a>apiVersion: apps/v1
</span><span id="__span-19-3793"><a id="__codelineno-19-3793" name="__codelineno-19-3793" href="#__codelineno-19-3793"></a>kind: Deployment
</span><span id="__span-19-3794"><a id="__codelineno-19-3794" name="__codelineno-19-3794" href="#__codelineno-19-3794"></a>metadata:
</span><span id="__span-19-3795"><a id="__codelineno-19-3795" name="__codelineno-19-3795" href="#__codelineno-19-3795"></a>  name: calico-kube-controllers
</span><span id="__span-19-3796"><a id="__codelineno-19-3796" name="__codelineno-19-3796" href="#__codelineno-19-3796"></a>  namespace: kube-system
</span><span id="__span-19-3797"><a id="__codelineno-19-3797" name="__codelineno-19-3797" href="#__codelineno-19-3797"></a>  labels:
</span><span id="__span-19-3798"><a id="__codelineno-19-3798" name="__codelineno-19-3798" href="#__codelineno-19-3798"></a>    k8s-app: calico-kube-controllers
</span><span id="__span-19-3799"><a id="__codelineno-19-3799" name="__codelineno-19-3799" href="#__codelineno-19-3799"></a>spec:
</span><span id="__span-19-3800"><a id="__codelineno-19-3800" name="__codelineno-19-3800" href="#__codelineno-19-3800"></a>  # The controllers can only have a single active instance.
</span><span id="__span-19-3801"><a id="__codelineno-19-3801" name="__codelineno-19-3801" href="#__codelineno-19-3801"></a>  replicas: 1
</span><span id="__span-19-3802"><a id="__codelineno-19-3802" name="__codelineno-19-3802" href="#__codelineno-19-3802"></a>  selector:
</span><span id="__span-19-3803"><a id="__codelineno-19-3803" name="__codelineno-19-3803" href="#__codelineno-19-3803"></a>    matchLabels:
</span><span id="__span-19-3804"><a id="__codelineno-19-3804" name="__codelineno-19-3804" href="#__codelineno-19-3804"></a>      k8s-app: calico-kube-controllers
</span><span id="__span-19-3805"><a id="__codelineno-19-3805" name="__codelineno-19-3805" href="#__codelineno-19-3805"></a>  strategy:
</span><span id="__span-19-3806"><a id="__codelineno-19-3806" name="__codelineno-19-3806" href="#__codelineno-19-3806"></a>    type: Recreate
</span><span id="__span-19-3807"><a id="__codelineno-19-3807" name="__codelineno-19-3807" href="#__codelineno-19-3807"></a>  template:
</span><span id="__span-19-3808"><a id="__codelineno-19-3808" name="__codelineno-19-3808" href="#__codelineno-19-3808"></a>    metadata:
</span><span id="__span-19-3809"><a id="__codelineno-19-3809" name="__codelineno-19-3809" href="#__codelineno-19-3809"></a>      name: calico-kube-controllers
</span><span id="__span-19-3810"><a id="__codelineno-19-3810" name="__codelineno-19-3810" href="#__codelineno-19-3810"></a>      namespace: kube-system
</span><span id="__span-19-3811"><a id="__codelineno-19-3811" name="__codelineno-19-3811" href="#__codelineno-19-3811"></a>      labels:
</span><span id="__span-19-3812"><a id="__codelineno-19-3812" name="__codelineno-19-3812" href="#__codelineno-19-3812"></a>        k8s-app: calico-kube-controllers
</span><span id="__span-19-3813"><a id="__codelineno-19-3813" name="__codelineno-19-3813" href="#__codelineno-19-3813"></a>    spec:
</span><span id="__span-19-3814"><a id="__codelineno-19-3814" name="__codelineno-19-3814" href="#__codelineno-19-3814"></a>      nodeSelector:
</span><span id="__span-19-3815"><a id="__codelineno-19-3815" name="__codelineno-19-3815" href="#__codelineno-19-3815"></a>        kubernetes.io/os: linux
</span><span id="__span-19-3816"><a id="__codelineno-19-3816" name="__codelineno-19-3816" href="#__codelineno-19-3816"></a>      tolerations:
</span><span id="__span-19-3817"><a id="__codelineno-19-3817" name="__codelineno-19-3817" href="#__codelineno-19-3817"></a>        # Mark the pod as a critical add-on for rescheduling.
</span><span id="__span-19-3818"><a id="__codelineno-19-3818" name="__codelineno-19-3818" href="#__codelineno-19-3818"></a>        - key: CriticalAddonsOnly
</span><span id="__span-19-3819"><a id="__codelineno-19-3819" name="__codelineno-19-3819" href="#__codelineno-19-3819"></a>          operator: Exists
</span><span id="__span-19-3820"><a id="__codelineno-19-3820" name="__codelineno-19-3820" href="#__codelineno-19-3820"></a>        - key: node-role.kubernetes.io/master
</span><span id="__span-19-3821"><a id="__codelineno-19-3821" name="__codelineno-19-3821" href="#__codelineno-19-3821"></a>          effect: NoSchedule
</span><span id="__span-19-3822"><a id="__codelineno-19-3822" name="__codelineno-19-3822" href="#__codelineno-19-3822"></a>      serviceAccountName: calico-kube-controllers
</span><span id="__span-19-3823"><a id="__codelineno-19-3823" name="__codelineno-19-3823" href="#__codelineno-19-3823"></a>      priorityClassName: system-cluster-critical
</span><span id="__span-19-3824"><a id="__codelineno-19-3824" name="__codelineno-19-3824" href="#__codelineno-19-3824"></a>      containers:
</span><span id="__span-19-3825"><a id="__codelineno-19-3825" name="__codelineno-19-3825" href="#__codelineno-19-3825"></a>        - name: calico-kube-controllers
</span><span id="__span-19-3826"><a id="__codelineno-19-3826" name="__codelineno-19-3826" href="#__codelineno-19-3826"></a>          image: docker.io/calico/kube-controllers:v3.18.0
</span><span id="__span-19-3827"><a id="__codelineno-19-3827" name="__codelineno-19-3827" href="#__codelineno-19-3827"></a>          env:
</span><span id="__span-19-3828"><a id="__codelineno-19-3828" name="__codelineno-19-3828" href="#__codelineno-19-3828"></a>            # Choose which controllers to run.
</span><span id="__span-19-3829"><a id="__codelineno-19-3829" name="__codelineno-19-3829" href="#__codelineno-19-3829"></a>            - name: ENABLED_CONTROLLERS
</span><span id="__span-19-3830"><a id="__codelineno-19-3830" name="__codelineno-19-3830" href="#__codelineno-19-3830"></a>              value: node
</span><span id="__span-19-3831"><a id="__codelineno-19-3831" name="__codelineno-19-3831" href="#__codelineno-19-3831"></a>            - name: DATASTORE_TYPE
</span><span id="__span-19-3832"><a id="__codelineno-19-3832" name="__codelineno-19-3832" href="#__codelineno-19-3832"></a>              value: kubernetes
</span><span id="__span-19-3833"><a id="__codelineno-19-3833" name="__codelineno-19-3833" href="#__codelineno-19-3833"></a>          readinessProbe:
</span><span id="__span-19-3834"><a id="__codelineno-19-3834" name="__codelineno-19-3834" href="#__codelineno-19-3834"></a>            exec:
</span><span id="__span-19-3835"><a id="__codelineno-19-3835" name="__codelineno-19-3835" href="#__codelineno-19-3835"></a>              command:
</span><span id="__span-19-3836"><a id="__codelineno-19-3836" name="__codelineno-19-3836" href="#__codelineno-19-3836"></a>              - /usr/bin/check-status
</span><span id="__span-19-3837"><a id="__codelineno-19-3837" name="__codelineno-19-3837" href="#__codelineno-19-3837"></a>              - -r
</span><span id="__span-19-3838"><a id="__codelineno-19-3838" name="__codelineno-19-3838" href="#__codelineno-19-3838"></a>
</span><span id="__span-19-3839"><a id="__codelineno-19-3839" name="__codelineno-19-3839" href="#__codelineno-19-3839"></a>---
</span><span id="__span-19-3840"><a id="__codelineno-19-3840" name="__codelineno-19-3840" href="#__codelineno-19-3840"></a>
</span><span id="__span-19-3841"><a id="__codelineno-19-3841" name="__codelineno-19-3841" href="#__codelineno-19-3841"></a>apiVersion: v1
</span><span id="__span-19-3842"><a id="__codelineno-19-3842" name="__codelineno-19-3842" href="#__codelineno-19-3842"></a>kind: ServiceAccount
</span><span id="__span-19-3843"><a id="__codelineno-19-3843" name="__codelineno-19-3843" href="#__codelineno-19-3843"></a>metadata:
</span><span id="__span-19-3844"><a id="__codelineno-19-3844" name="__codelineno-19-3844" href="#__codelineno-19-3844"></a>  name: calico-kube-controllers
</span><span id="__span-19-3845"><a id="__codelineno-19-3845" name="__codelineno-19-3845" href="#__codelineno-19-3845"></a>  namespace: kube-system
</span><span id="__span-19-3846"><a id="__codelineno-19-3846" name="__codelineno-19-3846" href="#__codelineno-19-3846"></a>
</span><span id="__span-19-3847"><a id="__codelineno-19-3847" name="__codelineno-19-3847" href="#__codelineno-19-3847"></a>---
</span><span id="__span-19-3848"><a id="__codelineno-19-3848" name="__codelineno-19-3848" href="#__codelineno-19-3848"></a>
</span><span id="__span-19-3849"><a id="__codelineno-19-3849" name="__codelineno-19-3849" href="#__codelineno-19-3849"></a># This manifest creates a Pod Disruption Budget for Controller to allow K8s Cluster Autoscaler to evict
</span><span id="__span-19-3850"><a id="__codelineno-19-3850" name="__codelineno-19-3850" href="#__codelineno-19-3850"></a>
</span><span id="__span-19-3851"><a id="__codelineno-19-3851" name="__codelineno-19-3851" href="#__codelineno-19-3851"></a>apiVersion: policy/v1beta1
</span><span id="__span-19-3852"><a id="__codelineno-19-3852" name="__codelineno-19-3852" href="#__codelineno-19-3852"></a>kind: PodDisruptionBudget
</span><span id="__span-19-3853"><a id="__codelineno-19-3853" name="__codelineno-19-3853" href="#__codelineno-19-3853"></a>metadata:
</span><span id="__span-19-3854"><a id="__codelineno-19-3854" name="__codelineno-19-3854" href="#__codelineno-19-3854"></a>  name: calico-kube-controllers
</span><span id="__span-19-3855"><a id="__codelineno-19-3855" name="__codelineno-19-3855" href="#__codelineno-19-3855"></a>  namespace: kube-system
</span><span id="__span-19-3856"><a id="__codelineno-19-3856" name="__codelineno-19-3856" href="#__codelineno-19-3856"></a>  labels:
</span><span id="__span-19-3857"><a id="__codelineno-19-3857" name="__codelineno-19-3857" href="#__codelineno-19-3857"></a>    k8s-app: calico-kube-controllers
</span><span id="__span-19-3858"><a id="__codelineno-19-3858" name="__codelineno-19-3858" href="#__codelineno-19-3858"></a>spec:
</span><span id="__span-19-3859"><a id="__codelineno-19-3859" name="__codelineno-19-3859" href="#__codelineno-19-3859"></a>  maxUnavailable: 1
</span><span id="__span-19-3860"><a id="__codelineno-19-3860" name="__codelineno-19-3860" href="#__codelineno-19-3860"></a>  selector:
</span><span id="__span-19-3861"><a id="__codelineno-19-3861" name="__codelineno-19-3861" href="#__codelineno-19-3861"></a>    matchLabels:
</span><span id="__span-19-3862"><a id="__codelineno-19-3862" name="__codelineno-19-3862" href="#__codelineno-19-3862"></a>      k8s-app: calico-kube-controllers
</span><span id="__span-19-3863"><a id="__codelineno-19-3863" name="__codelineno-19-3863" href="#__codelineno-19-3863"></a>
</span><span id="__span-19-3864"><a id="__codelineno-19-3864" name="__codelineno-19-3864" href="#__codelineno-19-3864"></a>---
</span><span id="__span-19-3865"><a id="__codelineno-19-3865" name="__codelineno-19-3865" href="#__codelineno-19-3865"></a># Source: calico/templates/calico-etcd-secrets.yaml
</span><span id="__span-19-3866"><a id="__codelineno-19-3866" name="__codelineno-19-3866" href="#__codelineno-19-3866"></a>
</span><span id="__span-19-3867"><a id="__codelineno-19-3867" name="__codelineno-19-3867" href="#__codelineno-19-3867"></a>---
</span><span id="__span-19-3868"><a id="__codelineno-19-3868" name="__codelineno-19-3868" href="#__codelineno-19-3868"></a># Source: calico/templates/calico-typha.yaml
</span><span id="__span-19-3869"><a id="__codelineno-19-3869" name="__codelineno-19-3869" href="#__codelineno-19-3869"></a>
</span><span id="__span-19-3870"><a id="__codelineno-19-3870" name="__codelineno-19-3870" href="#__codelineno-19-3870"></a>---
</span><span id="__span-19-3871"><a id="__codelineno-19-3871" name="__codelineno-19-3871" href="#__codelineno-19-3871"></a># Source: calico/templates/configure-canal.yaml
</span></code></pre></div>
<p>需要注意的是，安装的 Kubernetes 版本都有对应版本的 calico.yaml 文件，不同的版本可能因为 api 变化而无法使用</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>kubectl apply -f  calico.yaml
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>kubectl get pod -n kube-system
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>kubectl get nodes # 这次都 ready 才是正常的
</span></code></pre></div>
<h3 id="测试网络">测试网络<a class="headerlink" href="#测试网络" title="Anchor link to this section for reference">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>docker image pull busybox:1.28
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>kubectl run busybox --image busybox:1.28 --restart=Never --rm -it busybox -- sh
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a># 进到容器之后
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>ping jd.com # 要能够 ping 通
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>nslookup kubernetes.default.svc.cluster.local # 能够解析才能说明 coredns 正常，busybox要用指定的1.28版本，不能用最新版本，最新版本，nslookup会解析不到dns和ip
</span></code></pre></div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../012/" class="md-footer__link md-footer__link--prev" aria-label="上一页: 第十一章 k8s入门篇：架构-组件-核心资源">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                第十一章 k8s入门篇：架构-组件-核心资源
              </div>
            </div>
          </a>
        
        
          
          <a href="../014/" class="md-footer__link md-footer__link--next" aria-label="下一页: 第十六章 pod基础篇：入门知识讲解">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                第十六章 pod基础篇：入门知识讲解
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2024-06-26 <a href="ttps://github.com/aoozoo/blog"  target="_blank" rel="noopener">aoozoo</a>
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="hhttps://github.com/aoozoo" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="hhttps://github.com/aoozoo" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/aoozoo" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy", "navigation.instant", "navigation.expand", "navigation.tabs", "navigation.tabs.sticky", "navigation.path", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.tracking", "navigation.prune", "navigation.indexes", "navigation.top", "navigation.footer", "toc.follow", "search.suggest", "search.highlight", "search.share", "content.tabs.link", "content.code.annotation", "header.autohide", "announce.dismiss"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>